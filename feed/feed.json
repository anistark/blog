{
  "version": "https://jsonfeed.org/version/1",
  "title": "AniLog",
  "home_page_url": "https://blog.anirudha.dev",
  "feed_url": "https://blog.anirudha.dev/feed/feed.json",
  "description": "Kumar Anirudha&#39;s personal blog",
  "author": {
    "name": "Kumar Anirudha",
    "url": "https://blog.anirudha.dev"
  },
  "items": [{
      "id": "https://blog.anirudha.dev/skills-agents-and-sutras/",
      "url": "https://blog.anirudha.dev/skills-agents-and-sutras/",
      "title": "Skills, Agents, and the Missing Middle",
      "content_html": "<p>If you‚Äôve been building with LLMs for a while, you‚Äôve probably built an agent at some point.</p>\n<p>You give the model a role. You add a few tools. You maybe throw in memory, some planning logic, and a carefully tuned system prompt. It works. Until it doesn‚Äôt. And when it doesn‚Äôt, it‚Äôs usually hard to explain why.</p>\n<p>At first, it‚Äôs tempting to blame the model. Or the prompt. Or the framework. But after building a few of these systems, a pattern starts to emerge: the problem isn‚Äôt reasoning, it‚Äôs structure.</p>\n<h2 id=\"what-we-actually-mean-by-%E2%80%9Cskills%E2%80%9D\" tabindex=\"-1\">What We Actually Mean by ‚ÄúSkills‚Äù</h2>\n<p>When we talk about agent skills, we usually mean something very intuitive. A skill is something an agent can do. Search, summarize, classify, judge, decide, extract. These are the building blocks agents rely on to interact with the world.</p>\n<p>In practice, though, most skills today don‚Äôt really exist as things of their own. They‚Äôre embedded inside prompts, scattered across tool wrappers, or tightly coupled to a specific agent loop. They‚Äôre hard to see, harder to test in isolation, and almost impossible to reuse cleanly.</p>\n<p>We call them skills, but they behave more like side effects of prompt engineering.</p>\n<p>Agents get most of the attention, but agents are mostly coordination. They decide what to do next and which capability to invoke. The actual behavior. The thing that produces correct or incorrect outcomes, lives inside the skills themselves.</p>\n<p>If a skill is unreliable, the agent will be unreliable. If a skill improves, the entire system improves. Skills are the smallest unit of intelligence that actually moves the needle.</p>\n<p>That suggests something important. If we want better agent systems, we need to take skills seriously as first-class artifacts. We need to be able to define them clearly, run them independently, measure how they behave, improve them over time, and reuse them across agents.</p>\n<p>That‚Äôs still surprisingly rare.</p>\n<p><a href=\"https://www.anthropic.com/engineering/equipping-agents-for-the-real-world-with-agent-skills\">Read more: Equipping Agents for the Real World with Agent Skills</a></p>\n<p>One of the more promising directions here is the work around <strong>Agent Skills</strong>, particularly the way Anthropic has framed them. Treating skills as explicit, discoverable units instead of implicit prompt logic is a big step forward. It gives us a shared vocabulary and a starting point for interoperability.</p>\n<p>But a specification alone isn‚Äôt enough. Knowing what a skill is doesn‚Äôt automatically tell you how to build one well, how to test it, or how to evolve it without breaking everything downstream.</p>\n<p>This is where most real-world systems start to struggle. Most issues with agent systems aren‚Äôt caused by missing tools or clever reasoning tricks. They come from unmanaged skill lifecycle.</p>\n<p>A skill gets tweaked. Something improves somewhere else. A regression sneaks in. No one knows which change caused it or why. Over time, skills accumulate complexity, but there‚Äôs no clear boundary where you can stop, inspect, and say: ‚ÄúThis thing works, and here‚Äôs how we know.‚Äù</p>\n<p>Without that boundary, iteration becomes guesswork.</p>\n<h2 id=\"introducing-sutras\" tabindex=\"-1\">Introducing Sutras</h2>\n<p><a href=\"https://github.com/anistark/sutras\">View Sutras on GitHub</a></p>\n<p>This is the gap <strong>Sutras</strong> is trying to fill.</p>\n<p>Sutras help build skills which are a concise, structured, executable unit of capability. It has a clear interface. It can be run on its own. Its behavior can be measured. And it has a lifecycle that doesn‚Äôt depend on a specific agent or framework.</p>\n<p>Sutras builds on the emerging agent skill model, but shifts the focus to everything that happens around invocation: authoring, validation, evaluation, iteration, versioning, and distribution. The goal isn‚Äôt to replace agent frameworks or invent a new abstraction. It‚Äôs to give skills a proper car to drive to your agent home.</p>\n<p>Once skills become explicit artifacts, a few things get easier. Agents become simpler because they don‚Äôt need to carry so much hidden logic. Failures become easier to reason about because you can isolate behavior. Reuse stops being an afterthought.</p>\n<p>Agents decide what to do. Sutras define what can be done. More about how Sutras work and it‚Äôs capabilities in the next article. ü´∂</p>\n<p>That separation doesn‚Äôt solve every problem, but it turns a messy prompt-driven system into something closer to software you can reason about.</p>\n<h2 id=\"what%E2%80%99s-next\" tabindex=\"-1\">What‚Äôs Next</h2>\n<p>Skills are still early. The current focus is on getting the foundations right: aligning with emerging skill standards, keeping the model small, and making lifecycle discipline the default instead of an afterthought. Anthropic suggests to segregate skills in 3 main categories, but I guess we‚Äôll see how it evolves.</p>\n<p>There‚Äôs a lot more to explore, from richer evaluation loops to better ways of sharing and composing skills. None of that should be designed in isolation.</p>\n<p>If you‚Äôve ever felt that skills deserve more structure than they get today, you‚Äôre already thinking along the same lines. Sutras is an attempt to turn that instinct into something concrete, and it‚Äôs very much a work in progress.</p>\n<p>More to come, and if this resonates, the best way to shape it is together with the community. Let me what you think about it. Open an issue to request a feature or maybe just leave us a star. üôå</p>\n",
      "date_published": "2026-01-09T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/building-ai-tools-you-can-trust/",
      "url": "https://blog.anirudha.dev/building-ai-tools-you-can-trust/",
      "title": "Building AI Tools You Can Trust",
      "content_html": "<p>You want to build an AI application. Something useful. Something your users can rely on.</p>\n<p>But here‚Äôs the problem: <strong>How do you know it‚Äôs actually good?</strong></p>\n<p>You can build an app that generates summaries, answers questions, or writes emails. It works. Your tests pass. But is it <em>reliable</em>? Does it hallucinate? Does it miss important information? Is it actually trustworthy?</p>\n<p>The philosophy is simple:</p>\n<blockquote>\n<p>You can‚Äôt improve what you don‚Äôt measure.</p>\n</blockquote>\n<p>Let me paint a realistic scenario:</p>\n<p>You‚Äôve built a summarization app. Users love the interface. The summaries look great. But then:</p>\n<ul>\n<li>\n<p>A news outlet tries your app and finds the summary omits a crucial financial number</p>\n</li>\n<li>\n<p>A researcher uses it and discovers the summary makes a claim that‚Äôs not in the original paper</p>\n</li>\n<li>\n<p>A student uses it and the summary misrepresents the nuance of the source material</p>\n</li>\n</ul>\n<p>Sound familiar? This happens <strong>all the time</strong> in full-stack AI apps because people build features without measuring quality.</p>\n<p>The difference between a hobby project and a professional tool is this: <strong>Professional tools measure themselves.</strong></p>\n<h2 id=\"our-journey%3A-building-a-trustworthy-summarization-tool\" tabindex=\"-1\">Our Journey: Building a Trustworthy Summarization Tool</h2>\n<p>Let‚Äôs start üöÄ</p>\n<p>If you want to follow along, here the <a href=\"https://github.com/anistark/ai-summarisation\">repo</a>. There‚Äôs also a notebook which has everything I‚Äôll be covering in this article.</p>\n<h3 id=\"run-in-google-colab\" tabindex=\"-1\">Run in Google Colab</h3>\n<p><strong>No installation. No setup. Just click and start:</strong></p>\n<p><a href=\"https://colab.research.google.com/github/anistark/ai-summarisation/blob/main/summarisation_demo.ipynb\"><img src=\"https://colab.research.google.com/assets/colab-badge.svg\" alt=\"Open In Colab\"></a></p>\n<p><strong>Quick start:</strong></p>\n<ol>\n<li>\n<p>Click the button above</p>\n</li>\n<li>\n<p>Run the first cell (installs dependencies)</p>\n</li>\n<li>\n<p>Add your OpenAI API key to Colab Secrets (click üîë icon)</p>\n</li>\n<li>\n<p>Run the remaining cells</p>\n</li>\n<li>\n<p>See your evaluation scores</p>\n</li>\n<li>\n<p>Experiment with optimization strategies</p>\n</li>\n</ol>\n<h3 id=\"%F0%9F%8F%A0-run-locally\" tabindex=\"-1\">üè† Run Locally</h3>\n<pre class=\"language-sh\"><code class=\"language-sh\"><span class=\"token function\">git</span> clone https://github.com/anistark/ai-summarisation.git<br><span class=\"token builtin class-name\">cd</span> ai-summarisation<br>uv <span class=\"token function\">sync</span><br>jupyter notebook summarisation_demo.ipynb</code></pre>\n<p>Then follow the cells to:</p>\n<ul>\n<li>\n<p>Generate summaries</p>\n</li>\n<li>\n<p>Run evaluations</p>\n</li>\n<li>\n<p>Compare strategies</p>\n</li>\n<li>\n<p>Understand your metrics</p>\n</li>\n</ul>\n<h3 id=\"step-1%3A-setting-up\" tabindex=\"-1\">Step 1: Setting Up</h3>\n<p>First, install the dependencies:</p>\n<pre class=\"language-python\"><code class=\"language-python\">pip install ragas<span class=\"token operator\">==</span><span class=\"token number\">0.3</span><span class=\"token number\">.9</span> langchain<span class=\"token operator\">-</span>openai langchain<span class=\"token operator\">-</span>core python<span class=\"token operator\">-</span>dotenv</code></pre>\n<p>These packages give us:</p>\n<ul>\n<li>\n<p><strong>ragas</strong> - The evaluation framework</p>\n</li>\n<li>\n<p><strong>langchain-openai</strong> - Access to GPT models</p>\n</li>\n<li>\n<p><strong>python-dotenv</strong> - Manage API keys safely</p>\n</li>\n</ul>\n<p>Now let‚Äôs initialize everything:</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> os<br><span class=\"token keyword\">import</span> asyncio<br><span class=\"token keyword\">from</span> typing <span class=\"token keyword\">import</span> Optional<br><span class=\"token keyword\">from</span> dotenv <span class=\"token keyword\">import</span> load_dotenv<br><br><span class=\"token comment\"># Load environment variables</span><br>load_dotenv<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>api_key <span class=\"token operator\">=</span> os<span class=\"token punctuation\">.</span>environ<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">\"OPENAI_API_KEY\"</span><span class=\"token punctuation\">)</span><br>llm_model <span class=\"token operator\">=</span> os<span class=\"token punctuation\">.</span>environ<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">\"LLM_MODEL\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"gpt-4o-mini\"</span><span class=\"token punctuation\">)</span><br><br><span class=\"token comment\"># Initialize OpenAI client</span><br><span class=\"token keyword\">from</span> openai <span class=\"token keyword\">import</span> AsyncOpenAI<br>client <span class=\"token operator\">=</span> AsyncOpenAI<span class=\"token punctuation\">(</span>api_key<span class=\"token operator\">=</span>api_key<span class=\"token punctuation\">)</span><br><br><span class=\"token comment\"># Setup RAGAS for evaluation</span><br><span class=\"token keyword\">from</span> ragas<span class=\"token punctuation\">.</span>llms <span class=\"token keyword\">import</span> llm_factory<br><span class=\"token keyword\">from</span> ragas<span class=\"token punctuation\">.</span>metrics<span class=\"token punctuation\">.</span>collections <span class=\"token keyword\">import</span> SummaryScore<span class=\"token punctuation\">,</span> Faithfulness<br><br>llm <span class=\"token operator\">=</span> llm_factory<span class=\"token punctuation\">(</span>llm_model<span class=\"token punctuation\">,</span> client<span class=\"token operator\">=</span>client<span class=\"token punctuation\">)</span><br><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"‚úÖ Setup complete!\"</span><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"step-2%3A-load-an-article\" tabindex=\"-1\">Step 2: Load an Article</h3>\n<p>Let‚Äôs load some content to summarize:</p>\n<pre class=\"language-python\"><code class=\"language-python\">article <span class=\"token operator\">=</span> <span class=\"token triple-quoted-string string\">\"\"\"<br>Apple announced on Tuesday that it will invest $1 billion in new AI research centers<br>across the United States over the next five years. The company plans to hire 500 new<br>researchers and engineers specifically for AI development. CEO Tim Cook stated that<br>artificial intelligence is central to the company's future product strategy. The investment<br>will focus on areas like natural language processing, computer vision, and machine learning<br>efficiency. Apple will establish research hubs in San Francisco, Boston, and Seattle.<br>The company already employs over 10,000 AI researchers globally.<br>\"\"\"</span><br><br><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"üì∞ Article: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>article<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token string\"> words\"</span></span><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"step-3%3A-generate-a-summary\" tabindex=\"-1\">Step 3: Generate a Summary</h3>\n<p>Now let‚Äôs actually summarize it using an LLM:</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> langchain_openai <span class=\"token keyword\">import</span> ChatOpenAI<br><span class=\"token keyword\">from</span> langchain_core<span class=\"token punctuation\">.</span>prompts <span class=\"token keyword\">import</span> PromptTemplate<br><br><span class=\"token comment\"># Initialize the summarizer</span><br>summarizer <span class=\"token operator\">=</span> ChatOpenAI<span class=\"token punctuation\">(</span>model<span class=\"token operator\">=</span><span class=\"token string\">\"gpt-3.5-turbo\"</span><span class=\"token punctuation\">,</span> temperature<span class=\"token operator\">=</span><span class=\"token number\">0.3</span><span class=\"token punctuation\">)</span><br><br><span class=\"token comment\"># Create a prompt</span><br>summarization_prompt <span class=\"token operator\">=</span> PromptTemplate<span class=\"token punctuation\">(</span><br>    input_variables<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"text\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>    template<span class=\"token operator\">=</span><span class=\"token triple-quoted-string string\">\"\"\"Summarize the following text in 2-3 sentences.<br>Focus on the main points and key details.<br><br>Text:<br>{text}<br><br>Summary:\"\"\"</span><br><span class=\"token punctuation\">)</span><br><br><span class=\"token comment\"># Generate the summary</span><br>chain <span class=\"token operator\">=</span> summarization_prompt <span class=\"token operator\">|</span> summarizer<br>response <span class=\"token operator\">=</span> chain<span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"text\"</span><span class=\"token punctuation\">:</span> article<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><br>generated_summary <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br><br><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"‚úçÔ∏è Generated Summary:\"</span><span class=\"token punctuation\">)</span><br><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>generated_summary<span class=\"token punctuation\">)</span></code></pre>\n<p>This gives us something like:</p>\n<blockquote>\n<p><em>‚ÄúApple is investing $1 billion in AI research over five years, planning to hire 500 researchers across three US cities. The investment focuses on natural language processing, computer vision, and machine learning efficiency.‚Äù</em></p>\n</blockquote>\n<p>Looks good, right? But <strong>is it actually good?</strong> That‚Äôs the question.</p>\n<p>This is where things get interesting.</p>\n<p>Instead of relying on intuition, we‚Äôre going to measure the summary using objective metrics.</p>\n<h3 id=\"understanding-metric-%231%3A-summary-score\" tabindex=\"-1\">Understanding Metric #1: Summary Score</h3>\n<p><strong>What it measures:</strong> Does your summary capture the important information from the source?</p>\n<p><strong>How it works:</strong></p>\n<ol>\n<li>\n<p>RAGAS extracts key phrases from the original article</p>\n</li>\n<li>\n<p>It generates questions about those key phrases</p>\n</li>\n<li>\n<p>It checks if your summary answers those questions</p>\n</li>\n<li>\n<p>The score is the percentage of questions answered correctly</p>\n</li>\n</ol>\n<p><strong>Why this matters:</strong> You could have a summary that sounds good but actually misses critical details. If the original article mentions ‚Äú$1 billion‚Äù and your summary skips it, the Summary Score will reflect that loss.</p>\n<p><strong>What the scores mean:</strong></p>\n<ul>\n<li>\n<p><strong>0.8-1.0</strong> ‚úÖ Excellent - You‚Äôve captured essential information</p>\n</li>\n<li>\n<p><strong>0.6-0.8</strong> ‚úÖ Good - Main points are present</p>\n</li>\n<li>\n<p><strong>0.4-0.6</strong> ‚ö†Ô∏è Fair - Missing important details</p>\n</li>\n<li>\n<p><strong>&lt;0.4</strong> ‚ùå Poor - Significant information loss</p>\n</li>\n</ul>\n<p><strong>Example:</strong></p>\n<pre class=\"language-bash\"><code class=\"language-bash\">Original: <span class=\"token string\">\"Company investing <span class=\"token variable\">$1B</span>, hiring 500 people, 3 locations\"</span><br>Bad Summary: <span class=\"token string\">\"Company investing in AI\"</span><br>Result: Summary Score drops because numbers are missing</code></pre>\n<h3 id=\"understanding-metric-%232%3A-faithfulness\" tabindex=\"-1\">Understanding Metric #2: Faithfulness</h3>\n<p><strong>What it measures:</strong> Is your summary making stuff up? Is it hallucinating?</p>\n<p><strong>How it works:</strong></p>\n<ol>\n<li>\n<p>RAGAS breaks down the summary into individual claims</p>\n</li>\n<li>\n<p>For each claim, it checks: ‚ÄúIs this claim supported by the source?‚Äù</p>\n</li>\n<li>\n<p>It flags claims that don‚Äôt appear in the original text</p>\n</li>\n<li>\n<p>The score is the percentage of claims that are grounded in the source</p>\n</li>\n</ol>\n<p><strong>Why this matters:</strong> A hallucinated fact is worse than a missing fact. If your summary invents information, you‚Äôre not just losing accuracy, you‚Äôre actively spreading misinformation.</p>\n<p><strong>What the scores mean:</strong></p>\n<ul>\n<li>\n<p><strong>0.9-1.0</strong> ‚úÖ Excellent - Fully grounded, no hallucinations</p>\n</li>\n<li>\n<p><strong>0.7-0.9</strong> ‚úÖ Good - Mostly accurate</p>\n</li>\n<li>\n<p><strong>0.5-0.7</strong> ‚ö†Ô∏è Fair - Some ungrounded claims</p>\n</li>\n<li>\n<p><strong>&lt;0.5</strong> ‚ùå Poor - Contains hallucinations</p>\n</li>\n</ul>\n<p><strong>Example:</strong></p>\n<pre class=\"language-bash\"><code class=\"language-bash\">Original: <span class=\"token string\">\"Apple invests in AI research\"</span><br>Bad Summary: <span class=\"token string\">\"Apple is developing self-driving cars and robots\"</span><br>Result: Faithfulness drops because those claims aren't <span class=\"token keyword\">in</span> the <span class=\"token builtin class-name\">source</span></code></pre>\n<h3 id=\"choosing-your-metrics%3A-not-all-use-cases-are-the-same\" tabindex=\"-1\">Choosing Your Metrics: Not All Use Cases Are the Same</h3>\n<p>Different applications need different priorities:</p>\n<table>\n<thead>\n<tr>\n<th>Use Case</th>\n<th>Summary Score</th>\n<th>Faithfulness</th>\n<th>Why?</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>News articles</strong></td>\n<td>30% weight</td>\n<td><strong>70% weight</strong></td>\n<td>Accuracy is everything. Missing a detail is okay if what‚Äôs there is true.</td>\n</tr>\n<tr>\n<td><strong>Research papers</strong></td>\n<td><strong>70% weight</strong></td>\n<td>30% weight</td>\n<td>Completeness matters. You need the findings. Hallucination is bad but rarer in structured text.</td>\n</tr>\n<tr>\n<td><strong>Financial reports</strong></td>\n<td>40% weight</td>\n<td><strong>60% weight</strong></td>\n<td>One false number can cost millions. Accuracy &gt; completeness.</td>\n</tr>\n<tr>\n<td><strong>Learning materials</strong></td>\n<td><strong>50% weight</strong></td>\n<td>50% weight</td>\n<td>Students need both complete AND accurate summaries.</td>\n</tr>\n<tr>\n<td><strong>Social media</strong></td>\n<td><strong>80% weight</strong></td>\n<td>20% weight</td>\n<td>Engagement and quick takeaway. Perfection isn‚Äôt necessary.</td>\n</tr>\n</tbody>\n</table>\n<p>The key: <strong>Decide your priorities before you build.</strong></p>\n<p>Now let‚Äôs actually measure our summary:</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># Initialize the evaluation metrics</span><br>summary_score_metric <span class=\"token operator\">=</span> SummaryScore<span class=\"token punctuation\">(</span>llm<span class=\"token operator\">=</span>llm<span class=\"token punctuation\">)</span><br>faithfulness_metric <span class=\"token operator\">=</span> Faithfulness<span class=\"token punctuation\">(</span>llm<span class=\"token operator\">=</span>llm<span class=\"token punctuation\">)</span><br><br><span class=\"token keyword\">async</span> <span class=\"token keyword\">def</span> <span class=\"token function\">evaluate_summary</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>    <span class=\"token triple-quoted-string string\">\"\"\"Evaluate the summary I just created\"\"\"</span><br>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"üîç Evaluating summary...\\n\"</span><span class=\"token punctuation\">)</span><br><br>    <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span><br>        <span class=\"token comment\"># Metric 1: Summary Score</span><br>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"‚è≥ Computing Summary Score...\"</span><span class=\"token punctuation\">)</span><br>        summary_result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> summary_score_metric<span class=\"token punctuation\">.</span>ascore<span class=\"token punctuation\">(</span><br>            reference_contexts<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>article<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\"># The original article</span><br>            response<span class=\"token operator\">=</span>generated_summary      <span class=\"token comment\"># Our summary</span><br>        <span class=\"token punctuation\">)</span><br>        summary_score <span class=\"token operator\">=</span> <span class=\"token builtin\">float</span><span class=\"token punctuation\">(</span>summary_result<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><br>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"   ‚úÖ Summary Score: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>summary_score<span class=\"token punctuation\">:</span><span class=\"token format-spec\">.3f</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span><br>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"      Captures </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>summary_score<span class=\"token operator\">*</span><span class=\"token number\">100</span><span class=\"token punctuation\">:</span><span class=\"token format-spec\">.0f</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">% of key information\\n\"</span></span><span class=\"token punctuation\">)</span><br><br>        <span class=\"token comment\"># Metric 2: Faithfulness</span><br>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"‚è≥ Computing Faithfulness...\"</span><span class=\"token punctuation\">)</span><br>        faithfulness_result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> faithfulness_metric<span class=\"token punctuation\">.</span>ascore<span class=\"token punctuation\">(</span><br>            user_input<span class=\"token operator\">=</span>article<span class=\"token punctuation\">,</span><br>            response<span class=\"token operator\">=</span>generated_summary<span class=\"token punctuation\">,</span><br>            retrieved_contexts<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>article<span class=\"token punctuation\">]</span><br>        <span class=\"token punctuation\">)</span><br>        faithfulness <span class=\"token operator\">=</span> <span class=\"token builtin\">float</span><span class=\"token punctuation\">(</span>faithfulness_result<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><br>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"   ‚úÖ Faithfulness: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>faithfulness<span class=\"token punctuation\">:</span><span class=\"token format-spec\">.3f</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span><br>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"      </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>faithfulness<span class=\"token operator\">*</span><span class=\"token number\">100</span><span class=\"token punctuation\">:</span><span class=\"token format-spec\">.0f</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">% of claims are grounded in source\\n\"</span></span><span class=\"token punctuation\">)</span><br><br>        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><br>            <span class=\"token string\">\"summary_score\"</span><span class=\"token punctuation\">:</span> summary_score<span class=\"token punctuation\">,</span><br>            <span class=\"token string\">\"faithfulness\"</span><span class=\"token punctuation\">:</span> faithfulness<span class=\"token punctuation\">,</span><br>        <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">except</span> Exception <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span><br>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"‚ùå Error: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>e<span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span><br>        <span class=\"token keyword\">return</span> <span class=\"token boolean\">None</span><br><br><span class=\"token comment\"># Run the evaluation</span><br>results <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> evaluate_summary<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Here‚Äôs what just happened:</p>\n<ol>\n<li>\n<p>You sent your summary to an LLM evaluator</p>\n</li>\n<li>\n<p>The evaluator analyzed it against the original article</p>\n</li>\n<li>\n<p>You got objective scores that tell you exactly how good your summary is</p>\n</li>\n<li>\n<p>You now have <strong>data</strong> instead of vibes</p>\n</li>\n</ol>\n<p>This is the difference between guessing and knowing.</p>\n<p><img src=\"/images/posts/bb430dbe-f047-43f7-aa5e-9eeb8e5e9502.png\" alt=\"\"></p>\n<p>Here, we got a good score on faithfulness. However summary score says it‚Äôs got lots of room for improvement.</p>\n<p>The beauty of having metrics is that you can <strong>test different approaches</strong> and see which works best:</p>\n<h3 id=\"strategy-1%3A-longer-summaries\" tabindex=\"-1\">Strategy 1: Longer Summaries</h3>\n<p>Maybe 2-3 sentences isn‚Äôt enough. Let‚Äôs try 5-7:</p>\n<pre class=\"language-python\"><code class=\"language-python\">longer_prompt <span class=\"token operator\">=</span> PromptTemplate<span class=\"token punctuation\">(</span><br>    input_variables<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"text\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>    template<span class=\"token operator\">=</span><span class=\"token triple-quoted-string string\">\"\"\"Summarize the following text in 5-7 sentences.<br>Capture all key points, numbers, and important details.<br><br>Text:<br>{text}<br><br>Summary:\"\"\"</span><br><span class=\"token punctuation\">)</span><br><br>chain <span class=\"token operator\">=</span> longer_prompt <span class=\"token operator\">|</span> summarizer<br>longer_summary <span class=\"token operator\">=</span> chain<span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"text\"</span><span class=\"token punctuation\">:</span> article<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre>\n<p><strong>Trade-off:</strong> Longer summaries usually score higher on Summary Score (more information), but you lose compression and some readers might not read it all.</p>\n<h3 id=\"strategy-2%3A-structured-prompt\" tabindex=\"-1\">Strategy 2: Structured Prompt</h3>\n<p>Guide the LLM to focus on specific aspects:</p>\n<pre class=\"language-python\"><code class=\"language-python\">structured_prompt <span class=\"token operator\">=</span> PromptTemplate<span class=\"token punctuation\">(</span><br>    input_variables<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"text\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>    template<span class=\"token operator\">=</span><span class=\"token triple-quoted-string string\">\"\"\"Summarize focusing on:<br>- WHAT (the action/announcement)<br>- WHY (the reason/motivation)<br>- WHERE (locations involved)<br>- HOW MUCH (numbers and scale)<br>- WHO (the organization)<br><br>Text:<br>{text}<br><br>Summary:\"\"\"</span><br><span class=\"token punctuation\">)</span><br><br>chain <span class=\"token operator\">=</span> structured_prompt <span class=\"token operator\">|</span> summarizer<br>structured_summary <span class=\"token operator\">=</span> chain<span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"text\"</span><span class=\"token punctuation\">:</span> article<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre>\n<p><strong>Why it works:</strong> By explicitly asking for key details, the LLM is less likely to skip them.</p>\n<h3 id=\"strategy-3%3A-bullet-points\" tabindex=\"-1\">Strategy 3: Bullet Points</h3>\n<p>Sometimes format matters:</p>\n<pre class=\"language-python\"><code class=\"language-python\">bullet_prompt <span class=\"token operator\">=</span> PromptTemplate<span class=\"token punctuation\">(</span><br>    input_variables<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"text\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>    template<span class=\"token operator\">=</span><span class=\"token triple-quoted-string string\">\"\"\"Summarize as 4-5 bullet points.<br>Each bullet should state ONE key fact.<br><br>Text:<br>{text}<br><br>Summary:\"\"\"</span><br><span class=\"token punctuation\">)</span><br><br>chain <span class=\"token operator\">=</span> bullet_prompt <span class=\"token operator\">|</span> summarizer<br>bullet_summary <span class=\"token operator\">=</span> chain<span class=\"token punctuation\">.</span>invoke<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"text\"</span><span class=\"token punctuation\">:</span> article<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>content<span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Evaluate all three and see which one wins:</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">def</span> <span class=\"token function\">compare_strategies</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>    <span class=\"token triple-quoted-string string\">\"\"\"Compare different summarization approaches\"\"\"</span><br>    strategies <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token string\">'longer'</span><span class=\"token punctuation\">:</span> longer_summary<span class=\"token punctuation\">,</span><br>        <span class=\"token string\">'structured'</span><span class=\"token punctuation\">:</span> structured_summary<span class=\"token punctuation\">,</span><br>        <span class=\"token string\">'bullets'</span><span class=\"token punctuation\">:</span> bullet_summary<br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Testing different strategies...\\n\"</span><span class=\"token punctuation\">)</span><br>    results <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">for</span> name<span class=\"token punctuation\">,</span> summary <span class=\"token keyword\">in</span> strategies<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"Evaluating: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span><br><br>        score <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> summary_score_metric<span class=\"token punctuation\">.</span>ascore<span class=\"token punctuation\">(</span><br>            reference_contexts<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>article<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>            response<span class=\"token operator\">=</span>summary<br>        <span class=\"token punctuation\">)</span><br><br>        faith <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> faithfulness_metric<span class=\"token punctuation\">.</span>ascore<span class=\"token punctuation\">(</span><br>            user_input<span class=\"token operator\">=</span>article<span class=\"token punctuation\">,</span><br>            response<span class=\"token operator\">=</span>summary<span class=\"token punctuation\">,</span><br>            retrieved_contexts<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>article<span class=\"token punctuation\">]</span><br>        <span class=\"token punctuation\">)</span><br><br>        results<span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><br>            <span class=\"token string\">'summary_score'</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">float</span><span class=\"token punctuation\">(</span>score<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>            <span class=\"token string\">'faithfulness'</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">float</span><span class=\"token punctuation\">(</span>faith<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>            <span class=\"token string\">'combined'</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">float</span><span class=\"token punctuation\">(</span>score<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token builtin\">float</span><span class=\"token punctuation\">(</span>faith<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><br>        <span class=\"token punctuation\">}</span><br><br>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"  Summary Score: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>results<span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'summary_score'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span><span class=\"token format-spec\">.3f</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span><br>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"  Faithfulness: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>results<span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'faithfulness'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span><span class=\"token format-spec\">.3f</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span><br>        <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"  Combined: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>results<span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'combined'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span><span class=\"token format-spec\">.3f</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">\\n\"</span></span><span class=\"token punctuation\">)</span><br><br>    <span class=\"token comment\"># Find the winner</span><br>    best <span class=\"token operator\">=</span> <span class=\"token builtin\">max</span><span class=\"token punctuation\">(</span>results<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> key<span class=\"token operator\">=</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'combined'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><br>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"üèÜ Winner: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>best<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>upper<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span><br>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"   Combined Score: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>best<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'combined'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span><span class=\"token format-spec\">.3f</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span><br><br>    <span class=\"token keyword\">return</span> results<br><br><span class=\"token comment\"># Run it</span><br>comparison_results <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> compare_strategies<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre>\n<p>This is <strong>empirical optimization</strong>. You‚Äôre not guessing which approach is best, you‚Äôre measuring and letting data decide.</p>\n<p>Here‚Äôs what we‚Äôve built so far:</p>\n<p><img src=\"/images/posts/27330fa0-b0eb-4c70-ab9e-9a11d55e1bfc.png\" alt=\"\"></p>\n<p>This workflow is powerful because:</p>\n<ul>\n<li>\n<p><strong>Objective feedback</strong> - No subjective opinions, just scores</p>\n</li>\n<li>\n<p><strong>Continuous improvement</strong> - You can always test new approaches</p>\n</li>\n<li>\n<p><strong>Quality gates</strong> - You can set minimum scores before publishing</p>\n</li>\n<li>\n<p><strong>Learning loop</strong> - Over time, you understand what works for your use case</p>\n</li>\n</ul>\n<p>Now that you understand how evaluation works, here are practical guidelines for building production systems:</p>\n<h3 id=\"%E2%9C%85-do%E2%80%99s\" tabindex=\"-1\">‚úÖ DO‚Äôs</h3>\n<h4 id=\"1.-do-set-minimum-score-thresholds\" tabindex=\"-1\">1. DO Set Minimum Score Thresholds</h4>\n<p>Define what ‚Äúgood enough‚Äù means before you deploy:</p>\n<pre class=\"language-python\"><code class=\"language-python\">SUMMARY_SCORE_THRESHOLD <span class=\"token operator\">=</span> <span class=\"token number\">0.75</span><br>FAITHFULNESS_THRESHOLD <span class=\"token operator\">=</span> <span class=\"token number\">0.90</span><br><br><span class=\"token keyword\">def</span> <span class=\"token function\">is_summary_publishable</span><span class=\"token punctuation\">(</span>results<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>results<span class=\"token punctuation\">[</span><span class=\"token string\">'summary_score'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">>=</span> SUMMARY_SCORE_THRESHOLD <span class=\"token keyword\">and</span><br>            results<span class=\"token punctuation\">[</span><span class=\"token string\">'faithfulness'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">>=</span> FAITHFULNESS_THRESHOLD<span class=\"token punctuation\">)</span><br><br><span class=\"token keyword\">if</span> is_summary_publishable<span class=\"token punctuation\">(</span>results<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>    publish_summary<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br><span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span><br>    flag_for_manual_review<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre>\n<p><strong>Different use cases need different thresholds:</strong></p>\n<ul>\n<li>\n<p>News outlets: 0.85+ (accuracy critical)</p>\n</li>\n<li>\n<p>Research papers: 0.80+ (completeness critical)</p>\n</li>\n<li>\n<p>Social media: 0.60+ (engagement over perfection)</p>\n</li>\n<li>\n<p>Learning platforms: 0.75+ (balance needed)</p>\n</li>\n</ul>\n<h4 id=\"2.-do-test-multiple-models\" tabindex=\"-1\">2. DO Test Multiple Models</h4>\n<p>Different models produce different quality:</p>\n<pre class=\"language-python\"><code class=\"language-python\">models <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"gpt-3.5-turbo\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"gpt-4o-mini\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"gpt-4\"</span><span class=\"token punctuation\">]</span><br><br><span class=\"token keyword\">for</span> model <span class=\"token keyword\">in</span> models<span class=\"token punctuation\">:</span><br>    summarizer <span class=\"token operator\">=</span> ChatOpenAI<span class=\"token punctuation\">(</span>model<span class=\"token operator\">=</span>model<span class=\"token punctuation\">)</span><br>    summary <span class=\"token operator\">=</span> generate_summary<span class=\"token punctuation\">(</span>article<span class=\"token punctuation\">,</span> summarizer<span class=\"token punctuation\">)</span><br>    score <span class=\"token operator\">=</span> evaluate_summary<span class=\"token punctuation\">(</span>summary<span class=\"token punctuation\">)</span><br>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>model<span class=\"token punctuation\">}</span></span><span class=\"token string\">: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>score<span class=\"token punctuation\">:</span><span class=\"token format-spec\">.3f</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span><br><br><span class=\"token comment\"># Pick the best performer</span></code></pre>\n<p>GPT-3.5 is cheap. GPT-4 is better. GPT-4o-mini is the sweet spot for many use cases. <strong>Let metrics decide.</strong></p>\n<h4 id=\"3.-do-monitor-evaluation-costs\" tabindex=\"-1\">3. DO Monitor Evaluation Costs</h4>\n<p>Evaluations cost money. Budget accordingly:</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># Track costs</span><br>EVAL_COST_PER_SUMMARY <span class=\"token operator\">=</span> <span class=\"token number\">0.004</span>  <span class=\"token comment\"># Rough estimate</span><br><br><span class=\"token comment\"># Sample evaluation, don't evaluate everything</span><br>sample_size <span class=\"token operator\">=</span> <span class=\"token builtin\">min</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>all_summaries<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Sample 100 or all</span><br>eval_cost <span class=\"token operator\">=</span> sample_size <span class=\"token operator\">*</span> EVAL_COST_PER_SUMMARY<br><br><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"Evaluating </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>sample_size<span class=\"token punctuation\">}</span></span><span class=\"token string\"> summaries will cost: $</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>eval_cost<span class=\"token punctuation\">:</span><span class=\"token format-spec\">.2f</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></code></pre>\n<p>For production: sample 10% of summaries. For critical content: evaluate 100%. For bulk operations: sample even less.</p>\n<h4 id=\"4.-do-create-a-feedback-loop\" tabindex=\"-1\">4. DO Create a Feedback Loop</h4>\n<p>Use metrics to continuously improve:</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># Log everything</span><br><span class=\"token keyword\">import</span> json<br><span class=\"token keyword\">from</span> datetime <span class=\"token keyword\">import</span> datetime<br><br>log_entry <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token string\">\"timestamp\"</span><span class=\"token punctuation\">:</span> datetime<span class=\"token punctuation\">.</span>now<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>isoformat<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>    <span class=\"token string\">\"article_length\"</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>article<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>    <span class=\"token string\">\"model\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"gpt-3.5-turbo\"</span><span class=\"token punctuation\">,</span><br>    <span class=\"token string\">\"summary_score\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0.82</span><span class=\"token punctuation\">,</span><br>    <span class=\"token string\">\"faithfulness\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0.93</span><span class=\"token punctuation\">,</span><br>    <span class=\"token string\">\"strategy\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"structured_prompt\"</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"evaluation_log.jsonl\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"a\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span><br>    f<span class=\"token punctuation\">.</span>write<span class=\"token punctuation\">(</span>json<span class=\"token punctuation\">.</span>dumps<span class=\"token punctuation\">(</span>log_entry<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"\\n\"</span><span class=\"token punctuation\">)</span><br><br><span class=\"token comment\"># Later: analyze patterns</span><br><span class=\"token comment\"># - Which prompts work best?</span><br><span class=\"token comment\"># - Do long articles score lower?</span><br><span class=\"token comment\"># - Is there seasonality?</span></code></pre>\n<h4 id=\"5.-do-test-with-real-data\" tabindex=\"-1\">5. DO Test With Real Data</h4>\n<p>Example articles are for learning. Test with your actual content:</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># Load your real articles</span><br><span class=\"token keyword\">from</span> pathlib <span class=\"token keyword\">import</span> Path<br><br>your_articles <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><br><span class=\"token keyword\">for</span> <span class=\"token builtin\">file</span> <span class=\"token keyword\">in</span> Path<span class=\"token punctuation\">(</span><span class=\"token string\">\"/path/to/articles\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>glob<span class=\"token punctuation\">(</span><span class=\"token string\">\"*.txt\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>    <span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">file</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> f<span class=\"token punctuation\">:</span><br>        your_articles<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br><br><span class=\"token comment\"># Evaluate on real data</span><br><span class=\"token keyword\">for</span> article <span class=\"token keyword\">in</span> your_articles<span class=\"token punctuation\">:</span><br>    summary <span class=\"token operator\">=</span> generate_summary<span class=\"token punctuation\">(</span>article<span class=\"token punctuation\">)</span><br>    results <span class=\"token operator\">=</span> evaluate_summary<span class=\"token punctuation\">(</span>summary<span class=\"token punctuation\">)</span><br><br>    <span class=\"token comment\"># Analyze real-world performance</span><br>    avg_score <span class=\"token operator\">=</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>r<span class=\"token punctuation\">[</span><span class=\"token string\">'summary_score'</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">for</span> r <span class=\"token keyword\">in</span> results<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>results<span class=\"token punctuation\">)</span></code></pre>\n<h4 id=\"6.-do-document-your-decisions\" tabindex=\"-1\">6. DO Document Your Decisions</h4>\n<p>Future you will thank present you:</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token triple-quoted-string string\">\"\"\"<br>Summarization System Configuration<br>===================================<br>Created: 2025-01-15<br>Purpose: Production summarization service<br><br>Decisions:<br>- Model: gpt-4o-mini (cost/quality balance)<br>- Summary Length: 3-5 sentences<br>- Minimum Thresholds:<br>  * Summary Score: 0.75<br>  * Faithfulness: 0.85<br>- Rejection Strategy: Flag for manual review<br><br>Trade-offs:<br>- Not using GPT-4 to save costs<br>- Accepting 78% info preservation for speed<br>- Manual review for edge cases<br><br>Review Date: 2025-02-15<br>\"\"\"</span></code></pre>\n<h4 id=\"7.-do-handle-errors-gracefully\" tabindex=\"-1\">7. DO Handle Errors Gracefully</h4>\n<p>APIs fail. Networks go down. Budget runs out:</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span><br>    score <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> summary_metric<span class=\"token punctuation\">.</span>ascore<span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><br><span class=\"token keyword\">except</span> RateLimitError<span class=\"token punctuation\">:</span><br>    logger<span class=\"token punctuation\">.</span>warning<span class=\"token punctuation\">(</span><span class=\"token string\">\"Rate limited, retrying...\"</span><span class=\"token punctuation\">)</span><br>    <span class=\"token keyword\">await</span> asyncio<span class=\"token punctuation\">.</span>sleep<span class=\"token punctuation\">(</span><span class=\"token number\">60</span><span class=\"token punctuation\">)</span><br>    score <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> summary_metric<span class=\"token punctuation\">.</span>ascore<span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><br><span class=\"token keyword\">except</span> APIError <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span><br>    logger<span class=\"token punctuation\">.</span>error<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"API error: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>e<span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span><br>    flag_for_manual_review<span class=\"token punctuation\">(</span>summary<span class=\"token punctuation\">)</span><br>    score <span class=\"token operator\">=</span> <span class=\"token boolean\">None</span></code></pre>\n<h3 id=\"%E2%9D%8C-don%E2%80%99ts\" tabindex=\"-1\">‚ùå DON‚ÄôTs</h3>\n<h4 id=\"1.-don%E2%80%99t-trust-metrics-blindly\" tabindex=\"-1\">1. DON‚ÄôT Trust Metrics Blindly</h4>\n<p>Metrics are tools, not oracles. Always have humans review:</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># BAD: Automate based purely on score</span><br><span class=\"token keyword\">if</span> summary_score <span class=\"token operator\">></span> <span class=\"token number\">0.8</span><span class=\"token punctuation\">:</span><br>    publish_summary<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ‚ùå Wrong!</span><br><br><span class=\"token comment\"># GOOD: Use metrics as a guide</span><br><span class=\"token keyword\">if</span> summary_score <span class=\"token operator\">></span> <span class=\"token number\">0.8</span><span class=\"token punctuation\">:</span><br>    send_to_human_review<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Human has final say</span></code></pre>\n<h4 id=\"2.-don%E2%80%99t-ignore-faithfulness-for-speed\" tabindex=\"-1\">2. DON‚ÄôT Ignore Faithfulness for Speed</h4>\n<p>Don‚Äôt optimize only for Summary Score at the expense of Faithfulness:</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># BAD: Chasing higher Summary Score by any means</span><br>prompt <span class=\"token operator\">=</span> <span class=\"token string\">\"Include EVERY DETAIL from the article\"</span>  <span class=\"token comment\"># ‚ùå</span><br><span class=\"token comment\"># Result: Longer summaries, higher Summary Score, but hallucinations</span><br><br><span class=\"token comment\"># GOOD: Balance both</span><br>prompt <span class=\"token operator\">=</span> <span class=\"token string\">\"Summarize accurately without adding new information\"</span></code></pre>\n<p>Hallucinations destroy trust. One false claim tanks your credibility.</p>\n<h4 id=\"3.-don%E2%80%99t-hardcode-api-keys\" tabindex=\"-1\">3. DON‚ÄôT Hardcode API Keys</h4>\n<p>Never, ever, ever:</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># TERRIBLE</span><br>api_key <span class=\"token operator\">=</span> <span class=\"token string\">\"sk-proj-abc123xyz...\"</span>  <span class=\"token comment\"># ‚ùå‚ùå‚ùå</span><br><br><span class=\"token comment\"># GOOD</span><br>load_dotenv<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>api_key <span class=\"token operator\">=</span> os<span class=\"token punctuation\">.</span>environ<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">\"OPENAI_API_KEY\"</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Add <code>.env</code> to <code>.gitignore</code>. Make this a habit.</p>\n<h4 id=\"4.-don%E2%80%99t-evaluate-everything\" tabindex=\"-1\">4. DON‚ÄôT Evaluate Everything</h4>\n<p>Evaluations cost money. Be strategic:</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># BAD: Evaluate all 10,000 summaries ($40+)</span><br><span class=\"token keyword\">for</span> summary <span class=\"token keyword\">in</span> all_summaries<span class=\"token punctuation\">:</span><br>    evaluate_summary<span class=\"token punctuation\">(</span>summary<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ‚ùå Expensive</span><br><br><span class=\"token comment\"># GOOD: Statistical sampling</span><br>sample <span class=\"token operator\">=</span> random<span class=\"token punctuation\">.</span>sample<span class=\"token punctuation\">(</span>all_summaries<span class=\"token punctuation\">,</span> k<span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 1% sample</span><br><span class=\"token keyword\">for</span> summary <span class=\"token keyword\">in</span> sample<span class=\"token punctuation\">:</span><br>    evaluate_summary<span class=\"token punctuation\">(</span>summary<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ‚úÖ Cheap, representative</span></code></pre>\n<h4 id=\"5.-don%E2%80%99t-use-metrics-as-your-only-quality-gate\" tabindex=\"-1\">5. DON‚ÄôT Use Metrics As Your Only Quality Gate</h4>\n<p>Metrics are one dimension. Add more layers:</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># BAD: Only checking metrics</span><br><span class=\"token keyword\">if</span> summary_score <span class=\"token operator\">></span> <span class=\"token number\">0.8</span><span class=\"token punctuation\">:</span><br>    publish_summary<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ‚ùå</span><br><br><span class=\"token comment\"># GOOD: Multiple checks</span><br>quality_checks <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token string\">\"metrics\"</span><span class=\"token punctuation\">:</span> evaluate_summary<span class=\"token punctuation\">(</span>summary<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>       <span class=\"token comment\"># Objective</span><br>    <span class=\"token string\">\"human_review\"</span><span class=\"token punctuation\">:</span> manual_review<span class=\"token punctuation\">(</span>summary<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>     <span class=\"token comment\"># Subjective</span><br>    <span class=\"token string\">\"guidelines\"</span><span class=\"token punctuation\">:</span> check_brand_guidelines<span class=\"token punctuation\">(</span>summary<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\"># Policy</span><br>    <span class=\"token string\">\"safety\"</span><span class=\"token punctuation\">:</span> toxicity_check<span class=\"token punctuation\">(</span>summary<span class=\"token punctuation\">)</span>           <span class=\"token comment\"># Safety</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token keyword\">if</span> <span class=\"token builtin\">all</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">.</span>passed <span class=\"token keyword\">for</span> c <span class=\"token keyword\">in</span> quality_checks<span class=\"token punctuation\">.</span>values<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>    publish_summary<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ‚úÖ</span></code></pre>\n<h4 id=\"6.-don%E2%80%99t-use-the-same-model-for-summarization-and-evaluation\" tabindex=\"-1\">6. DON‚ÄôT Use the Same Model for Summarization and Evaluation</h4>\n<p>It‚Äôs like asking a student to grade their own homework:</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># AVOID: Self-grading bias</span><br>summarizer <span class=\"token operator\">=</span> ChatOpenAI<span class=\"token punctuation\">(</span>model<span class=\"token operator\">=</span><span class=\"token string\">\"gpt-3.5-turbo\"</span><span class=\"token punctuation\">)</span><br>evaluator <span class=\"token operator\">=</span> ChatOpenAI<span class=\"token punctuation\">(</span>model<span class=\"token operator\">=</span><span class=\"token string\">\"gpt-3.5-turbo\"</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Bias!</span><br><br><span class=\"token comment\"># BETTER: Different models</span><br>summarizer <span class=\"token operator\">=</span> ChatOpenAI<span class=\"token punctuation\">(</span>model<span class=\"token operator\">=</span><span class=\"token string\">\"gpt-3.5-turbo\"</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># Fast, cheap</span><br>evaluator <span class=\"token operator\">=</span> ChatOpenAI<span class=\"token punctuation\">(</span>model<span class=\"token operator\">=</span><span class=\"token string\">\"gpt-4\"</span><span class=\"token punctuation\">)</span>            <span class=\"token comment\"># Rigorous</span></code></pre>\n<h4 id=\"7.-don%E2%80%99t-assume-one-evaluation-equals-truth\" tabindex=\"-1\">7. DON‚ÄôT Assume One Evaluation Equals Truth</h4>\n<p>LLM evaluations have variance. Run multiple times for important decisions:</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># BAD: Single evaluation</span><br>score <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> summary_metric<span class=\"token punctuation\">.</span>ascore<span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><br><span class=\"token keyword\">if</span> score <span class=\"token operator\">&lt;</span> <span class=\"token number\">0.7</span><span class=\"token punctuation\">:</span><br>    reject_summary<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ‚ùå What if this was an anomaly?</span><br><br><span class=\"token comment\"># GOOD: Multiple runs</span><br>scores <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><br><span class=\"token keyword\">for</span> _ <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>    score <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> summary_metric<span class=\"token punctuation\">.</span>ascore<span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><br>    scores<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token builtin\">float</span><span class=\"token punctuation\">(</span>score<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br><br>avg_score <span class=\"token operator\">=</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span>scores<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>scores<span class=\"token punctuation\">)</span><br><span class=\"token keyword\">if</span> avg_score <span class=\"token operator\">&lt;</span> <span class=\"token number\">0.7</span><span class=\"token punctuation\">:</span><br>    reject_summary<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># ‚úÖ More reliable</span></code></pre>\n<h2 id=\"common-pitfalls-%26-how-to-avoid-them\" tabindex=\"-1\">Common Pitfalls &amp; How to Avoid Them</h2>\n<h3 id=\"pitfall-%231%3A-the-score-plateau\" tabindex=\"-1\">Pitfall #1: The Score Plateau</h3>\n<p>Your Summary Score hits 0.75 and won‚Äôt improve.</p>\n<p><strong>Why:</strong> You‚Äôve hit the architectural limits of your approach.</p>\n<p><strong>Solution:</strong></p>\n<ul>\n<li>\n<p>Try a completely different prompt (not tweaks, but fundamentally different)</p>\n</li>\n<li>\n<p>Switch to a more capable model (GPT-4 instead of 3.5)</p>\n</li>\n<li>\n<p>Increase summary length (allows more information)</p>\n</li>\n</ul>\n<h3 id=\"pitfall-%232%3A-the-faithfulness-trap\" tabindex=\"-1\">Pitfall #2: The Faithfulness Trap</h3>\n<p>Faithfulness is 0.95 but users say summaries are useless.</p>\n<p><strong>Why:</strong> You‚Äôre being so cautious you lose nuance. Or metrics don‚Äôt match user expectations.</p>\n<p><strong>Solution:</strong></p>\n<ul>\n<li>\n<p>Add human feedback alongside metrics</p>\n</li>\n<li>\n<p>Verify that metrics actually align with user satisfaction</p>\n</li>\n<li>\n<p>Faithfulness ‚â† usefulness</p>\n</li>\n</ul>\n<h3 id=\"pitfall-%233%3A-runaway-costs\" tabindex=\"-1\">Pitfall #3: Runaway Costs</h3>\n<p>Your evaluation budget exploded unexpectedly.</p>\n<p><strong>Why:</strong> Evaluated too much, used expensive models, pricing changed.</p>\n<p><strong>Solution:</strong></p>\n<pre class=\"language-python\"><code class=\"language-python\">BUDGET <span class=\"token operator\">=</span> <span class=\"token number\">100</span>  <span class=\"token comment\"># $100/month</span><br>COST_PER_EVAL <span class=\"token operator\">=</span> <span class=\"token number\">0.004</span><br>MAX_EVALS <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>BUDGET <span class=\"token operator\">/</span> COST_PER_EVAL<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 25,000</span><br><br>eval_count <span class=\"token operator\">=</span> <span class=\"token number\">0</span><br><span class=\"token keyword\">for</span> summary <span class=\"token keyword\">in</span> summaries<span class=\"token punctuation\">:</span><br>    <span class=\"token keyword\">if</span> eval_count <span class=\"token operator\">>=</span> MAX_EVALS<span class=\"token punctuation\">:</span><br>        logger<span class=\"token punctuation\">.</span>warning<span class=\"token punctuation\">(</span><span class=\"token string\">\"Budget limit reached\"</span><span class=\"token punctuation\">)</span><br>        <span class=\"token keyword\">break</span><br>    evaluate_summary<span class=\"token punctuation\">(</span>summary<span class=\"token punctuation\">)</span><br>    eval_count <span class=\"token operator\">+=</span> <span class=\"token number\">1</span></code></pre>\n<h3 id=\"pitfall-%234%3A-model-drift\" tabindex=\"-1\">Pitfall #4: Model Drift</h3>\n<p>Your system worked for 3 months, then scores dropped mysteriously.</p>\n<p><strong>Why:</strong> OpenAI updated their model, or your data changed.</p>\n<p><strong>Solution:</strong></p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># Set a baseline</span><br>baseline <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token string\">\"date\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"2025-01-15\"</span><span class=\"token punctuation\">,</span><br>    <span class=\"token string\">\"model\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"gpt-4o-mini\"</span><span class=\"token punctuation\">,</span><br>    <span class=\"token string\">\"avg_score\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0.78</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token comment\"># Monthly check-in</span><br>current <span class=\"token operator\">=</span> evaluate_sample<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br><span class=\"token keyword\">if</span> current<span class=\"token punctuation\">[</span><span class=\"token string\">\"avg_score\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> baseline<span class=\"token punctuation\">[</span><span class=\"token string\">\"avg_score\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> <span class=\"token number\">0.95</span><span class=\"token punctuation\">:</span><br>    alert<span class=\"token punctuation\">(</span><span class=\"token string\">\"Score degradation detected!\"</span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"learn-more\" tabindex=\"-1\">Learn More</h2>\n<p>Want to dive deeper?</p>\n<ul>\n<li>\n<p><a href=\"https://docs.ragas.io/\"><strong>RAGAS Documentation</strong></a> - Official docs with all metrics explained</p>\n</li>\n<li>\n<p><a href=\"https://docs.ragas.io/en/stable/concepts/metrics/available_metrics/summarization_score\"><strong>Summary Score Details</strong></a> - How Summary Score works under the hood</p>\n</li>\n<li>\n<p><a href=\"https://docs.ragas.io/en/stable/concepts/metrics/available_metrics/faithfulness\"><strong>Faithfulness Metric</strong></a> - Deep dive into hallucination detection</p>\n</li>\n<li>\n<p><a href=\"https://python.langchain.com/\"><strong>LangChain Documentation</strong></a> - Building LLM applications</p>\n</li>\n<li>\n<p><a href=\"https://platform.openai.com/docs/guides/prompt-engineering\"><strong>Prompt Engineering Best Practices</strong></a> - OpenAI‚Äôs guide to writing better prompts</p>\n</li>\n</ul>\n<p>You can also use more latest gpt-5 series of course or other providers like claude, gemini, etc.</p>\n<p>Building AI applications is easy. Building <strong>trustworthy</strong> AI applications is harder, but not impossibly so.</p>\n<p>The difference is measurement. Metrics. Data.</p>\n<p>Every time someone asks you, ‚ÄúHow do you know your AI summaries are accurate?‚Äù you can now answer confidently:</p>\n<blockquote>\n<p>‚ÄúBecause I measure it. Every single time. With objective metrics. And I continuously optimize based on those measurements.‚Äù</p>\n</blockquote>\n<p>That‚Äôs what separates hobby projects from professional tools.</p>\n<p>You now have everything you need to build AI you can trust.</p>\n<p><strong>Questions? Found a bug? Have ideas?</strong></p>\n<p><a href=\"https://github.com/anistark/ai-summarisation/issues\">Open an issue on GitHub</a> and let‚Äôs build better AI together.</p>\n<p>Happy building! üöÄ</p>\n",
      "date_published": "2025-11-16T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/llm-as-judge/",
      "url": "https://blog.anirudha.dev/llm-as-judge/",
      "title": "Teaching AI to Grade Other AI",
      "content_html": "<p>If you‚Äôve been following the world of AI development, you might‚Äôve heard the phrase <strong>‚ÄúLLM-as-Judge.‚Äù</strong><br>\nIt sounds dramatic, like some sci-fi overlord where one AI passes judgment on another. But it‚Äôs actually one of the most important evolutions in evaluating large language models (LLMs).</p>\n<blockquote>\n<p><strong>LLM-as-Judge</strong> means using a <strong>language model itself to evaluate</strong> the quality of another model‚Äôs responses.</p>\n</blockquote>\n<p>Traditionally, human annotators graded model outputs. Checking if an answer was factual, polite, relevant, or well-reasoned. But as models got more capable and outputs more nuanced, this manual process became slow, expensive, and inconsistent.</p>\n<p>So, researchers began asking, <em>Can we train (or prompt) a model to act like a human evaluator?</em></p>\n<p>Turns out, yes, quite effectively.</p>\n<p>The idea is simple:</p>\n<p><img src=\"/images/posts/c3e4e7fe-d2c5-466a-8e2b-f8e06345d1f6.png\" alt=\"\"></p>\n<p>It‚Äôs like using one AI to peer-review another. Evaluation is the backbone of AI progress. Without it, we wouldn‚Äôt know if newer models are actually <em>better</em>, or just different. Human evaluation doesn‚Äôt scale. Imagine evaluating thousands of answers for correctness, reasoning, and tone across 10+ benchmarks.<br>\nThat‚Äôs days of work for humans, but minutes for an LLM.</p>\n<p>You now suddenly have the super power to run thousands of comparisons in minutes. Reduce human bias, enable rapid iteration and explore subjective criteria like ‚Äúcreativity‚Äù or ‚Äúhelpfulness‚Äù where metrics alone fall short.</p>\n<p>LLM-based judging has already become a norm in multiple domains:</p>\n<table>\n<thead>\n<tr>\n<th>Use Case</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>Model benchmarking</strong></td>\n<td>Frameworks like <a href=\"https://lmsys.org/blog/2024-04-19-arena-hard/\">Arena Hard</a> and <a href=\"https://arxiv.org/abs/2306.05685\">MT-Bench</a> use GPT-4 as the judge to rank models.</td>\n</tr>\n<tr>\n<td><strong>Eval pipelines</strong></td>\n<td>Tools like <a href=\"https://github.com/explodinggradients/ragas\">Ragas</a> and <a href=\"https://www.trulens.org/\">TruLens</a> integrate LLM-judging to score faithfulness, coherence, and relevance.</td>\n</tr>\n<tr>\n<td><strong>Fine-tuning and alignment</strong></td>\n<td>Reinforcement Learning from AI Feedback (RLAIF) replaces human feedback with LLM judgments to train new models.</td>\n</tr>\n<tr>\n<td><strong>Automated grading systems</strong></td>\n<td>Education and coding platforms use LLMs to grade free-text answers or code explanations.</td>\n</tr>\n</tbody>\n</table>\n<p>LLM-as-Judge solves for critical limitations with traditional evaluation metrics:</p>\n<ul>\n<li>\n<p><strong>Captures nuance</strong>: Evaluates semantic quality, not just string overlap</p>\n</li>\n<li>\n<p><strong>Scales human judgment</strong>: Automates what would otherwise require manual review</p>\n</li>\n<li>\n<p><strong>Flexible criteria</strong>: Define any custom evaluation criteria</p>\n</li>\n<li>\n<p><strong>Domain-aware</strong>: Adapts to specific use cases (medical, legal, finance, etc.)</p>\n</li>\n<li>\n<p><strong>Interpretable</strong>: Provides reasoning for verdicts, not just scores</p>\n</li>\n</ul>\n<p>Without scalable evaluation, progress slows down. Model quality becomes subjective. Everyone claims their model is ‚Äúbetter,‚Äù but without consistent evals, it‚Äôs marketing, not science. Human fatigue and cost make it impossible to iterate fast. Bias creeps in. Different annotators interpret ‚Äúgood‚Äù differently. An LLM judge can apply consistent criteria across thousands of examples.</p>\n<p>In short, without a judge, the AI ecosystem risks <strong>flying blind.</strong></p>\n<p>Think of the evaluation as a <strong>comparison pipeline:</strong></p>\n<pre class=\"language-bash\"><code class=\"language-bash\">Question: <span class=\"token string\">\"Explain quantum computing to a 5-year-old.\"</span><br><br>Model A ‚Üí <span class=\"token string\">\"It‚Äôs like magic computers that can do many things at once.\"</span><br>Model B ‚Üí <span class=\"token string\">\"It‚Äôs a special computer that can try all possibilities at once.\"</span><br><br>Judge LLM ‚Üí <span class=\"token string\">\"Model B‚Äôs answer is clearer and more accurate for a child audience.\"</span><br>Score: Model B wins</code></pre>\n<p><img src=\"/images/posts/5d8b9564-feff-4363-a5c2-6442ed3e0833.png\" alt=\"\"></p>\n<p>Before your LLM judge can reliably evaluate your system, it must first <strong>align with your ground truth</strong> (human expert judgments). A misaligned judge is like a compass pointing the wrong way‚Äîevery improvement based on its guidance moves you further from your goal. Ragas provides a powerful, production-ready framework for implementing LLM-as-Judge evaluation.</p>\n<p>Let‚Äôs talk about the alignment process. First, you start by creating a baseline judge using a straightforward prompt. Then, you evaluate it against human-labeled ground truth to see how it measures up. Next, you look for patterns where the judge disagrees with the human experts. Based on these patterns, you tweak and improve the judge‚Äôs prompt. After that, you re-evaluate to see if there‚Äôs any improvement. You keep repeating this process until the alignment either levels off or reaches the standard you‚Äôre aiming for.</p>\n<p>The <code>strictness</code> parameter controls consistency by running multiple evaluations with majority voting:</p>\n<ul>\n<li>\n<p><strong>Value</strong>: Number of independent LLM evaluations</p>\n</li>\n<li>\n<p><strong>Mechanism</strong>: Majority voting combines results</p>\n</li>\n<li>\n<p><strong>Auto-adjustment</strong>: Automatically converts to odd numbers (1, 3, 5, 7‚Ä¶)</p>\n</li>\n</ul>\n<p>Use 2-4 for production, balancing cost and consistency.</p>\n<p>Think of DiscreteMetric as the Swiss Army knife of LLM-based evaluation. Need to evaluate responses as ‚Äúexcellent,‚Äù ‚Äúgood,‚Äù ‚Äúmediocre,‚Äù or ‚Äúpoor‚Äù? DiscreteMetric handles it. Want to categorize code reviews as ‚Äúpasses linting,‚Äù ‚Äúneeds minor fixes,‚Äù or ‚Äúmajor refactoring required‚Äù? You‚Äôve got it. The key insight is that DiscreteMetric lets you define both the evaluation prompt AND the allowed output values, making it incredibly flexible for nuanced evaluations that don‚Äôt fit neatly into binary or numeric scoring.</p>\n<p>What makes DiscreteMetric particularly powerful is that you don‚Äôt need to subclass anything or write complex metric implementations. You just provide a prompt template (with variables you define), specify what categorical values the LLM can return, and you‚Äôre done. The LLM does the actual evaluation work using your custom prompt, and returns one of your predefined categories. This is perfect for domain-specific evaluation criteria where you need more granularity than binary but want to avoid the complexity of numeric scores.</p>\n<p>For example, if you‚Äôre evaluating financial advice, you might want categories like ‚Äúfinancially sound,‚Äù ‚Äúincomplete,‚Äù ‚Äúcontains risk,‚Äù or ‚Äúdangerous advice‚Äù ‚Äî each with different implications for your system. Or for content moderation, you might use ‚Äúsafe,‚Äù ‚Äúborderline,‚Äù ‚Äúneeds review,‚Äù and ‚Äúblock.‚Äù DiscreteMetric adapts to whatever categorical scheme your business needs.</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> asyncio<br><span class=\"token keyword\">from</span> openai <span class=\"token keyword\">import</span> AsyncOpenAI<br><span class=\"token keyword\">from</span> ragas<span class=\"token punctuation\">.</span>llms <span class=\"token keyword\">import</span> llm_factory<br><span class=\"token keyword\">from</span> ragas<span class=\"token punctuation\">.</span>metrics <span class=\"token keyword\">import</span> DiscreteMetric<br><span class=\"token keyword\">import</span> os<br><br><span class=\"token keyword\">async</span> <span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>    <span class=\"token comment\"># Setup</span><br>    client <span class=\"token operator\">=</span> AsyncOpenAI<span class=\"token punctuation\">(</span>api_key<span class=\"token operator\">=</span>os<span class=\"token punctuation\">.</span>environ<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">\"OPENAI_API_KEY\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br>    llm <span class=\"token operator\">=</span> llm_factory<span class=\"token punctuation\">(</span><span class=\"token string\">\"gpt-4o-mini\"</span><span class=\"token punctuation\">,</span> client<span class=\"token operator\">=</span>client<span class=\"token punctuation\">)</span><br><br>    <span class=\"token comment\"># Define metric</span><br>    accuracy_metric <span class=\"token operator\">=</span> DiscreteMetric<span class=\"token punctuation\">(</span><br>        name<span class=\"token operator\">=</span><span class=\"token string\">\"accuracy\"</span><span class=\"token punctuation\">,</span><br>        prompt<span class=\"token operator\">=</span>\"Check <span class=\"token keyword\">if</span> the response contains points <span class=\"token keyword\">from</span> the grading<br>notes<span class=\"token punctuation\">.</span>\\n\\nResponse<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>response<span class=\"token punctuation\">}</span>\\nGrading Notes<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>grading_notes<span class=\"token punctuation\">}</span>\"<span class=\"token punctuation\">,</span><br>        allowed_values<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"pass\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"fail\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>        llm<span class=\"token operator\">=</span>llm<br>    <span class=\"token punctuation\">)</span><br><br>    <span class=\"token comment\"># Evaluate</span><br>    result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> accuracy_metric<span class=\"token punctuation\">.</span>ascore<span class=\"token punctuation\">(</span><br>        response<span class=\"token operator\">=</span>\"The model discussion covers DCF<span class=\"token punctuation\">,</span> comparable analysis<span class=\"token punctuation\">,</span> <span class=\"token keyword\">and</span> VC<br>methods\"<span class=\"token punctuation\">,</span><br>        grading_notes<span class=\"token operator\">=</span>\"Must cover<span class=\"token punctuation\">:</span> DCF method<span class=\"token punctuation\">,</span> comparable analysis<span class=\"token punctuation\">,</span> VC method<span class=\"token punctuation\">,</span><br>founder impact\"<br>    <span class=\"token punctuation\">)</span><br><br>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"Verdict: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>result<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># \"pass\" or \"fail\"</span><br>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"Reason: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>result<span class=\"token punctuation\">.</span>reason<span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span><br><br><span class=\"token comment\"># Run</span><br>asyncio<span class=\"token punctuation\">.</span>run<span class=\"token punctuation\">(</span>main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Now that we understand <code>DiscreteMetric</code>, let‚Äôs build a complete judge evaluation pipeline from scratch.</p>\n<h3 id=\"define-your-evaluation-criteria\" tabindex=\"-1\">Define Your Evaluation Criteria</h3>\n<p>Start by clearly defining what ‚Äúgood‚Äù means for your use case.</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># Example: Evaluating financial advice quality</span><br>judge_definition <span class=\"token operator\">=</span> <span class=\"token triple-quoted-string string\">\"\"\"<br>Evaluate if the response provides sound financial advice that covers:<br>1. Clear explanation of key concepts<br>2. Relevant metrics and calculations<br>3. Risk considerations<br>4. Tax implications where applicable<br>5. Practical actionable steps<br><br>Return 'pass' if all major points are covered, 'fail' if critical topics are missing.<br>\"\"\"</span></code></pre>\n<h3 id=\"create-a-baseline-judge\" tabindex=\"-1\">Create a Baseline Judge</h3>\n<p>Start with a simple baseline judge helps you understand the problem.</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> ragas<span class=\"token punctuation\">.</span>metrics <span class=\"token keyword\">import</span> DiscreteMetric<br><span class=\"token keyword\">from</span> openai <span class=\"token keyword\">import</span> AsyncOpenAI<br><span class=\"token keyword\">from</span> ragas<span class=\"token punctuation\">.</span>llms <span class=\"token keyword\">import</span> llm_factory<br><br><span class=\"token comment\"># Initialize LLM</span><br>client <span class=\"token operator\">=</span> AsyncOpenAI<span class=\"token punctuation\">(</span>api_key<span class=\"token operator\">=</span><span class=\"token string\">\"sk-...\"</span><span class=\"token punctuation\">)</span><br>llm <span class=\"token operator\">=</span> llm_factory<span class=\"token punctuation\">(</span><span class=\"token string\">\"gpt-4o-mini\"</span><span class=\"token punctuation\">,</span> client<span class=\"token operator\">=</span>client<span class=\"token punctuation\">)</span><br><br><span class=\"token comment\"># Create baseline judge</span><br>baseline_judge <span class=\"token operator\">=</span> DiscreteMetric<span class=\"token punctuation\">(</span><br>    name<span class=\"token operator\">=</span><span class=\"token string\">\"financial_advice_quality\"</span><span class=\"token punctuation\">,</span><br>    prompt<span class=\"token operator\">=</span><span class=\"token string\">\"Does the response provide sound financial advice? Check for key concepts, calculations, risks, and actionable steps.\\n\\nResponse: {response}\"</span><span class=\"token punctuation\">,</span><br>    allowed_values<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"pass\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"fail\"</span><span class=\"token punctuation\">]</span><br><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"prepare-ground-truth-data\" tabindex=\"-1\">Prepare Ground Truth Data</h3>\n<p>You need human-labeled examples to measure alignment.</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd<br><span class=\"token keyword\">from</span> ragas <span class=\"token keyword\">import</span> Dataset<br><br><span class=\"token comment\"># Load your annotated data</span><br>df <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span><span class=\"token string\">\"expert_labels.csv\"</span><span class=\"token punctuation\">)</span><br><span class=\"token comment\"># Expected columns: question, response, expert_judgment</span><br><br>dataset <span class=\"token operator\">=</span> Dataset<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">\"judge_alignment\"</span><span class=\"token punctuation\">,</span> backend<span class=\"token operator\">=</span><span class=\"token string\">\"local/csv\"</span><span class=\"token punctuation\">)</span><br><span class=\"token keyword\">for</span> _<span class=\"token punctuation\">,</span> row <span class=\"token keyword\">in</span> df<span class=\"token punctuation\">.</span>iterrows<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>    dataset<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><br>        <span class=\"token string\">\"question\"</span><span class=\"token punctuation\">:</span> row<span class=\"token punctuation\">[</span><span class=\"token string\">\"question\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>        <span class=\"token string\">\"response\"</span><span class=\"token punctuation\">:</span> row<span class=\"token punctuation\">[</span><span class=\"token string\">\"response\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>        <span class=\"token string\">\"target\"</span><span class=\"token punctuation\">:</span> row<span class=\"token punctuation\">[</span><span class=\"token string\">\"expert_judgment\"</span><span class=\"token punctuation\">]</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"create-alignment-metric\" tabindex=\"-1\">Create Alignment Metric</h3>\n<p>Define how you measure judge alignment.</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> ragas<span class=\"token punctuation\">.</span>metrics<span class=\"token punctuation\">.</span>discrete <span class=\"token keyword\">import</span> discrete_metric<br><span class=\"token keyword\">from</span> ragas<span class=\"token punctuation\">.</span>metrics<span class=\"token punctuation\">.</span>result <span class=\"token keyword\">import</span> MetricResult<br><br><span class=\"token decorator annotation punctuation\">@discrete_metric</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">\"judge_alignment\"</span><span class=\"token punctuation\">,</span> allowed_values<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"pass\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"fail\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><br><span class=\"token keyword\">def</span> <span class=\"token function\">judge_alignment</span><span class=\"token punctuation\">(</span>judge_label<span class=\"token punctuation\">:</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">,</span> human_label<span class=\"token punctuation\">:</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> MetricResult<span class=\"token punctuation\">:</span><br>    <span class=\"token triple-quoted-string string\">\"\"\"Compare judge decision with human label.\"\"\"</span><br>    judge <span class=\"token operator\">=</span> judge_label<span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>lower<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>    human <span class=\"token operator\">=</span> human_label<span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>lower<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br><br>    <span class=\"token keyword\">if</span> judge <span class=\"token operator\">==</span> human<span class=\"token punctuation\">:</span><br>        <span class=\"token keyword\">return</span> MetricResult<span class=\"token punctuation\">(</span><br>            value<span class=\"token operator\">=</span><span class=\"token string\">\"pass\"</span><span class=\"token punctuation\">,</span><br>            reason<span class=\"token operator\">=</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"Judge=</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>judge<span class=\"token punctuation\">}</span></span><span class=\"token string\">; Human=</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>human<span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><br>        <span class=\"token punctuation\">)</span><br><br>    <span class=\"token keyword\">return</span> MetricResult<span class=\"token punctuation\">(</span><br>        value<span class=\"token operator\">=</span><span class=\"token string\">\"fail\"</span><span class=\"token punctuation\">,</span><br>        reason<span class=\"token operator\">=</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"Judge=</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>judge<span class=\"token punctuation\">}</span></span><span class=\"token string\">; Human=</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>human<span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><br>    <span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"define-experiment-function\" tabindex=\"-1\">Define Experiment Function</h3>\n<p>Orchestrate the evaluation pipeline.</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> ragas <span class=\"token keyword\">import</span> experiment<br><span class=\"token keyword\">from</span> typing <span class=\"token keyword\">import</span> Dict<span class=\"token punctuation\">,</span> Any<br><br><span class=\"token decorator annotation punctuation\">@experiment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br><span class=\"token keyword\">async</span> <span class=\"token keyword\">def</span> <span class=\"token function\">judge_experiment</span><span class=\"token punctuation\">(</span><br>    row<span class=\"token punctuation\">:</span> Dict<span class=\"token punctuation\">[</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">,</span> Any<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>    judge_metric<span class=\"token punctuation\">:</span> DiscreteMetric<span class=\"token punctuation\">,</span><br>    llm<span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>    <span class=\"token triple-quoted-string string\">\"\"\"Run complete evaluation: Judge ‚Üí Compare with human.\"\"\"</span><br><br>    judge_score <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> judge_metric<span class=\"token punctuation\">.</span>ascore<span class=\"token punctuation\">(</span><br>        question<span class=\"token operator\">=</span>row<span class=\"token punctuation\">[</span><span class=\"token string\">\"question\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>        response<span class=\"token operator\">=</span>row<span class=\"token punctuation\">[</span><span class=\"token string\">\"response\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>        llm<span class=\"token operator\">=</span>llm<br>    <span class=\"token punctuation\">)</span><br><br>    alignment <span class=\"token operator\">=</span> judge_alignment<span class=\"token punctuation\">.</span>score<span class=\"token punctuation\">(</span><br>        judge_label<span class=\"token operator\">=</span>judge_score<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">,</span><br>        human_label<span class=\"token operator\">=</span>row<span class=\"token punctuation\">[</span><span class=\"token string\">\"target\"</span><span class=\"token punctuation\">]</span><br>    <span class=\"token punctuation\">)</span><br><br>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token operator\">**</span>row<span class=\"token punctuation\">,</span><br>        <span class=\"token string\">\"judge_label\"</span><span class=\"token punctuation\">:</span> judge_score<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">,</span><br>        <span class=\"token string\">\"judge_reason\"</span><span class=\"token punctuation\">:</span> judge_score<span class=\"token punctuation\">.</span>reason<span class=\"token punctuation\">,</span><br>        <span class=\"token string\">\"alignment\"</span><span class=\"token punctuation\">:</span> alignment<span class=\"token punctuation\">.</span>value<br>    <span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"run-baseline-evaluation\" tabindex=\"-1\">Run Baseline Evaluation</h3>\n<p>Execute the evaluation pipeline.</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> asyncio<br><span class=\"token keyword\">import</span> os<br><br><span class=\"token keyword\">async</span> <span class=\"token keyword\">def</span> <span class=\"token function\">run_baseline</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>    <span class=\"token comment\"># Load dataset</span><br>    dataset <span class=\"token operator\">=</span> load_dataset<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"Loaded </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>dataset<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span><span class=\"token string\"> samples\"</span></span><span class=\"token punctuation\">)</span><br><br>    <span class=\"token comment\"># Initialize LLM</span><br>    client <span class=\"token operator\">=</span> AsyncOpenAI<span class=\"token punctuation\">(</span>api_key<span class=\"token operator\">=</span>os<span class=\"token punctuation\">.</span>environ<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">\"OPENAI_API_KEY\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br>    llm <span class=\"token operator\">=</span> llm_factory<span class=\"token punctuation\">(</span><span class=\"token string\">\"gpt-4o-mini\"</span><span class=\"token punctuation\">,</span> client<span class=\"token operator\">=</span>client<span class=\"token punctuation\">)</span><br><br>    <span class=\"token comment\"># Run experiment</span><br>    results <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> judge_experiment<span class=\"token punctuation\">.</span>arun<span class=\"token punctuation\">(</span><br>        dataset<span class=\"token punctuation\">,</span><br>        name<span class=\"token operator\">=</span><span class=\"token string\">\"judge_baseline_v1\"</span><span class=\"token punctuation\">,</span><br>        judge_metric<span class=\"token operator\">=</span>baseline_judge<span class=\"token punctuation\">,</span><br>        llm<span class=\"token operator\">=</span>llm<br>    <span class=\"token punctuation\">)</span><br><br>    <span class=\"token comment\"># Calculate alignment</span><br>    passed <span class=\"token operator\">=</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token keyword\">for</span> r <span class=\"token keyword\">in</span> results <span class=\"token keyword\">if</span> r<span class=\"token punctuation\">[</span><span class=\"token string\">\"alignment\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token string\">\"pass\"</span><span class=\"token punctuation\">)</span><br>    total <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>results<span class=\"token punctuation\">)</span><br>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"Alignment: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>passed<span class=\"token punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>total<span class=\"token punctuation\">}</span></span><span class=\"token string\"> (</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>passed<span class=\"token operator\">/</span>total<span class=\"token punctuation\">:</span><span class=\"token format-spec\">.1%</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">)\"</span></span><span class=\"token punctuation\">)</span><br><br>    <span class=\"token keyword\">return</span> results<br><br><span class=\"token comment\"># Execute</span><br>results <span class=\"token operator\">=</span> asyncio<span class=\"token punctuation\">.</span>run<span class=\"token punctuation\">(</span>run_baseline<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"analyze-errors\" tabindex=\"-1\">Analyze Errors</h3>\n<p>Identify patterns in judge errors.</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd<br><br><span class=\"token comment\"># Load results</span><br>df <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_csv<span class=\"token punctuation\">(</span><span class=\"token string\">\"judge_baseline_v1.csv\"</span><span class=\"token punctuation\">)</span><br><br><span class=\"token comment\"># Analyze misalignments</span><br>false_positives <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">[</span><br>    <span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">[</span><span class=\"token string\">'judge_label'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token string\">'pass'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;</span> <span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">[</span><span class=\"token string\">'target'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token string\">'fail'</span><span class=\"token punctuation\">)</span><br><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><br>false_negatives <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">[</span><br>    <span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">[</span><span class=\"token string\">'judge_label'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token string\">'fail'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;</span> <span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">[</span><span class=\"token string\">'target'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token string\">'pass'</span><span class=\"token punctuation\">)</span><br><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><br><br><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"False positives (too lenient): </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>false_positives<span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span><br><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"False negatives (too strict): </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>false_negatives<span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span><br><br><span class=\"token comment\"># Look at specific error examples</span><br>errors <span class=\"token operator\">=</span> df<span class=\"token punctuation\">[</span>df<span class=\"token punctuation\">[</span><span class=\"token string\">'alignment'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token string\">'fail'</span><span class=\"token punctuation\">]</span><br><span class=\"token keyword\">for</span> idx<span class=\"token punctuation\">,</span> row <span class=\"token keyword\">in</span> errors<span class=\"token punctuation\">.</span>head<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>iterrows<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"\\nQuestion: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>row<span class=\"token punctuation\">[</span><span class=\"token string\">'question'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span><br>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"Judge: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>row<span class=\"token punctuation\">[</span><span class=\"token string\">'judge_label'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">, Human: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>row<span class=\"token punctuation\">[</span><span class=\"token string\">'target'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span><br>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"Reason: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>row<span class=\"token punctuation\">[</span><span class=\"token string\">'judge_reason'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"improve-judge-prompt\" tabindex=\"-1\">Improve Judge Prompt</h3>\n<p>Based on error patterns, create an improved judge.</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\"># Improved prompt addressing identified issues</span><br>improved_judge <span class=\"token operator\">=</span> DiscreteMetric<span class=\"token punctuation\">(</span><br>    name<span class=\"token operator\">=</span><span class=\"token string\">\"financial_advice_quality_v2\"</span><span class=\"token punctuation\">,</span><br>    prompt<span class=\"token operator\">=</span><span class=\"token triple-quoted-string string\">\"\"\"Evaluate if the response provides comprehensive financial advice.<br><br>CRITERIA:<br>1. ‚úì Must clearly explain key financial concepts<br>2. ‚úì Must include relevant calculations or metrics<br>3. ‚úì Must discuss risks and tax implications<br>4. ‚úì Must provide actionable next steps<br>5. ‚úì Must avoid generic advice without specifics<br><br>IMPORTANT:<br>- Require ALL 5 criteria to be present<br>- Do NOT accept vague or general statements<br>- Accept paraphrased concepts (different wording is OK)<br>- If even one criterion is missing or vague, return 'fail'<br><br>Response: {response}<br><br>Are all 5 criteria clearly met in the response? Answer 'pass' or 'fail'.\"\"\"</span><span class=\"token punctuation\">,</span><br>    allowed_values<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"pass\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"fail\"</span><span class=\"token punctuation\">]</span><br><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"re-run-with-improved-judge\" tabindex=\"-1\">Re-run with Improved Judge</h3>\n<p>Execute with the improved version.</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">def</span> <span class=\"token function\">run_improved</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>    dataset <span class=\"token operator\">=</span> load_dataset<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>    client <span class=\"token operator\">=</span> AsyncOpenAI<span class=\"token punctuation\">(</span>api_key<span class=\"token operator\">=</span>os<span class=\"token punctuation\">.</span>environ<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">\"OPENAI_API_KEY\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br>    llm <span class=\"token operator\">=</span> llm_factory<span class=\"token punctuation\">(</span><span class=\"token string\">\"gpt-4o-mini\"</span><span class=\"token punctuation\">,</span> client<span class=\"token operator\">=</span>client<span class=\"token punctuation\">)</span><br><br>    <span class=\"token comment\"># Use improved judge</span><br>    results <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> judge_experiment<span class=\"token punctuation\">.</span>arun<span class=\"token punctuation\">(</span><br>        dataset<span class=\"token punctuation\">,</span><br>        name<span class=\"token operator\">=</span><span class=\"token string\">\"judge_improved_v2\"</span><span class=\"token punctuation\">,</span><br>        judge_metric<span class=\"token operator\">=</span>improved_judge<span class=\"token punctuation\">,</span><br>        llm<span class=\"token operator\">=</span>llm<br>    <span class=\"token punctuation\">)</span><br><br>    passed <span class=\"token operator\">=</span> <span class=\"token builtin\">sum</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token keyword\">for</span> r <span class=\"token keyword\">in</span> results <span class=\"token keyword\">if</span> r<span class=\"token punctuation\">[</span><span class=\"token string\">\"alignment\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> <span class=\"token string\">\"pass\"</span><span class=\"token punctuation\">)</span><br>    total <span class=\"token operator\">=</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>results<span class=\"token punctuation\">)</span><br>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"Improved alignment: </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>passed<span class=\"token punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>total<span class=\"token punctuation\">}</span></span><span class=\"token string\"> (</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>passed<span class=\"token operator\">/</span>total<span class=\"token punctuation\">:</span><span class=\"token format-spec\">.1%</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">)\"</span></span><span class=\"token punctuation\">)</span><br><br>    <span class=\"token keyword\">return</span> results<br><br>results <span class=\"token operator\">=</span> asyncio<span class=\"token punctuation\">.</span>run<span class=\"token punctuation\">(</span>run_improved<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<p>It‚Äôs of course not a simple single step process. You gotta at least do it a few times. Keep iterating till you find that sweet spot.</p>\n<p>You can also run multiple judges and combine results, evaluate the entire conversation flow or create your metric implementation. I‚Äôll leave that to you to figure out. A super tip that helped me learn faster was to include examples in prompts to improve judge accuracy. Make it as verbose as you can. Avoid jargons or explain any jargons that you‚Äôre using. For example, LLM might not know what <em>ARR</em> means.</p>\n<h2 id=\"best-practices\" tabindex=\"-1\">Best Practices</h2>\n<ol>\n<li>\n<p>Start with Domain Experts - Ground truth quality is critical</p>\n</li>\n<li>\n<p>Document Evaluation Criteria - Clear criteria prevents ambiguity</p>\n</li>\n<li>\n<p>Measure Inter-Rater Reliability - Use multiple annotators to validate ground truth</p>\n</li>\n<li>\n<p>Analyze Judge Performance by Category - Break down alignment by different data types</p>\n</li>\n<li>\n<p>Version Control Judge Prompts - Track prompt changes for reproducibility</p>\n</li>\n</ol>\n<p>If you‚Äôve more good practices to follow, add below in comments. Would love to learn more.</p>\n<p>But Wait, Can We Trust the Judge?<br>\nLLM judges are <strong>not perfect</strong>. They inherit biases from their own training. For example:</p>\n<ul>\n<li>\n<p>A GPT-4 judge might favor GPT-style phrasing over open-source models.</p>\n</li>\n<li>\n<p>Judges can be ‚Äúprompt-sensitive‚Äù. Small wording changes may affect verdicts.</p>\n</li>\n<li>\n<p>They might hallucinate reasoning for why one answer is better.</p>\n</li>\n</ul>\n<p>Hence, follow the best practices and keep iterating to improve your judge.</p>\n<p><img src=\"https://cdn.prod.website-files.com/660ef16a9e0687d9cc27474a/66db3980c17b8cda52071c1d_00_llm_judge_tutorial-min.png\" alt=\"\"></p>\n<p>The next wave of evaluation focuses on <strong>meta-judging</strong>, evaluating the evaluators themselves.</p>\n<p>Some emerging ideas:</p>\n<ul>\n<li>\n<p><strong>Multi-LLM consensus</strong>: Multiple judges vote or debate before giving a verdict.</p>\n</li>\n<li>\n<p><strong>Grounded evals</strong>: Judges verify outputs against real data or APIs.</p>\n</li>\n<li>\n<p><strong>Human-AI hybrid evaluation</strong>: Humans handle edge cases; LLMs handle scale.</p>\n</li>\n</ul>\n<p>As open-source models get stronger, expect to see <strong>judge models fine-tuned for fairness and domain expertise</strong>, like ‚ÄúMedJudge‚Äù for medical LLMs or ‚ÄúCodeJudge‚Äù for programming tasks.</p>\n<h2 id=\"%F0%9F%93%9A-references-%26-further-reading\" tabindex=\"-1\">üìö References &amp; Further Reading</h2>\n<ul>\n<li>\n<p><a href=\"https://arxiv.org/abs/2306.05685\">MT-Bench: Multi-turn Benchmark for LLMs</a></p>\n</li>\n<li>\n<p><a href=\"https://docs.ragas.io/en/stable/howtos/applications/align-llm-as-judge/\"><strong>Judge Alignment Guide</strong></a></p>\n</li>\n<li>\n<p><a href=\"https://lmsys.org/blog/2024-04-19-arena-hard/\">Arena Hard Benchmark</a></p>\n</li>\n<li>\n<p><a href=\"https://github.com/explodinggradients/ragas\">Ragas- Evaluation Framework for RAG Pipelines</a></p>\n</li>\n<li>\n<p><a href=\"https://www.trulens.org/\">TruLens- Evaluating LLM Apps</a></p>\n</li>\n<li>\n<p><a href=\"https://arxiv.org/abs/2309.00267\">Anthropic: RLAIF Paper</a></p>\n</li>\n</ul>\n<p>The LLM-as-Judge approach is not about replacing humans. It‚Äôs about <strong>accelerating truth-finding.</strong><br>\nAs models grow in complexity, human evaluation alone can‚Äôt keep up. Using LLMs as judges gives us a powerful mirror, one that helps us see how far we‚Äôve come, and how much further we can go.</p>\n<blockquote>\n<p>‚ÄúTo build better intelligence, we need better ways to measure it.‚Äù<br>\n‚Äî That‚Äôs exactly what LLM-as-Judge brings to the table.</p>\n</blockquote>\n<p>Here‚Äôs a simple diagram showing how <strong>LLM-as-Judge</strong> fits into the AI evaluation loop:</p>\n<p><img src=\"/images/posts/e8d06811-fa5f-47f0-9806-4ddbb72cc138.png\" alt=\"\"></p>\n<ol>\n<li>\n<p>A user or testbench sends an <strong>input or question</strong>.</p>\n</li>\n<li>\n<p>One or more <strong>models</strong> generate responses.</p>\n</li>\n<li>\n<p>A <strong>judge LLM</strong> compares or evaluates these responses.</p>\n</li>\n<li>\n<p>The <strong>verdict or score</strong> is recorded for metrics or training.</p>\n</li>\n<li>\n<p>Feedback loops back to improve the model, thus closing the evaluation cycle.</p>\n</li>\n</ol>\n<blockquote>\n<p>The key to success is treating judge alignment as a first-class problem: invest time in understanding your data, clarifying evaluation criteria with domain experts, and systematically improving your judge prompts based on actual error patterns.</p>\n</blockquote>\n<p>With an aligned judge as your foundation, you can confidently scale evaluation of RAG systems, agents, and any LLM application, knowing that improvements in metrics translate to real improvements in quality.</p>\n",
      "date_published": "2025-11-09T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/ai-evals/",
      "url": "https://blog.anirudha.dev/ai-evals/",
      "title": "Unit Tests for Intelligence",
      "content_html": "<p>A few months ago, as I was exploring machine learning while working on a project, one of my models kept behaving in a weird way. I had built a classifier to detect cats in images. During training, accuracy was awesome, near 99%. But in production, it failed miserably. The reason? Some of my ‚Äúcat‚Äù photos had the same watermark on the corner. The model wasn‚Äôt learning cats, it was learning the watermark.</p>\n<p>It hit me then: We had <strong>no proper way to test <em>what</em> the model had learned</strong>. We were measuring <em>accuracy</em>, but not <em>intelligence</em>.</p>\n<p>And that‚Äôs where the concept of <strong>AI Evals</strong> comes in, the <strong>unit tests for intelligence</strong>.</p>\n<h3 id=\"what-are-%E2%80%9Cevals%E2%80%9D%3F\" tabindex=\"-1\">What Are ‚ÄúEvals‚Äù?</h3>\n<p>Evals (short for <em>evaluations</em>) are structured tests designed to measure how well an AI model performs on specific kinds of reasoning, understanding, or behavior.</p>\n<p>Just like unit tests verify your functions do what you expect, <strong>evals verify your model thinks how you expect</strong>.</p>\n<table>\n<thead>\n<tr>\n<th>Analogy</th>\n<th>Traditional Software</th>\n<th>AI Systems</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Input</td>\n<td>Function arguments</td>\n<td>Prompt / Input text</td>\n</tr>\n<tr>\n<td>Logic</td>\n<td>Deterministic code</td>\n<td>Model reasoning (latent)</td>\n</tr>\n<tr>\n<td>Output</td>\n<td>Return value</td>\n<td>Generated response</td>\n</tr>\n<tr>\n<td>Test</td>\n<td>Assert conditions</td>\n<td>Evaluate metrics / compare ideal outputs</td>\n</tr>\n</tbody>\n</table>\n<p>You wouldn‚Äôt ship code without tests. So why ship a model without evals?</p>\n<h3 id=\"why-evals-matter\" tabindex=\"-1\">Why Evals Matter</h3>\n<p>AI models, especially large language models (LLMs), aren‚Äôt deterministic. You can‚Äôt just run them once and say ‚Äúit works.‚Äù They need to be <strong>probed</strong>, <strong>benchmarked</strong>, and <strong>stress-tested</strong> like any intelligent system.</p>\n<p>Evals help you:</p>\n<ul>\n<li>\n<p>Detect regressions between model versions</p>\n</li>\n<li>\n<p>Understand reasoning strengths and blind spots</p>\n</li>\n<li>\n<p>Quantify subjective traits (helpfulness, creativity, bias, etc.)</p>\n</li>\n<li>\n<p>Track improvements as you fine-tune or change prompts</p>\n</li>\n</ul>\n<p>They‚Äôre not just about performance. They‚Äôre about <em>understanding intelligence behaviorally</em>.</p>\n<h3 id=\"visualizing-the-flow\" tabindex=\"-1\">Visualizing the Flow</h3>\n<p>Let‚Äôs picture an eval as a mini experiment:</p>\n<p><img src=\"/images/posts/009f4b9f-3997-4405-b55b-7267dc5e73d3.png\" alt=\"\"></p>\n<ul>\n<li>\n<p><strong>Input:</strong> what you feed the model (prompt, image, etc.)</p>\n</li>\n<li>\n<p><strong>Reasoning:</strong> the model‚Äôs internal ‚Äúthought‚Äù (hidden weights, attention)</p>\n</li>\n<li>\n<p><strong>Output Check:</strong> compare the output to an expected or reference result</p>\n</li>\n</ul>\n<p>You can think of it like <code>assert output == expected</code>, but smarter. Because ‚Äúexpected‚Äù might not be a single string, it could be a semantic similarity, a rubric score, or a human judgment.</p>\n<h3 id=\"a-tiny-example%3A-logic-eval\" tabindex=\"-1\">A Tiny Example: Logic Eval</h3>\n<p>Let‚Äôs take a toy case.</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> openai <span class=\"token keyword\">import</span> OpenAI<br>client <span class=\"token operator\">=</span> OpenAI<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br><br><span class=\"token keyword\">def</span> <span class=\"token function\">logic_eval</span><span class=\"token punctuation\">(</span>question<span class=\"token punctuation\">,</span> expected_answer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>    response <span class=\"token operator\">=</span> client<span class=\"token punctuation\">.</span>responses<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span><br>        model<span class=\"token operator\">=</span><span class=\"token string\">\"gpt-4.1-mini\"</span><span class=\"token punctuation\">,</span><br>        <span class=\"token builtin\">input</span><span class=\"token operator\">=</span>question<br>    <span class=\"token punctuation\">)</span><br>    answer <span class=\"token operator\">=</span> response<span class=\"token punctuation\">.</span>output_text<span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>    passed <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>answer<span class=\"token punctuation\">.</span>lower<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> expected_answer<span class=\"token punctuation\">.</span>lower<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"question\"</span><span class=\"token punctuation\">:</span> question<span class=\"token punctuation\">,</span> <span class=\"token string\">\"model_answer\"</span><span class=\"token punctuation\">:</span> answer<span class=\"token punctuation\">,</span> <span class=\"token string\">\"passed\"</span><span class=\"token punctuation\">:</span> passed<span class=\"token punctuation\">}</span><br><br>tests <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><br>    <span class=\"token punctuation\">(</span><span class=\"token string\">\"If all cats are animals and some animals are not cats, are all animals cats?\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"No\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>    <span class=\"token punctuation\">(</span><span class=\"token string\">\"If A implies B and A is true, what about B?\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"True\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">]</span><br><br><span class=\"token keyword\">for</span> t <span class=\"token keyword\">in</span> tests<span class=\"token punctuation\">:</span><br>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>logic_eval<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>t<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Output:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">{</span><span class=\"token string\">'question'</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">'If all cats...'</span>, <span class=\"token string\">'model_answer'</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">'No'</span>, <span class=\"token string\">'passed'</span><span class=\"token builtin class-name\">:</span> True<span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">{</span><span class=\"token string\">'question'</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">'If A implies B...'</span>, <span class=\"token string\">'model_answer'</span><span class=\"token builtin class-name\">:</span> <span class=\"token string\">'True'</span>, <span class=\"token string\">'passed'</span><span class=\"token builtin class-name\">:</span> True<span class=\"token punctuation\">}</span></code></pre>\n<p>That‚Äôs a <strong>simple eval</strong>, a ‚Äúunit test‚Äù for reasoning logic. But unlike code tests, this checks <em>semantic understanding</em>, not strict syntax.</p>\n<p>Lets go a bit deeper‚Ä¶</p>\n<h3 id=\"behavioral-evals\" tabindex=\"-1\">Behavioral Evals</h3>\n<p>Modern evals go beyond right/wrong answers. They measure <strong>how</strong> and <strong>why</strong> a model responds.</p>\n<p>For example:</p>\n<ul>\n<li>\n<p><strong>Safety evals:</strong> ‚ÄúDoes the model refuse unsafe instructions?‚Äù</p>\n</li>\n<li>\n<p><strong>Helpfulness evals:</strong> ‚ÄúDoes it give contextually useful advice?‚Äù</p>\n</li>\n<li>\n<p><strong>Bias evals:</strong> ‚ÄúDoes it favor certain groups or ideas?‚Äù</p>\n</li>\n<li>\n<p><strong>Creativity evals:</strong> ‚ÄúCan it reimagine a concept in a novel way?‚Äù</p>\n</li>\n</ul>\n<p>You might score them with:</p>\n<ul>\n<li>\n<p>Direct comparison to a reference answer (string match)</p>\n</li>\n<li>\n<p>LLM-as-a-judge scoring (‚Äúrate from 1‚Äì5‚Äù)</p>\n</li>\n<li>\n<p>Rule-based scripts</p>\n</li>\n<li>\n<p>Embedding similarity metrics</p>\n</li>\n</ul>\n<p>So instead of just ‚Äúassert true‚Äù, you now have <em>graded</em> intelligence.</p>\n<h3 id=\"the-evals-mindset\" tabindex=\"-1\">The Evals Mindset</h3>\n<p>When you start thinking in evals, you stop asking <em>‚Äú<strong><strong>Is my model smart?</strong></strong>‚Äù</em> and start asking <em>‚Äú<strong><strong>How is my model smart and where does it fail?</strong></strong>‚Äù</em></p>\n<p>That shift is huge. It turns AI development from a black box into a scientific process.</p>\n<h3 id=\"building-your-own-evals\" tabindex=\"-1\">Building Your Own Evals</h3>\n<p>You can start simple:</p>\n<ol>\n<li>\n<p><strong>Define what to test.</strong> (reasoning, math, factual accuracy, tone)</p>\n</li>\n<li>\n<p><strong>Create a testset.</strong> (small JSON or CSV of prompt ‚Üí expected)</p>\n</li>\n<li>\n<p><strong>Automate evaluation.</strong> (script or framework)</p>\n</li>\n<li>\n<p><strong>Track performance.</strong> (store metrics per model/version)</p>\n</li>\n</ol>\n<p>Example JSON testset:</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">[</span><br>  <span class=\"token punctuation\">{</span><br>    <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"logic_001\"</span><span class=\"token punctuation\">,</span><br>    <span class=\"token property\">\"input\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"If X > Y and Y > Z, is X > Z?\"</span><span class=\"token punctuation\">,</span><br>    <span class=\"token property\">\"expected\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Yes\"</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  <span class=\"token punctuation\">{</span><br>    <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"math_002\"</span><span class=\"token punctuation\">,</span><br>    <span class=\"token property\">\"input\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"What‚Äôs 12 * 8?\"</span><span class=\"token punctuation\">,</span><br>    <span class=\"token property\">\"expected\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"96\"</span><br>  <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">]</span></code></pre>\n<p>Then, a script that runs through each item and logs results. You can even compare models side by side, just like <code>pytest</code> results.</p>\n<h3 id=\"frameworks-to-explore\" tabindex=\"-1\">Frameworks to Explore</h3>\n<p>Some great open-source tools already exist:</p>\n<ul>\n<li>\n<p><a href=\"https://ragas.io/\">Ragas</a> - one of the leading evals today and wide range of llm options, integrations and metrics available. (Don‚Äôt just take my word for it cause I‚Äôm working on it. Really, give it a try!)</p>\n</li>\n<li>\n<p><strong>OpenAI Evals</strong> ‚Äì the eval harness used to test GPT models</p>\n</li>\n<li>\n<p><strong>HELM</strong> (by Stanford CRFM) ‚Äì holistic evaluation across domains</p>\n</li>\n<li>\n<p><strong>LangSmith / TruLens</strong> ‚Äì track evals with visual dashboards</p>\n</li>\n</ul>\n<p>But you don‚Äôt need fancy infrastructure to start. A CSV and a few lines of Python are enough to make your first evals suite.</p>\n<h3 id=\"the-big-picture\" tabindex=\"-1\">The Big Picture</h3>\n<p>Evals are how we <strong>bring engineering discipline to AI</strong>. They don‚Äôt just tell us if a model is ‚Äúgood‚Äù. They tell us <em>how</em> it behaves, <em>where</em> it fails, and <em>why</em> it improves.</p>\n<p>In other words, evals are <strong>unit tests for intelligence</strong>.</p>\n<p>And if the future of AI is about aligning machines with human values, then evals are how we write those values, in code.</p>\n<p><a href=\"https://hamel.dev/blog/posts/evals/\"><img src=\"https://hamel.dev/blog/posts/evals/images/diagram-cover.png\" alt=\"\"></a></p>\n<p>Let me know how you‚Äôre exploring evals and how you see them as. üëã</p>\n",
      "date_published": "2025-10-26T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/wasmrun-os/",
      "url": "https://blog.anirudha.dev/wasmrun-os/",
      "title": "Run your code anywhere",
      "content_html": "<p>Let me tell you about Vani. She‚Äôs a web development instructor teaching Node.js to a class of 30 students. Every semester, she spends the first two weeks just getting everyone‚Äôs environment set up. Some students have Windows, others have Mac, and a few brave souls are on Linux. Half of them struggle with npm permissions, a quarter get stuck with PATH issues, and there‚Äôs always that one student whose antivirus blocks Node.js installation entirely.</p>\n<p>By the time everyone can run <code>npm install</code> successfully, Vani has lost two weeks of actual teaching time. And that‚Äôs just for one language. If she wants to teach Python next semester, the whole circus starts again.</p>\n<p>Or consider Jiwan, a senior developer at a startup. He works on three different projects: a legacy app on Node.js v12, the current production app on v20, and a new experimental project on v24. He‚Äôs constantly switching between them using nvm, but sometimes he forgets to switch, and suddenly his v18 app breaks because he‚Äôs running it on v14. He‚Äôs tried Docker, but the overhead is annoying, and his M1 Mac makes Docker even slower.</p>\n<p>Then there‚Äôs the open-source maintainer who wants to add a ‚ÄúTry it now‚Äù button to their project‚Äôs README. They want people to click and immediately play with the code, no installation required. But setting up a server to run user code safely is expensive and complicated. How do you sandbox untrusted code? How do you prevent someone from mining Bitcoin on your servers? How do you prevent some hidden script to steal all your passwords and if you‚Äôve wallet linked, all your hard earned money? How do you scale when your project goes viral on Hacker News?</p>\n<p>These aren‚Äôt edge cases. These are everyday problems that developers face. We‚Äôve been solving them the same way for decades: install runtimes locally, manage versions manually, hope nothing conflicts, and pray that ‚Äúworks on my machine‚Äù actually works on theirs too.</p>\n<p>A simple solution came up in the form of containers. Docker is almost a household tool found in every other project and sometimes too often as recommended way to develop. Various orchestration have come up in the recent years and the entire devops heavy infra became a norm, of which we‚Äôre part of today. I‚Äôm not saying dockers of this world are a pain, but I can tell you no dev, while building wants to run heavy containers just to keep checking if it‚Äôs compatible in various machines.</p>\n<p><a href=\"https://x.com/solomonstre/status/1111004913222324225\"><img src=\"/images/posts/84868000-d973-4d4d-8807-0b0ca47289b8.png\" alt=\"\"></a></p>\n<h2 id=\"what-if-code-could-just-run%3F\" tabindex=\"-1\">What if Code Could Just Run?</h2>\n<p>Imagine opening a browser and running any project without installing anything. No Node.js download, no Python virtual environments, no Go toolchain, no dependency hell. Just open a URL and start coding.</p>\n<p>Sounds like science fiction? It‚Äôs not. StackBlitz already does this with their <a href=\"https://webcontainers.io/\">WebContainers</a>. You can run full Node.js applications entirely in your browser. The server just serves static files. Everything executes client-side in WebAssembly.</p>\n<p>But WebContainers are proprietary and focused on their IDE. What if we could have this capability as a standalone tool? What if it worked for any language, not just JavaScript? What if it was open source and you could either build or request the community for features specific to your needs?</p>\n<p>That‚Äôs why we‚Äôre building <a href=\"https://github.com/anistark/wasmrun\">wasmrun OS</a>.</p>\n<h3 id=\"the-teacher%E2%80%99s-dream\" tabindex=\"-1\">The Teacher‚Äôs Dream</h3>\n<p>Remember Vani? With wasmrun OS mode, she could teach Python next semester by just changing one parameter. The same environment, the same interface, different language. Her students could focus on learning programming, not fighting with their computers.</p>\n<p>One student doesn‚Äôt have a laptop? They can use the library computer. Another student‚Äôs computer is locked down by corporate IT? Doesn‚Äôt matter - it runs in the browser. The playing field is level.</p>\n<h3 id=\"the-developer%E2%80%99s-sanity\" tabindex=\"-1\">The Developer‚Äôs Sanity</h3>\n<p>Jiwan‚Äôs life gets simpler too. Each project specifies its Node.js version in <code>package.json</code>. wasmrun OS mode reads it and loads exactly that version - v14, v18, v20, whatever. No more nvm, no more ‚Äúwhich version am I on again?‚Äù, no more conflicts.</p>\n<p>He opens his legacy project, it runs on v14. He switches to production, it automatically loads v18. He experiments with the new features, v20 is there. Different projects, different versions, zero mental overhead.</p>\n<p>Better yet, everything runs in isolation. If his experimental project crashes spectacularly, it doesn‚Äôt affect anything else. No stray processes, no port conflicts, no leftover node_modules pollution. Clean slate every time.</p>\n<h3 id=\"play-around-with-code-more\" tabindex=\"-1\">Play around with code more</h3>\n<p>First-time contributor wants to fix a bug in an open source project? Run it with wasmrun, see the code running, make their changes, verify the fix works, submit a PR. They never installed anything. The barrier to contribution just dropped to almost zero.</p>\n<h3 id=\"the-student-learning-to-code\" tabindex=\"-1\">The Student Learning to Code</h3>\n<p>Ankita is learning web development. She‚Äôs 16 and uses her school‚Äôs Chromebook. She can‚Äôt install anything. The device is locked down. But she can open a browser.</p>\n<p>Her online course uses wasmrun OS. She‚Äôs building a REST API in Node.js. She‚Äôs never touched Node.js before. She doesn‚Äôt know what npm is. She doesn‚Äôt need to. The environment handles it. She can focus on learning Express routes, not fighting with npm or bun or pnpm or yarn debate.</p>\n<p>Next week, she‚Äôs learning Python and Flask. Same environment, same interface, different language. No cognitive load from different tools. Just learning.</p>\n<h3 id=\"the-company-running-code-safely\" tabindex=\"-1\">The Company Running Code Safely</h3>\n<p>A startup builds a platform where users submit data processing scripts. These scripts need to run, but they‚Äôre untrusted code. What if someone writes an infinite loop? What if they try to access the file system? What if they attempt to make network requests to exfiltrate data?</p>\n<p>Traditional solution: spin up Docker containers, set strict resource limits, monitor everything, deal with cold starts, pay for idle containers, hope your sandboxing is bulletproof.</p>\n<p>With wasmrun OS: user submits code, it runs in a WebAssembly sandbox in their own browser. It has zero access to the host system. It can‚Äôt make network requests unless explicitly allowed. It can‚Äôt access real files. When it‚Äôs done, it‚Äôs gone. No servers strained, no security nightmares, no infrastructure costs for running user code.</p>\n<p>The startup‚Äôs servers? They just coordinate and store results. The heavy lifting happens client-side.</p>\n<h3 id=\"the-conference-workshop\" tabindex=\"-1\">The Conference Workshop</h3>\n<p>Arko is running a workshop at a developer conference. He‚Äôs teaching 200 people how to build microservices with Go. In the past, he‚Äôd spend the first 30 minutes helping people install Go, set GOPATH, troubleshoot compiler errors on Windows.</p>\n<p>Now? ‚ÄúEveryone run with wasmrun.‚Äù That‚Äôs it. Two minutes later, everyone has an identical Go development environment. Different laptops, different operating systems, same environment.</p>\n<p>Halfway through, he realizes he should have used a different Go version. He updates one configuration file, tells everyone to refresh. Done. Everything rebuilds as per the new specs now.</p>\n<h3 id=\"the-offline-developer\" tabindex=\"-1\">The Offline Developer</h3>\n<p>Puja is an adventure junkie programmer. She‚Äôs currently in a cabin in rural Vietnam with spotty internet. She‚Äôs gonna go for a deep dive the next morning. She loaded wasmrun OS mode yesterday when she had good wifi in the city. The browser cached the Node.js v20 runtime - all 50MB of it.</p>\n<p>Now she‚Äôs offline, but she‚Äôs still coding. The runtime is cached, her project files are in the browser, and everything works. She‚Äôs building a REST API, running tests, seeing live results. No internet required.</p>\n<p>When she gets back to civilization, she‚Äôll push her code to GitHub. But for now, she‚Äôs productive in the middle of nowhere.</p>\n<p><em>So, how does wasmrun OS actually work?</em></p>\n<h3 id=\"the-traditional-way\" tabindex=\"-1\">The Traditional Way</h3>\n<p>Normally, when you run Node.js code:</p>\n<ol>\n<li>\n<p>You install Node.js on your operating system</p>\n</li>\n<li>\n<p>Your code runs as a process managed by your OS</p>\n</li>\n<li>\n<p>It accesses your real file system</p>\n</li>\n<li>\n<p>It makes real network requests</p>\n</li>\n<li>\n<p>It can do anything your user account can do</p>\n</li>\n</ol>\n<p>This works, but it‚Äôs heavy and risky. Heavy because you need the full runtime installed. Risky because the code has real access to your system.</p>\n<h3 id=\"the-wasmrun-way\" tabindex=\"-1\">The wasmrun Way</h3>\n<p>With wasmrun OS mode:</p>\n<ol>\n<li>\n<p>The browser downloads a tiny kernel (2-3MB of WebAssembly)</p>\n</li>\n<li>\n<p>This kernel is like a mini operating system running in your browser</p>\n</li>\n<li>\n<p>When you run a Node.js project, the kernel downloads the Node.js runtime (50MB, but cached)</p>\n</li>\n<li>\n<p>Your code runs inside this Node.js runtime, which runs inside the kernel, which runs in WebAssembly, which runs in your browser. (No, I wasn‚Äôt thinking of inception, you were!)</p>\n</li>\n<li>\n<p>It‚Äôs sandboxed at every level</p>\n</li>\n</ol>\n<p>Think of it like Russian nesting dolls, but for code execution environments. Best part, you don‚Äôt even need to think about any of it.</p>\n<p><img src=\"/images/posts/06ffc418-e559-4686-a7a9-ccc7427aaa0d.png\" alt=\"\"></p>\n<p>The kernel is the brain. It manages:</p>\n<ul>\n<li>\n<p><strong>Processes</strong>: Each project you run gets a unique process ID, just like in a real OS</p>\n</li>\n<li>\n<p><strong>File system</strong>: A virtual file system that exists only in browser memory</p>\n</li>\n<li>\n<p><strong>Scheduling</strong>: If you run multiple projects, it schedules CPU time between them</p>\n</li>\n<li>\n<p><strong>Syscalls</strong>: When your code wants to read a file or make a network request, the kernel handles it</p>\n</li>\n</ul>\n<p>It‚Äôs written in Rust and compiled to WebAssembly. It‚Äôs tiny, fast, and secure. All development is in public built as open source project.</p>\n<p>The kernel doesn‚Äôt run your JavaScript or Python directly. It loads language-specific runtimes:</p>\n<p><strong>Node.js runtime</strong>: A full Node.js environment compiled to WebAssembly. It includes V8 (the JavaScript engine), the Node.js APIs (fs, http, etc.), and npm support. When it needs to read a file, it asks the kernel. When it needs to make a network request, the kernel intercepts it and uses browser‚Äôs APIs like capability APIs.</p>\n<p><strong>Python runtime</strong>: CPython compiled to WebAssembly, with pip support. Same idea - it talks to the kernel for system operations. Kinda similar to how <a href=\"https://pyodide.org/en/stable/\">pyodide</a> works, but we‚Äôre running inside a controlled container, so the runtime approach is quite different and configurable with a range of language plugins.</p>\n<p><strong>Go runtime</strong>: Go programs (<a href=\"https://tinygo.org/\">tinygo</a>) can already compile to WebAssembly, so this one‚Äôs simpler. The Go code compiles directly, and the kernel provides the syscall interface.</p>\n<h3 id=\"version-management\" tabindex=\"-1\">Version Management</h3>\n<p>Here‚Äôs the clever part: your <code>package.json</code> might say:</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span><br>  <span class=\"token property\">\"engines\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token property\">\"node\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\">=18.0.0\"</span><br>  <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>wasmrun OS mode reads this. It checks what Node.js versions are available. It picks v20 (the latest LTS that satisfies &gt;=18). It checks if v20 is cached in your browser. If yes, loads it instantly. If no, downloads it once and caches it forever. Of course you can clear the cache anytime you want. <em>I‚Äôd not want to keep nodejs v8 till today myself.</em></p>\n<p>Next time you run any project that needs v20, it‚Äôs instant - already cached.</p>\n<p>If you run a project that needs v18, it downloads and caches v18 separately. Now you have both cached. Switching between projects with different versions? Instant. No nvm, no version management, it just works.</p>\n<h3 id=\"the-file-system\" tabindex=\"-1\">The File System</h3>\n<p>Your project has files. Your code reads and writes them. But there‚Äôs no real file system in a browser.</p>\n<p>wasmrun OS mode creates a virtual file system that connects with your original files using a variation of <a href=\"https://github.com/WebAssembly/wasi-filesystem\">wasi filesystem</a>. It‚Äôs just data structures in memory. When you mount your project, it loads all your files into this virtual FS. When your code does <code>fs.readFile('package.json')</code>, the kernel intercepts it and reads from virtual memory.</p>\n<p>You can edit files in the browser UI, and your code sees the changes immediately. Anytime the code is edited, it hooks to the original code and updates that immediately as well.</p>\n<p>For persistence, it can sync to IndexedDB. Close the browser, come back tomorrow, your files are still there.</p>\n<p>If you don‚Äôt like browser UI, edit with neovim or vs code or cursor. If you edit the original code directly, the hot-loading will immediately serve the new build. wasmrun is currenty based on <strong>AOT</strong>(<strong>Ahead-of-Time)</strong> compiler. However, some interest in JIT compilers is under discussion and consideration.</p>\n<h3 id=\"the-security-model\" tabindex=\"-1\">The Security Model</h3>\n<p>Everything runs in WebAssembly. WebAssembly is sandboxed by design - it can‚Äôt escape the browser. Your code can‚Äôt:</p>\n<ul>\n<li>\n<p>Access your real file system</p>\n</li>\n<li>\n<p>Make arbitrary network requests (unless the kernel allows it)</p>\n</li>\n<li>\n<p>Run system commands</p>\n</li>\n<li>\n<p>Access your webcam or microphone</p>\n</li>\n<li>\n<p>Steal your cookies</p>\n</li>\n</ul>\n<p>It‚Äôs as secure as running code can be. Even if you run malicious code, it‚Äôs trapped in the WebAssembly sandbox. When you close the tab, it‚Äôs gone.</p>\n<h2 id=\"the-current-state%3A-experimental-and-evolving\" tabindex=\"-1\">The Current State: Experimental and Evolving</h2>\n<p>Let‚Äôs be honest: this is ambitious. We‚Äôre essentially building an operating system in WebAssembly. We‚Äôre not done yet.</p>\n<h3 id=\"what-works-today\" tabindex=\"-1\">What Works Today</h3>\n<p>If you try wasmrun OS mode right now with latest <a href=\"https://crates.io/crates/wasmrun/0.13.0\"><strong>wasmrun v0.13.0</strong></a>, you‚Äôll get:</p>\n<ul>\n<li>\n<p>A working micro-kernel with process management</p>\n</li>\n<li>\n<p>A virtual WASI file system you can browse</p>\n</li>\n<li>\n<p>Project auto-detection (Node.js, Python, Go, Rust)</p>\n</li>\n<li>\n<p>A development server that starts for your project</p>\n</li>\n<li>\n<p>A browser UI with file explorer and kernel dashboard</p>\n</li>\n<li>\n<p>HTTP proxying to your running application</p>\n</li>\n</ul>\n<p>It works. You can run a project, see it execute, browse files, and interact with it.</p>\n<h2 id=\"why-open-source-matters\" tabindex=\"-1\">Why Open Source Matters</h2>\n<p>wasmrun is open source. The entire OS mode implementation is on GitHub. You can read every line of code. You can see exactly how it works.</p>\n<p><img src=\"/images/posts/238cb9a0-5344-49f2-b1be-4c4a4f2a2ea2.png\" alt=\"\"></p>\n<p>This matters because:</p>\n<p><strong>Trust</strong>: You‚Äôre running code in your browser. You should be able to verify it‚Äôs safe.</p>\n<p><strong>Collaboration</strong>: This is a big project. We need help. Maybe you‚Äôre good at WebAssembly. Maybe you know how Node.js internals work. Maybe you‚Äôre amazing at documentation. There‚Äôs a place for you.</p>\n<p><strong>Innovation</strong>: The best ideas come from diverse perspectives. We‚Äôve designed it one way, but maybe you see a better approach. Open source means you can propose it, implement it, and improve it for everyone.</p>\n<p><strong>Longevity</strong>: Companies pivot. Projects get abandoned. Open source means wasmrun will live as long as people find it useful.</p>\n<p>We‚Äôre actively developing this, and we‚Äôd love your help.</p>\n<h3 id=\"if-you%E2%80%99re-a-developer\" tabindex=\"-1\">If You‚Äôre a Developer</h3>\n<ul>\n<li>\n<p><strong>Contribute code</strong>: Check the GitHub issues. There‚Äôs lots to build.</p>\n</li>\n<li>\n<p><strong>Review architecture</strong>: Read the code and tell us where we can improve.</p>\n</li>\n<li>\n<p><strong>Test it</strong>: Try breaking it. Find bugs. Report them.</p>\n</li>\n<li>\n<p><strong>Integrate runtimes</strong>: Know how to get Node.js running in WASM? We need that expertise.</p>\n</li>\n<li>\n<p><strong>Optimize performance</strong>: Make it faster. Every millisecond counts.</p>\n</li>\n</ul>\n<h3 id=\"if-you%E2%80%99re-a-tech-writer\" tabindex=\"-1\">If You‚Äôre a Tech Writer</h3>\n<ul>\n<li>\n<p><strong>Documentation</strong>: We need clear guides for users and contributors.</p>\n</li>\n<li>\n<p><strong>Tutorials</strong>: ‚ÄúBuild a REST API with wasmrun OS mode‚Äù - someone needs to write this.</p>\n</li>\n<li>\n<p><strong>Architecture docs</strong>: Explain the system in ways people can understand.</p>\n</li>\n</ul>\n<h3 id=\"if-you%E2%80%99re-a-designer\" tabindex=\"-1\">If You‚Äôre a Designer</h3>\n<ul>\n<li>\n<p><strong>UI/UX improvements</strong>: The browser interface works, but it could be beautiful.</p>\n</li>\n<li>\n<p><strong>Branding</strong>: Help us look professional.</p>\n</li>\n<li>\n<p><strong>Accessibility</strong>: Make sure everyone can use it.</p>\n</li>\n</ul>\n<h3 id=\"if-you%E2%80%99re-an-educator\" tabindex=\"-1\">If You‚Äôre an Educator</h3>\n<ul>\n<li>\n<p><strong>Try it in your class</strong>: Give us feedback on what works and what doesn‚Äôt.</p>\n</li>\n<li>\n<p><strong>Create courses</strong>: Build educational content using wasmrun OS mode.</p>\n</li>\n<li>\n<p><strong>Spread the word</strong>: Tell other teachers about it.</p>\n</li>\n</ul>\n<h3 id=\"if-you%E2%80%99re-a-user\" tabindex=\"-1\">If You‚Äôre a User</h3>\n<ul>\n<li>\n<p><strong>Star the repo</strong>: GitHub stars help with visibility.</p>\n</li>\n<li>\n<p><strong>Share your story</strong>: How would wasmrun OS mode help you?</p>\n</li>\n<li>\n<p><strong>Report issues</strong>: Found a bug? Tell us.</p>\n</li>\n<li>\n<p><strong>Feature requests</strong>: What do you need that we haven‚Äôt built yet?</p>\n</li>\n</ul>\n<h2 id=\"the-vision-forward\" tabindex=\"-1\">The Vision Forward</h2>\n<p>Imagine a world where:</p>\n<ul>\n<li>\n<p>‚ÄúInstall Node.js‚Äù is no longer step one of every tutorial</p>\n</li>\n<li>\n<p>Code examples in documentation are runnable with one click</p>\n</li>\n<li>\n<p>Students learn programming without fighting their environment</p>\n</li>\n<li>\n<p>Developers switch between projects and versions effortlessly</p>\n</li>\n<li>\n<p>Running untrusted code is safe by default</p>\n</li>\n<li>\n<p>Every computer with a browser is a full development environment</p>\n</li>\n</ul>\n<p>This isn‚Äôt fantasy. The technology exists. WebAssembly is here. Browsers are powerful. We just need to wire it all together.</p>\n<p><strong>wasmrun</strong> is our attempt to build this future. It‚Äôs experimental, it‚Äôs ambitious, and it‚Äôs not done. But it‚Äôs real, it‚Äôs happening, and you can be part of it.</p>\n<p>We‚Äôre building an operating system for code. An operating system that runs anywhere a browser runs. An operating system that makes programming accessible to everyone.</p>\n<p>Come help us build it.</p>\n<p><img src=\"/images/posts/c111c36b-0eb9-4328-af52-9496f3a7756f.png\" alt=\"\"></p>\n",
      "date_published": "2025-10-12T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/create-your-own-wasm-plugin/",
      "url": "https://blog.anirudha.dev/create-your-own-wasm-plugin/",
      "title": "Create your own wasm plugin",
      "content_html": "<blockquote>\n<p>In this <a href=\"https://blog.anirudha.dev/rust-plugin-system\">first article</a> in this series, we went through all different rust plugins, <a href=\"https://blog.anirudha.dev/wasmrun-plugin-architecture\">the previous one</a>, we understood the wasmrun plugin architecture. Here‚Äôs we‚Äôll learn how to create your own wasm plugin which you can run using <a href=\"https://github.com/anistark/wasmrun\">wasmrun</a>.</p>\n</blockquote>\n<p>Creating wasm plugins, is not limited to wasmrun plugins alone, they can be quite useful in distributing as independent modules as well. What‚Äôs currently lacking today is an open ecosystem, which is surprising given all the developement is quite open. Limited is a better word for it rather. So, consider this more of a guide to building your next wasm project, and to get it to work in the larger wasm ecosystem. Making it open or close is upto you. Currently, I‚Äôve only made it work with published crates, however was testing local plugins as well. So, in case you‚Äôre also interested in contrubuting, feel free to work on it.</p>\n<blockquote>\n<p>Plugins were introduced in wasmrun <a href=\"https://github.com/anistark/wasmrun/releases/tag/v0.8.2\">v0.8.2</a> for first time. However, the structural final changes before making it stable only achieved by <a href=\"https://github.com/anistark/wasmrun/releases/tag/v0.11.3\">v0.11.3</a>. So, make sure you‚Äôve the right <a href=\"https://crates.io/crates/wasmrun\">crate</a> version installed.</p>\n</blockquote>\n<h2 id=\"creating-your-own-plugin\" tabindex=\"-1\">Creating Your Own Plugin</h2>\n<p>Creating a wasmrun plugin involves implementing the required traits and exposing them through FFI for external plugins.</p>\n<h3 id=\"create-a-new-rust-project\" tabindex=\"-1\">Create a New Rust Project</h3>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Create a new library crate</span><br><span class=\"token function\">cargo</span> new <span class=\"token parameter variable\">--lib</span> wasmcustomlang<br><span class=\"token builtin class-name\">cd</span> wasmcustomlang<br><br><span class=\"token comment\"># Add wasmrun as a dependency</span><br><span class=\"token function\">cargo</span> <span class=\"token function\">add</span> wasmrun</code></pre>\n<h3 id=\"configure-cargo.toml\" tabindex=\"-1\">Configure Cargo.toml</h3>\n<pre class=\"language-toml\"><code class=\"language-toml\"><span class=\"token punctuation\">[</span><span class=\"token table class-name\">package</span><span class=\"token punctuation\">]</span><br><span class=\"token key property\">name</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"wasmcustomlang\"</span><br><span class=\"token key property\">version</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"0.1.0\"</span><br><span class=\"token key property\">edition</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"2021\"</span><br><span class=\"token key property\">description</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"Custom language plugin for wasmrun\"</span><br><span class=\"token key property\">license</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"MIT\"</span><br><span class=\"token key property\">keywords</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"wasm\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"webassembly\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"plugin\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"wasmrun\"</span><span class=\"token punctuation\">]</span><br><br><span class=\"token punctuation\">[</span><span class=\"token table class-name\">lib</span><span class=\"token punctuation\">]</span><br><span class=\"token key property\">name</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"wasmcustomlang\"</span><br><span class=\"token key property\">crate-type</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"cdylib\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"rlib\"</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># Both dynamic and static library</span><br><br><span class=\"token punctuation\">[</span><span class=\"token table class-name\">dependencies</span><span class=\"token punctuation\">]</span><br><span class=\"token key property\">wasmrun</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"0.10\"</span><br><span class=\"token key property\">libc</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"0.2\"</span><br><br><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token table class-name\">bin</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><br><span class=\"token key property\">name</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"wasmrun-wasmcustomlang\"</span>  <span class=\"token comment\"># Fallback binary</span><br><span class=\"token key property\">path</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"src/main.rs\"</span></code></pre>\n<h3 id=\"implement-the-plugin-traits\" tabindex=\"-1\">Implement the Plugin Traits</h3>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">use</span> <span class=\"token namespace\">wasmrun<span class=\"token punctuation\">::</span>plugin<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">{</span><span class=\"token class-name\">Plugin</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">WasmBuilder</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">PluginInfo</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Dependencies</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">use</span> <span class=\"token namespace\">wasmrun<span class=\"token punctuation\">::</span>error<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Result</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">use</span> <span class=\"token namespace\">std<span class=\"token punctuation\">::</span>path<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Path</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">pub</span> <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">CustomLangPlugin</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">impl</span> <span class=\"token class-name\">Plugin</span> <span class=\"token keyword\">for</span> <span class=\"token class-name\">CustomLangPlugin</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">name</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token string\">\"customlang\"</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">supported_extensions</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Vec</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><br>        <span class=\"token macro property\">vec!</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"custom\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"cl\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">can_handle_project</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> project_path<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token keyword\">bool</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">let</span> path <span class=\"token operator\">=</span> <span class=\"token class-name\">Path</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>project_path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"main.custom\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">exists</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <br>        path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"customlang.toml\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">exists</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">get_builder</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> _project_path<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Result</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Box</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">dyn</span> <span class=\"token class-name\">WasmBuilder</span><span class=\"token operator\">>></span> <span class=\"token punctuation\">{</span><br>        <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Box</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">CustomLangWasmBuilder</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">get_info</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">PluginInfo</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token class-name\">PluginInfo</span> <span class=\"token punctuation\">{</span><br>            name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"customlang\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>            version<span class=\"token punctuation\">:</span> <span class=\"token string\">\"0.1.0\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>            description<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Custom language WebAssembly compiler\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>            author<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Your Name &lt;email@example.com>\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>            extensions<span class=\"token punctuation\">:</span> <span class=\"token macro property\">vec!</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"custom\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"cl\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>            capabilities<span class=\"token punctuation\">:</span> <span class=\"token macro property\">vec!</span><span class=\"token punctuation\">[</span><br>                <span class=\"token string\">\"compile\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <br>                <span class=\"token string\">\"watch\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>                <span class=\"token string\">\"web\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>            dependencies<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Dependencies</span> <span class=\"token punctuation\">{</span><br>                tools<span class=\"token punctuation\">:</span> <span class=\"token macro property\">vec!</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"customlang-compiler\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>                optional_tools<span class=\"token punctuation\">:</span> <span class=\"token macro property\">vec!</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"customlang-optimizer\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>        <span class=\"token punctuation\">}</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token keyword\">pub</span> <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">CustomLangWasmBuilder</span> <span class=\"token punctuation\">{</span><br>    plugin_info<span class=\"token punctuation\">:</span> <span class=\"token class-name\">PluginInfo</span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token keyword\">impl</span> <span class=\"token class-name\">CustomLangWasmBuilder</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">pub</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token keyword\">Self</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">Self</span> <span class=\"token punctuation\">{</span><br>            plugin_info<span class=\"token punctuation\">:</span> <span class=\"token class-name\">CustomLangPlugin</span><span class=\"token punctuation\">.</span><span class=\"token function\">get_info</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>        <span class=\"token punctuation\">}</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token keyword\">impl</span> <span class=\"token class-name\">WasmBuilder</span> <span class=\"token keyword\">for</span> <span class=\"token class-name\">CustomLangWasmBuilder</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">build</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> project_path<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">,</span> output_path<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Result</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><br>        <span class=\"token comment\">// Your custom compilation logic here</span><br>        <span class=\"token keyword\">let</span> main_file <span class=\"token operator\">=</span> <span class=\"token class-name\">Path</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>project_path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"main.custom\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">let</span> output_file <span class=\"token operator\">=</span> <span class=\"token class-name\">Path</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>output_path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"output.wasm\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>        <span class=\"token comment\">// Example: Call your custom compiler</span><br>        <span class=\"token keyword\">let</span> output <span class=\"token operator\">=</span> <span class=\"token namespace\">std<span class=\"token punctuation\">::</span>process<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Command</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"customlang-compiler\"</span><span class=\"token punctuation\">)</span><br>            <span class=\"token punctuation\">.</span><span class=\"token function\">args</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><br>                <span class=\"token string\">\"--input\"</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>main_file<span class=\"token punctuation\">.</span><span class=\"token function\">to_string_lossy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>                <span class=\"token string\">\"--output\"</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>output_file<span class=\"token punctuation\">.</span><span class=\"token function\">to_string_lossy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>                <span class=\"token string\">\"--target\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"wasm32\"</span><br>            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><br>            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span><br><br>        <span class=\"token keyword\">if</span> output<span class=\"token punctuation\">.</span>status<span class=\"token punctuation\">.</span><span class=\"token function\">success</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>            <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span>output_file<span class=\"token punctuation\">.</span><span class=\"token function\">to_string_lossy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br>        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><br>            <span class=\"token class-name\">Err</span><span class=\"token punctuation\">(</span><span class=\"token namespace\">wasmrun<span class=\"token punctuation\">::</span>error<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">WasmrunError</span><span class=\"token punctuation\">::</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Custom lang compilation failed\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br>        <span class=\"token punctuation\">}</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">build_for_web</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> project_path<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">,</span> output_path<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Result</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><br>        <span class=\"token comment\">// Web-specific build logic</span><br>        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span>project_path<span class=\"token punctuation\">,</span> output_path<span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">clean</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> project_path<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Result</span><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><br>        <span class=\"token comment\">// Clean build artifacts</span><br>        <span class=\"token keyword\">let</span> build_dir <span class=\"token operator\">=</span> <span class=\"token class-name\">Path</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>project_path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"build\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">if</span> build_dir<span class=\"token punctuation\">.</span><span class=\"token function\">exists</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>            <span class=\"token namespace\">std<span class=\"token punctuation\">::</span>fs<span class=\"token punctuation\">::</span></span><span class=\"token function\">remove_dir_all</span><span class=\"token punctuation\">(</span>build_dir<span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span><br>        <span class=\"token punctuation\">}</span><br>        <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">get_wasm_file</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> project_path<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Result</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><br>        <span class=\"token comment\">// Return the main WASM file path</span><br>        <span class=\"token keyword\">let</span> wasm_file <span class=\"token operator\">=</span> <span class=\"token class-name\">Path</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>project_path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"build\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"output.wasm\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span>wasm_file<span class=\"token punctuation\">.</span><span class=\"token function\">to_string_lossy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"implement-ffi-interface\" tabindex=\"-1\">Implement FFI Interface</h3>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">use</span> <span class=\"token namespace\">std<span class=\"token punctuation\">::</span>ffi<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">{</span><span class=\"token class-name\">CString</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">CStr</span><span class=\"token punctuation\">,</span> c_char<span class=\"token punctuation\">,</span> c_void<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">use</span> <span class=\"token namespace\">std<span class=\"token punctuation\">::</span></span>ptr<span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">static</span> <span class=\"token keyword\">mut</span> <span class=\"token constant\">GLOBAL_PLUGIN</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Option</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">CustomLangPlugin</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token class-name\">None</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">static</span> <span class=\"token keyword\">mut</span> <span class=\"token constant\">GLOBAL_BUILDER</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Option</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">CustomLangWasmBuilder</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token class-name\">None</span><span class=\"token punctuation\">;</span><br><br><span class=\"token comment\">// FFI exports for dynamic loading</span><br><span class=\"token attribute attr-name\">#[no_mangle]</span><br><span class=\"token keyword\">pub</span> <span class=\"token keyword\">extern</span> <span class=\"token string\">\"C\"</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">create_wasm_builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">*</span><span class=\"token keyword\">mut</span> c_void <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token constant\">GLOBAL_BUILDER</span> <span class=\"token operator\">=</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">CustomLangWasmBuilder</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token constant\">GLOBAL_BUILDER</span><span class=\"token punctuation\">.</span><span class=\"token function\">as_mut</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> <span class=\"token operator\">*</span><span class=\"token keyword\">mut</span> _ <span class=\"token keyword\">as</span> <span class=\"token operator\">*</span><span class=\"token keyword\">mut</span> c_void<br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token attribute attr-name\">#[no_mangle]</span><br><span class=\"token keyword\">pub</span> <span class=\"token keyword\">extern</span> <span class=\"token string\">\"C\"</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">can_handle_project</span><span class=\"token punctuation\">(</span>builder<span class=\"token punctuation\">:</span> <span class=\"token operator\">*</span><span class=\"token keyword\">mut</span> c_void<span class=\"token punctuation\">,</span> path<span class=\"token punctuation\">:</span> <span class=\"token operator\">*</span><span class=\"token keyword\">const</span> c_char<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token keyword\">bool</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">if</span> builder<span class=\"token punctuation\">.</span><span class=\"token function\">is_null</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">is_null</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">let</span> plugin <span class=\"token operator\">=</span> <span class=\"token class-name\">CustomLangPlugin</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">let</span> c_str <span class=\"token operator\">=</span> <span class=\"token class-name\">CStr</span><span class=\"token punctuation\">::</span><span class=\"token function\">from_ptr</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span>path_str<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> c_str<span class=\"token punctuation\">.</span><span class=\"token function\">to_str</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>            plugin<span class=\"token punctuation\">.</span><span class=\"token function\">can_handle_project</span><span class=\"token punctuation\">(</span>path_str<span class=\"token punctuation\">)</span><br>        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><br>            <span class=\"token boolean\">false</span><br>        <span class=\"token punctuation\">}</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token attribute attr-name\">#[no_mangle]</span><br><span class=\"token keyword\">pub</span> <span class=\"token keyword\">extern</span> <span class=\"token string\">\"C\"</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">build_project</span><span class=\"token punctuation\">(</span><br>    builder<span class=\"token punctuation\">:</span> <span class=\"token operator\">*</span><span class=\"token keyword\">mut</span> c_void<span class=\"token punctuation\">,</span> <br>    project_path<span class=\"token punctuation\">:</span> <span class=\"token operator\">*</span><span class=\"token keyword\">const</span> c_char<span class=\"token punctuation\">,</span> <br>    output_path<span class=\"token punctuation\">:</span> <span class=\"token operator\">*</span><span class=\"token keyword\">const</span> c_char<br><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">*</span><span class=\"token keyword\">const</span> c_char <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">if</span> builder<span class=\"token punctuation\">.</span><span class=\"token function\">is_null</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> project_path<span class=\"token punctuation\">.</span><span class=\"token function\">is_null</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> output_path<span class=\"token punctuation\">.</span><span class=\"token function\">is_null</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">return</span> <span class=\"token namespace\">ptr<span class=\"token punctuation\">::</span></span><span class=\"token function\">null</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">let</span> c_project <span class=\"token operator\">=</span> <span class=\"token class-name\">CStr</span><span class=\"token punctuation\">::</span><span class=\"token function\">from_ptr</span><span class=\"token punctuation\">(</span>project_path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">let</span> c_output <span class=\"token operator\">=</span> <span class=\"token class-name\">CStr</span><span class=\"token punctuation\">::</span><span class=\"token function\">from_ptr</span><span class=\"token punctuation\">(</span>output_path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>        <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span>project_str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span>output_str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>c_project<span class=\"token punctuation\">.</span><span class=\"token function\">to_str</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> c_output<span class=\"token punctuation\">.</span><span class=\"token function\">to_str</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>            <span class=\"token keyword\">let</span> builder_ref <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span><span class=\"token operator\">*</span><span class=\"token punctuation\">(</span>builder <span class=\"token keyword\">as</span> <span class=\"token operator\">*</span><span class=\"token keyword\">mut</span> <span class=\"token class-name\">CustomLangWasmBuilder</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>            <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> builder_ref<span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span>project_str<span class=\"token punctuation\">,</span> output_str<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>                <span class=\"token keyword\">let</span> c_result <span class=\"token operator\">=</span> <span class=\"token class-name\">CString</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>                <span class=\"token keyword\">return</span> c_result<span class=\"token punctuation\">.</span><span class=\"token function\">into_raw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>            <span class=\"token punctuation\">}</span><br>        <span class=\"token punctuation\">}</span><br>        <span class=\"token namespace\">ptr<span class=\"token punctuation\">::</span></span><span class=\"token function\">null</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token attribute attr-name\">#[no_mangle]</span><br><span class=\"token keyword\">pub</span> <span class=\"token keyword\">extern</span> <span class=\"token string\">\"C\"</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">get_plugin_info</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">*</span><span class=\"token keyword\">const</span> c_char <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">let</span> plugin <span class=\"token operator\">=</span> <span class=\"token class-name\">CustomLangPlugin</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">let</span> info <span class=\"token operator\">=</span> plugin<span class=\"token punctuation\">.</span><span class=\"token function\">get_info</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <br>    <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span>json<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token namespace\">serde_json<span class=\"token punctuation\">::</span></span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>info<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">let</span> c_string <span class=\"token operator\">=</span> <span class=\"token class-name\">CString</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>json<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        c_string<span class=\"token punctuation\">.</span><span class=\"token function\">into_raw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token namespace\">ptr<span class=\"token punctuation\">::</span></span><span class=\"token function\">null</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token comment\">// Cleanup function.</span><br><span class=\"token attribute attr-name\">#[no_mangle]</span><br><span class=\"token keyword\">pub</span> <span class=\"token keyword\">extern</span> <span class=\"token string\">\"C\"</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">cleanup_string</span><span class=\"token punctuation\">(</span>ptr<span class=\"token punctuation\">:</span> <span class=\"token operator\">*</span><span class=\"token keyword\">mut</span> c_char<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">if</span> <span class=\"token operator\">!</span>ptr<span class=\"token punctuation\">.</span><span class=\"token function\">is_null</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">{</span><br>            <span class=\"token keyword\">let</span> _ <span class=\"token operator\">=</span> <span class=\"token class-name\">CString</span><span class=\"token punctuation\">::</span><span class=\"token function\">from_raw</span><span class=\"token punctuation\">(</span>ptr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token punctuation\">}</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"(optional)-create-binary\" tabindex=\"-1\">(Optional) Create Binary</h3>\n<p>Another easier approach for plugin extensions was to create and distribute the binary. Binaries could have ran independently with no compatibility issues. I prefer binary is secondary, not primary. However, binary are great to test and develop with.</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token comment\">// src/main.rs</span><br><span class=\"token keyword\">use</span> <span class=\"token namespace\">wasmcustomlang<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">CustomLangPlugin</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">use</span> <span class=\"token namespace\">wasmrun<span class=\"token punctuation\">::</span>plugin<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Plugin</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Result</span><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Box</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">dyn</span> <span class=\"token namespace\">std<span class=\"token punctuation\">::</span>error<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Error</span><span class=\"token operator\">>></span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">let</span> args<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Vec</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token namespace\">std<span class=\"token punctuation\">::</span>env<span class=\"token punctuation\">::</span></span><span class=\"token function\">args</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">collect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <br>    <span class=\"token keyword\">if</span> args<span class=\"token punctuation\">.</span><span class=\"token function\">len</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token macro property\">eprintln!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Usage: {} &lt;command> [args...]\"</span><span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token namespace\">std<span class=\"token punctuation\">::</span>process<span class=\"token punctuation\">::</span></span><span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">let</span> plugin <span class=\"token operator\">=</span> <span class=\"token class-name\">CustomLangPlugin</span><span class=\"token punctuation\">;</span><br>    <br>    <span class=\"token keyword\">match</span> args<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">as_str</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token string\">\"can-handle\"</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><br>            <span class=\"token keyword\">if</span> args<span class=\"token punctuation\">.</span><span class=\"token function\">len</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">3</span> <span class=\"token punctuation\">{</span><br>                <span class=\"token macro property\">eprintln!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Usage: {} can-handle &lt;project-path>\"</span><span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>                <span class=\"token namespace\">std<span class=\"token punctuation\">::</span>process<span class=\"token punctuation\">::</span></span><span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>            <span class=\"token punctuation\">}</span><br>            <span class=\"token keyword\">let</span> can_handle <span class=\"token operator\">=</span> plugin<span class=\"token punctuation\">.</span><span class=\"token function\">can_handle_project</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>args<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>            <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{}\"</span><span class=\"token punctuation\">,</span> can_handle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token punctuation\">}</span><br>        <span class=\"token string\">\"build\"</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><br>            <span class=\"token keyword\">if</span> args<span class=\"token punctuation\">.</span><span class=\"token function\">len</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">4</span> <span class=\"token punctuation\">{</span><br>                <span class=\"token macro property\">eprintln!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Usage: {} build &lt;project-path> &lt;output-path>\"</span><span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>                <span class=\"token namespace\">std<span class=\"token punctuation\">::</span>process<span class=\"token punctuation\">::</span></span><span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>            <span class=\"token punctuation\">}</span><br>            <span class=\"token keyword\">let</span> builder <span class=\"token operator\">=</span> plugin<span class=\"token punctuation\">.</span><span class=\"token function\">get_builder</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>args<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span><br>            <span class=\"token keyword\">let</span> result <span class=\"token operator\">=</span> builder<span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>args<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>args<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span><br>            <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{}\"</span><span class=\"token punctuation\">,</span> result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token punctuation\">}</span><br>        <span class=\"token string\">\"info\"</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><br>            <span class=\"token keyword\">let</span> info <span class=\"token operator\">=</span> plugin<span class=\"token punctuation\">.</span><span class=\"token function\">get_info</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>            <span class=\"token keyword\">let</span> json <span class=\"token operator\">=</span> <span class=\"token namespace\">serde_json<span class=\"token punctuation\">::</span></span><span class=\"token function\">to_string_pretty</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>info<span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span><br>            <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{}\"</span><span class=\"token punctuation\">,</span> json<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token punctuation\">}</span><br>        _ <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><br>            <span class=\"token macro property\">eprintln!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Unknown command: {}\"</span><span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>            <span class=\"token namespace\">std<span class=\"token punctuation\">::</span>process<span class=\"token punctuation\">::</span></span><span class=\"token function\">exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token punctuation\">}</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"build-and-test-locally\" tabindex=\"-1\">Build and Test Locally</h3>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Build the plugin</span><br><span class=\"token function\">cargo</span> build <span class=\"token parameter variable\">--release</span><br><br><span class=\"token comment\"># Test that it builds correctly</span><br><span class=\"token function\">cargo</span> <span class=\"token builtin class-name\">test</span><br><br><span class=\"token comment\"># Create a test project</span><br><span class=\"token function\">mkdir</span> test-project<br><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'fn main() { println!(\"Hello from CustomLang!\"); }'</span> <span class=\"token operator\">></span> test-project/main.custom<br><br><span class=\"token comment\"># Test the plugin locally</span><br><span class=\"token function\">cargo</span> run -- can-handle test-project<br><span class=\"token function\">cargo</span> run -- build test-project ./output<br><span class=\"token function\">cargo</span> run -- info</code></pre>\n<h2 id=\"plugin-distribution\" tabindex=\"-1\">Plugin Distribution</h2>\n<h3 id=\"publish-to-crates.io\" tabindex=\"-1\">Publish to <a href=\"https://crates.io\">crates</a><a href=\"http://Crates.io\">.io</a></h3>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Login to crates.io</span><br><span class=\"token function\">cargo</span> login<br><br><span class=\"token comment\"># Publish the plugin</span><br><span class=\"token function\">cargo</span> publish</code></pre>\n<h3 id=\"plugin-metadata-in-cargo.toml\" tabindex=\"-1\">Plugin Metadata in Cargo.toml</h3>\n<p>For better wasmrun integration, you can add wasmrun-specific metadata to your Cargo.toml:</p>\n<pre class=\"language-toml\"><code class=\"language-toml\"><span class=\"token punctuation\">[</span><span class=\"token table class-name\">package.metadata.wasm_plugin</span><span class=\"token punctuation\">]</span><br><span class=\"token key property\">name</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"customlang\"</span><br><span class=\"token key property\">version</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"0.1.0\"</span><br><span class=\"token key property\">description</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"Custom language WebAssembly compiler\"</span><br><span class=\"token key property\">author</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"Your Name &lt;email@example.com>\"</span><br><span class=\"token key property\">extensions</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"custom\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"cl\"</span><span class=\"token punctuation\">]</span><br><span class=\"token key property\">entry_files</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"main.custom\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"customlang.toml\"</span><span class=\"token punctuation\">]</span><br><br><span class=\"token punctuation\">[</span><span class=\"token table class-name\">package.metadata.wasm_plugin.capabilities</span><span class=\"token punctuation\">]</span><br><span class=\"token key property\">compile_wasm</span> <span class=\"token punctuation\">=</span> <span class=\"token boolean\">true</span><br><span class=\"token key property\">compile_webapp</span> <span class=\"token punctuation\">=</span> <span class=\"token boolean\">true</span><br><span class=\"token key property\">live_reload</span> <span class=\"token punctuation\">=</span> <span class=\"token boolean\">true</span><br><span class=\"token key property\">optimization</span> <span class=\"token punctuation\">=</span> <span class=\"token boolean\">true</span><br><span class=\"token key property\">custom_targets</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"wasm32-unknown-unknown\"</span><span class=\"token punctuation\">]</span><br><span class=\"token key property\">supported_languages</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"customlang\"</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\"># Explicit language support declaration</span><br><span class=\"token comment\"># For multi-language plugins: supported_languages = [\"rust\", \"zig\"]</span><br><span class=\"token comment\"># If there's variations in same language, better to add each as separate langugage.</span><br><br><span class=\"token punctuation\">[</span><span class=\"token table class-name\">package.metadata.wasm_plugin.dependencies</span><span class=\"token punctuation\">]</span><br><span class=\"token key property\">tools</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"customlang-compiler\"</span><span class=\"token punctuation\">]</span><br><span class=\"token key property\">optional_tools</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"customlang-optimizer\"</span><span class=\"token punctuation\">]</span><br><br><span class=\"token punctuation\">[</span><span class=\"token table class-name\">package.metadata.wasm_plugin.exports</span><span class=\"token punctuation\">]</span><br><span class=\"token key property\">create_wasm_builder</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"create_wasm_builder\"</span><br><span class=\"token key property\">can_handle_project</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"customlang_can_handle_project\"</span><br><span class=\"token key property\">build</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"customlang_build\"</span><br><span class=\"token key property\">clean</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"customlang_clean\"</span><br><span class=\"token key property\">clone_box</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"customlang_clone_box\"</span><br><span class=\"token key property\">drop</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"customlang_drop\"</span><br><span class=\"token key property\">plugin_create</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"wasmrun_plugin_create\"</span><br><br><span class=\"token punctuation\">[</span><span class=\"token table class-name\">package.metadata.wasm_plugin.frameworks</span><span class=\"token punctuation\">]</span><br><span class=\"token key property\">supported</span> <span class=\"token punctuation\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"custom-framework\"</span><span class=\"token punctuation\">]</span><br><span class=\"token key property\">auto_detect</span> <span class=\"token punctuation\">=</span> <span class=\"token boolean\">true</span></code></pre>\n<h2 id=\"plugin-management\" tabindex=\"-1\">Plugin Management</h2>\n<h3 id=\"install-and-use-with-wasmrun\" tabindex=\"-1\">Install and Use with Wasmrun</h3>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Install your plugin</span><br>wasmrun plugin <span class=\"token function\">install</span> wasmcustomlang<br><br><span class=\"token comment\"># Use it with a project</span><br>wasmrun ./my-custom-project<br>wasmrun compile ./my-custom-project <span class=\"token parameter variable\">--language</span> customlang</code></pre>\n<h3 id=\"plugin-metadata-management\" tabindex=\"-1\">Plugin Metadata Management</h3>\n<p>Plugin metadata is stored in several places:</p>\n<ul>\n<li>\n<p><code>~/.wasmrun/plugins/{name}/.wasmrun_metadata</code> - Plugin information</p>\n</li>\n<li>\n<p><code>~/.wasmrun/config.toml</code> - Global plugin registry</p>\n</li>\n<li>\n<p>Plugin‚Äôs <code>Cargo.toml</code> - Source metadata</p>\n</li>\n</ul>\n<p>Example metadata file:</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span><br>  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"customlang\"</span><span class=\"token punctuation\">,</span><br>  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0.1.0\"</span><span class=\"token punctuation\">,</span> <br>  <span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Custom language WebAssembly compiler\"</span><span class=\"token punctuation\">,</span><br>  <span class=\"token property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Your Name &lt;email@example.com>\"</span><span class=\"token punctuation\">,</span><br>  <span class=\"token property\">\"extensions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"custom\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"cl\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>  <span class=\"token property\">\"entry_files\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"main.custom\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"customlang.toml\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>  <span class=\"token property\">\"capabilities\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token property\">\"compile_wasm\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span><br>    <span class=\"token property\">\"compile_webapp\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span><br>    <span class=\"token property\">\"live_reload\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span><br>    <span class=\"token property\">\"optimization\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span><br>    <span class=\"token property\">\"custom_targets\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"wasm32-unknown-unknown\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>    <span class=\"token property\">\"supported_languages\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"customlang\"</span><span class=\"token punctuation\">]</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  <span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token property\">\"tools\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"customlang-compiler\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>    <span class=\"token property\">\"optional_tools\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"customlang-optimizer\"</span><span class=\"token punctuation\">]</span><br>  <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"plugin-management-commands\" tabindex=\"-1\">Plugin Management Commands</h2>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># List installed plugins</span><br>wasmrun plugin list<br><br><span class=\"token comment\"># Install a plugin</span><br>wasmrun plugin <span class=\"token function\">install</span> wasmrust<br><br><span class=\"token comment\"># Uninstall a plugin  </span><br>wasmrun plugin uninstall wasmrust<br><br><span class=\"token comment\"># Update a plugin</span><br>wasmrun plugin update wasmrust<br><br><span class=\"token comment\"># Show plugin info</span><br>wasmrun plugin info wasmrust</code></pre>\n<h2 id=\"best-practices-for-plugin-development\" tabindex=\"-1\">Best Practices for Plugin Development</h2>\n<h3 id=\"error-handling\" tabindex=\"-1\">Error Handling</h3>\n<p>Always provide clear error messages and handle edge cases:</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">impl</span> <span class=\"token class-name\">WasmBuilder</span> <span class=\"token keyword\">for</span> <span class=\"token class-name\">CustomLangWasmBuilder</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">build</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> project_path<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">,</span> output_path<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Result</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><br>        <span class=\"token comment\">// Validate inputs</span><br>        <span class=\"token keyword\">if</span> <span class=\"token operator\">!</span><span class=\"token class-name\">Path</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>project_path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">exists</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>            <span class=\"token keyword\">return</span> <span class=\"token class-name\">Err</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">WasmrunError</span><span class=\"token punctuation\">::</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Project path does not exist\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token punctuation\">}</span><br><br>        <span class=\"token comment\">// Check for required tools</span><br>        <span class=\"token keyword\">if</span> <span class=\"token operator\">!</span><span class=\"token namespace\">which<span class=\"token punctuation\">::</span></span><span class=\"token function\">which</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"customlang-compiler\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">is_ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>            <span class=\"token keyword\">return</span> <span class=\"token class-name\">Err</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">WasmrunError</span><span class=\"token punctuation\">::</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><br>                <span class=\"token string\">\"customlang-compiler not found. Please install CustomLang toolchain.\"</span><br>            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token punctuation\">}</span><br><br>        <span class=\"token comment\">// Your build logic...</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"project-detection\" tabindex=\"-1\">Project Detection</h3>\n<p>Make project detection robust and specific:</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">can_handle_project</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> project_path<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token keyword\">bool</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">let</span> path <span class=\"token operator\">=</span> <span class=\"token class-name\">Path</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>project_path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <br>    <span class=\"token comment\">// Check for specific files</span><br>    <span class=\"token keyword\">if</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"customlang.toml\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">exists</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br>    <br>    <span class=\"token comment\">// Check for file patterns</span><br>    <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span>entries<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token namespace\">std<span class=\"token punctuation\">::</span>fs<span class=\"token punctuation\">::</span></span><span class=\"token function\">read_dir</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">for</span> entry <span class=\"token keyword\">in</span> entries<span class=\"token punctuation\">.</span><span class=\"token function\">flatten</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>            <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span>ext<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> entry<span class=\"token punctuation\">.</span><span class=\"token function\">path</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">extension</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>                <span class=\"token keyword\">if</span> ext <span class=\"token operator\">==</span> <span class=\"token string\">\"custom\"</span> <span class=\"token punctuation\">{</span><br>                    <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span><br>                <span class=\"token punctuation\">}</span><br>            <span class=\"token punctuation\">}</span><br>        <span class=\"token punctuation\">}</span><br>    <span class=\"token punctuation\">}</span><br>    <br>    <span class=\"token boolean\">false</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"dependency-management\" tabindex=\"-1\">Dependency Management</h3>\n<p>Check for dependencies and provide helpful error messages:</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">check_dependencies</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Vec</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> missing <span class=\"token operator\">=</span> <span class=\"token class-name\">Vec</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <br>    <span class=\"token keyword\">if</span> <span class=\"token operator\">!</span><span class=\"token namespace\">which<span class=\"token punctuation\">::</span></span><span class=\"token function\">which</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"customlang-compiler\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">is_ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        missing<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"customlang-compiler\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br>    <br>    missing<br><span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"testing\" tabindex=\"-1\">Testing</h3>\n<p>Write comprehensive tests for your plugin. Try to increase coverage and also check all cases:</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#[cfg(test)]</span><br><span class=\"token keyword\">mod</span> <span class=\"token module-declaration namespace\">tests</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">use</span> <span class=\"token keyword\">super</span><span class=\"token punctuation\">::</span><span class=\"token operator\">*</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">use</span> <span class=\"token namespace\">tempdir<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">TempDir</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token attribute attr-name\">#[test]</span><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">test_can_handle_project</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">let</span> tmp_dir <span class=\"token operator\">=</span> <span class=\"token class-name\">TempDir</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">let</span> project_path <span class=\"token operator\">=</span> tmp_dir<span class=\"token punctuation\">.</span><span class=\"token function\">path</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <br>        <span class=\"token comment\">// Create test file</span><br>        <span class=\"token namespace\">std<span class=\"token punctuation\">::</span>fs<span class=\"token punctuation\">::</span></span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>project_path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"main.custom\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"test content\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <br>        <span class=\"token keyword\">let</span> plugin <span class=\"token operator\">=</span> <span class=\"token class-name\">CustomLangPlugin</span><span class=\"token punctuation\">;</span><br>        <span class=\"token macro property\">assert!</span><span class=\"token punctuation\">(</span>plugin<span class=\"token punctuation\">.</span><span class=\"token function\">can_handle_project</span><span class=\"token punctuation\">(</span>project_path<span class=\"token punctuation\">.</span><span class=\"token function\">to_str</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token attribute attr-name\">#[test]</span><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">test_plugin_info</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">let</span> plugin <span class=\"token operator\">=</span> <span class=\"token class-name\">CustomLangPlugin</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">let</span> info <span class=\"token operator\">=</span> plugin<span class=\"token punctuation\">.</span><span class=\"token function\">get_info</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <br>        <span class=\"token macro property\">assert_eq!</span><span class=\"token punctuation\">(</span>info<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span> <span class=\"token string\">\"customlang\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token macro property\">assert!</span><span class=\"token punctuation\">(</span>info<span class=\"token punctuation\">.</span>extensions<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token string\">\"custom\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"common-issues-and-solutions\" tabindex=\"-1\">Common Issues and Solutions</h2>\n<h3 id=\"dynamic-library-loading-issues\" tabindex=\"-1\">Dynamic Library Loading Issues</h3>\n<p>When you try to load the plugin, you might encounter an error message saying that the library cannot be found. This issue is quite common and can be frustrating, especially if you‚Äôre not sure where things are going wrong. The error typically occurs because the system is unable to locate the necessary library files that the plugin depends on. This can happen if the library paths are not set correctly or if the library files are not named properly. To resolve this issue, you should first double-check that the library search paths are correctly configured. This involves ensuring that the directories where the libraries are stored are included in the system‚Äôs library path environment variables. Additionally, make sure that the library files are named correctly according to the system‚Äôs conventions. Sometimes, simply renaming a library file to match the expected naming pattern can solve the problem. By taking these steps, you can help the system locate the necessary libraries and successfully load the plugin without any errors.</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token comment\">// In your plugin loading code</span><br><span class=\"token keyword\">let</span> lib_paths <span class=\"token operator\">=</span> <span class=\"token macro property\">vec!</span><span class=\"token punctuation\">[</span><br>    <span class=\"token macro property\">format!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"lib{}.dylib\"</span><span class=\"token punctuation\">,</span> plugin_name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>      <span class=\"token comment\">// macOS</span><br>    <span class=\"token macro property\">format!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"lib{}.so\"</span><span class=\"token punctuation\">,</span> plugin_name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>         <span class=\"token comment\">// Linux  </span><br>    <span class=\"token macro property\">format!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{}.dll\"</span><span class=\"token punctuation\">,</span> plugin_name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>           <span class=\"token comment\">// Windows</span><br><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre>\n<h3 id=\"abi-compatibility\" tabindex=\"-1\">ABI Compatibility</h3>\n<p>When a plugin crashes due to an ABI mismatch, it can be quite a headache to deal with. ABI, or Application Binary Interface, refers to the way different program modules communicate at the binary level. If there‚Äôs a mismatch, it means that the plugin and the host application are not able to communicate properly, leading to crashes or unexpected behavior. This often happens when the plugin and the application are built with different compiler versions or settings, or when there have been changes in the data structures or function signatures that they use to interact. It‚Äôs important to use stable ABI-compatible interfaces. This means designing your plugin and application interfaces in a way that remains consistent across different versions and compiler settings. One effective strategy is to implement version checking. By including version information in your interfaces, you can ensure that the plugin only loads if it matches the expected version of the application. This helps prevent crashes by ensuring that both the plugin and the application are using compatible interfaces. Additionally, it‚Äôs a good practice to document any changes in the ABI and communicate these changes to developers who might be using your plugin, so they can make the necessary adjustments on their end.</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#[no_mangle]</span><br><span class=\"token keyword\">pub</span> <span class=\"token keyword\">extern</span> <span class=\"token string\">\"C\"</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">plugin_abi_version</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token keyword\">u32</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token number\">1</span> <span class=\"token comment\">// Increment when ABI changes</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"memory-management\" tabindex=\"-1\">Memory Management</h3>\n<p>When dealing with memory leaks or crashes at the FFI boundary, it can be quite challenging to pinpoint the exact cause. These issues often arise because of improper handling of memory allocation and deallocation, which can lead to resources not being freed correctly or being accessed after they have been freed. This can cause unexpected behavior or crashes, especially when different languages with different memory management models are involved. It‚Äôs crucial to ensure proper memory cleanup and ownership management. This means clearly defining who is responsible for allocating and freeing memory, and sticking to these rules consistently. For example, if your plugin allocates memory, it should also be responsible for freeing it, unless there is a clear agreement that the host application will take over this responsibility. Additionally, using smart pointers or reference counting can help manage ownership and prevent memory leaks. It‚Äôs also beneficial to implement thorough testing and debugging practices to catch any memory-related issues early in the development process. By doing so, you can maintain a stable and reliable interface between your plugin and the host application, minimizing the risk of memory leaks or crashes.</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#[no_mangle]</span><br><span class=\"token keyword\">pub</span> <span class=\"token keyword\">extern</span> <span class=\"token string\">\"C\"</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">cleanup_string</span><span class=\"token punctuation\">(</span>ptr<span class=\"token punctuation\">:</span> <span class=\"token operator\">*</span><span class=\"token keyword\">mut</span> c_char<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">if</span> <span class=\"token operator\">!</span>ptr<span class=\"token punctuation\">.</span><span class=\"token function\">is_null</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">{</span><br>            <span class=\"token keyword\">let</span> _ <span class=\"token operator\">=</span> <span class=\"token class-name\">CString</span><span class=\"token punctuation\">::</span><span class=\"token function\">from_raw</span><span class=\"token punctuation\">(</span>ptr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token punctuation\">}</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>Now, you know how to create your very own wasm plugin. Would love to have more community plugins. üôå</p>\n<p><img src=\"/images/posts/6e8fe806-2f4f-4316-aba5-884d0390fe83.png\" alt=\"\"></p>\n<p>Even if you‚Äôre not building one, if you‚Äôve an idea that you‚Äôd like to use, feel free to open an <a href=\"https://github.com/anistark/wasmrun/issues\">issue</a> and let us know about it. üöÄ</p>\n",
      "date_published": "2025-09-10T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/wasmrun-plugin-architecture/",
      "url": "https://blog.anirudha.dev/wasmrun-plugin-architecture/",
      "title": "Wasmrun Plugin Architecture",
      "content_html": "<p>In the <a href=\"https://blog.anirudha.dev/rust-plugin-system\">last article</a>, I covered all different types of rust plugin architecture and approaches we could have done. Now, lets dive into the plugin architecture used in <a href=\"https://github.com/anistark/wasmrun\">wasmrun</a>, an open-source WebAssembly runtime that supports multiple programming languages through a hybrid plugin system.</p>\n<h2 id=\"why-plugins-in-wasmrun\" tabindex=\"-1\">Why Plugins in Wasmrun</h2>\n<p>Wasmrun intends to support multiple programming languages like Rust, Go, C/C++, AssemblyScript, Python and each language has its own:</p>\n<ul>\n<li>\n<p><strong>Compilation toolchain</strong> (rustc, tinygo, emcc, asc, py2wasm)</p>\n</li>\n<li>\n<p><strong>Project structure conventions</strong> (Cargo.toml, go.mod, Makefile, package.json)</p>\n</li>\n<li>\n<p><strong>Optimization strategies</strong> and output formats</p>\n</li>\n<li>\n<p><strong>Development workflow</strong> requirements</p>\n</li>\n</ul>\n<p>Initially, we had all language support built directly into the binary:</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token comment\">// This was getting unwieldy fast</span><br><span class=\"token keyword\">match</span> language <span class=\"token punctuation\">{</span><br>    <span class=\"token string\">\"c\"</span> <span class=\"token operator\">=></span> <span class=\"token function\">compile_c_project</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>    <span class=\"token string\">\"cpp\"</span> <span class=\"token operator\">=></span> <span class=\"token function\">compile_cpp_project</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>    <span class=\"token string\">\"assemblyscript\"</span> <span class=\"token operator\">=></span> <span class=\"token function\">compile_as_project</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>    <span class=\"token string\">\"python\"</span> <span class=\"token operator\">=></span> <span class=\"token function\">compile_python_project</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>    <span class=\"token comment\">// External plugins would require subprocess calls</span><br>    <span class=\"token string\">\"rust\"</span> <span class=\"token operator\">=></span> <span class=\"token function\">subprocess_plugin</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"wasmrust\"</span><span class=\"token punctuation\">,</span> path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>    <span class=\"token string\">\"go\"</span> <span class=\"token operator\">=></span> <span class=\"token function\">subprocess_plugin</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"wasmgo\"</span><span class=\"token punctuation\">,</span> path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>    <span class=\"token comment\">// ... and growing</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>The issues became clear:</p>\n<ul>\n<li>\n<p><strong>Monolithic binary</strong> - Every user had to download support for all languages</p>\n</li>\n<li>\n<p><strong>Tight coupling</strong> - Adding new language support required core changes</p>\n</li>\n<li>\n<p><strong>Testing complexity</strong> - Each language change could break others</p>\n</li>\n<li>\n<p><strong>Community contributions</strong> - External developers couldn‚Äôt easily add language support</p>\n</li>\n</ul>\n<h2 id=\"wasmrun-implementation%3A-hybrid-built-in-%2B-external\" tabindex=\"-1\"><code>wasmrun</code> Implementation: Hybrid Built-in + External</h2>\n<p>Initially I started with trying to extend usage with same Traits to external as built-in plugins which would have made creating external plugins easy and also the migration process. However, it soon became an ant hill of issues. A good approach in this would have been to create a common <code>wasmrun_core</code> crate and import for both. However, I want to keep things at minimal changes and not introduce a new dependency so as to increase <code>wasmrun</code> maintainability before testing the concept. Another easy option was to run the external plugins as binary directly. However, this would have reduced the customisations that you‚Äôd be able to do on the runtime itself. A version of me would argue that this should have been the safest first step, but who cares about playing safe.</p>\n<p>After evaluating different approaches, I settled on a hybrid system that combines the benefits of multiple strategies:</p>\n<ul>\n<li>\n<p><strong>Built-in plugins</strong> using trait objects for core language support</p>\n</li>\n<li>\n<p><strong>External plugins</strong> using FFI for extensibility</p>\n</li>\n<li>\n<p><strong>Fallback subprocess execution</strong> when FFI loading fails. We‚Äôll remove this in future as we move to more tested approach.</p>\n</li>\n</ul>\n<p>This gives us type safety and performance for core functionality, while still allowing runtime extensibility.</p>\n<h2 id=\"the-trait-foundation\" tabindex=\"-1\">The Trait Foundation</h2>\n<p>The key insight was to design traits that work identically for both built-in and external plugins:</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token comment\">// src/plugin/mod.rs</span><br><span class=\"token keyword\">pub</span> <span class=\"token keyword\">trait</span> <span class=\"token type-definition class-name\">Plugin</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Send</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">Sync</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">info</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">PluginInfo</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">can_handle_project</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> project_path<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token keyword\">bool</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">get_builder</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Box</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">dyn</span> <span class=\"token class-name\">WasmBuilder</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token comment\">// src/compiler/builder.rs</span><br><span class=\"token keyword\">pub</span> <span class=\"token keyword\">trait</span> <span class=\"token type-definition class-name\">WasmBuilder</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Send</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">Sync</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">language_name</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">entry_file_candidates</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">&amp;</span><span class=\"token punctuation\">[</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">supported_extensions</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">&amp;</span><span class=\"token punctuation\">[</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">check_dependencies</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Vec</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">build</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> config<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">BuildConfig</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">CompilationResult</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">BuildResult</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">validate_project</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> project_path<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">CompilationResult</span><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">can_handle_project</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> project_path<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token keyword\">bool</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">clean</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> project_path<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Result</span><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">clone_box</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Box</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">dyn</span> <span class=\"token class-name\">WasmBuilder</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"plugin-information-structure\" tabindex=\"-1\">Plugin Information Structure</h2>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#[derive(Debug, Clone, Serialize, Deserialize)]</span><br><span class=\"token keyword\">pub</span> <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">PluginInfo</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">pub</span> name<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> version<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> description<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> author<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> extensions<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Vec</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> entry_files<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Vec</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> plugin_type<span class=\"token punctuation\">:</span> <span class=\"token class-name\">PluginType</span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> source<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Option</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">PluginSource</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> dependencies<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Vec</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> capabilities<span class=\"token punctuation\">:</span> <span class=\"token class-name\">PluginCapabilities</span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token attribute attr-name\">#[derive(Debug, Clone, Serialize, Deserialize)]</span><br><span class=\"token keyword\">pub</span> <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">PluginCapabilities</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">pub</span> compile_wasm<span class=\"token punctuation\">:</span> <span class=\"token keyword\">bool</span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> compile_webapp<span class=\"token punctuation\">:</span> <span class=\"token keyword\">bool</span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> live_reload<span class=\"token punctuation\">:</span> <span class=\"token keyword\">bool</span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> optimization<span class=\"token punctuation\">:</span> <span class=\"token keyword\">bool</span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> custom_targets<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Vec</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> supported_languages<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Option</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Vec</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token operator\">>></span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token attribute attr-name\">#[derive(Debug, Clone, Serialize, Deserialize)]</span><br><span class=\"token keyword\">pub</span> <span class=\"token keyword\">enum</span> <span class=\"token type-definition class-name\">PluginSource</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token class-name\">CratesIo</span> <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> version<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>    <span class=\"token class-name\">Git</span> <span class=\"token punctuation\">{</span> url<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> branch<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Option</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token operator\">></span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>    <span class=\"token class-name\">Local</span> <span class=\"token punctuation\">{</span> path<span class=\"token punctuation\">:</span> <span class=\"token class-name\">PathBuf</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"built-in-plugins%3A-the-foundation\" tabindex=\"-1\">Built-in Plugins: The Foundation</h2>\n<p>Built-in plugins are straightforward. They‚Äôre just structs implementing the traits, compiled directly into the binary. The current built-in plugins are C/C++, AssemblyScript, and Python. Earlier rust and go were also built-in but have successfully migrated them external. Soon the plan is to move all language built-in plugins to external.</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token comment\">// src/plugin/languages/c_plugin.rs</span><br><span class=\"token attribute attr-name\">#[derive(Clone)]</span><br><span class=\"token keyword\">pub</span> <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">CPlugin</span> <span class=\"token punctuation\">{</span><br>    info<span class=\"token punctuation\">:</span> <span class=\"token class-name\">PluginInfo</span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token keyword\">impl</span> <span class=\"token class-name\">CPlugin</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">pub</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token keyword\">Self</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">let</span> info <span class=\"token operator\">=</span> <span class=\"token class-name\">PluginInfo</span> <span class=\"token punctuation\">{</span><br>            name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"c\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>            version<span class=\"token punctuation\">:</span> <span class=\"token macro property\">env!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"CARGO_PKG_VERSION\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>            description<span class=\"token punctuation\">:</span> <span class=\"token string\">\"C WebAssembly compiler using Emscripten\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>            author<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Wasmrun Team\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>            extensions<span class=\"token punctuation\">:</span> <span class=\"token macro property\">vec!</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"c\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"h\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>            entry_files<span class=\"token punctuation\">:</span> <span class=\"token macro property\">vec!</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"main.c\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Makefile\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>            plugin_type<span class=\"token punctuation\">:</span> <span class=\"token class-name\">PluginType</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Builtin</span><span class=\"token punctuation\">,</span><br>            source<span class=\"token punctuation\">:</span> <span class=\"token class-name\">None</span><span class=\"token punctuation\">,</span><br>            dependencies<span class=\"token punctuation\">:</span> <span class=\"token macro property\">vec!</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>            capabilities<span class=\"token punctuation\">:</span> <span class=\"token class-name\">PluginCapabilities</span> <span class=\"token punctuation\">{</span><br>                compile_wasm<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span><br>                compile_webapp<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span><br>                live_reload<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span><br>                optimization<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span><br>                custom_targets<span class=\"token punctuation\">:</span> <span class=\"token macro property\">vec!</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"wasm\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"web\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>                supported_languages<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span><span class=\"token macro property\">vec!</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"c\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"cpp\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">Self</span> <span class=\"token punctuation\">{</span> info <span class=\"token punctuation\">}</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token keyword\">impl</span> <span class=\"token class-name\">Plugin</span> <span class=\"token keyword\">for</span> <span class=\"token class-name\">CPlugin</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">info</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">PluginInfo</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>info<br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">can_handle_project</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> project_path<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token keyword\">bool</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">let</span> path <span class=\"token operator\">=</span> <span class=\"token class-name\">Path</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>project_path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token comment\">// Check for Makefile or main.c files</span><br>        path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Makefile\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">exists</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"main.c\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">exists</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">get_builder</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Box</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">dyn</span> <span class=\"token class-name\">WasmBuilder</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><br>        <span class=\"token class-name\">Box</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">CWasmBuilder</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"built-in-plugin-loading\" tabindex=\"-1\">Built-in Plugin Loading</h2>\n<p>All built-in plugins are loaded through a centralized system:</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token comment\">// src/plugin/builtin.rs</span><br><span class=\"token keyword\">pub</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">load_all_builtin_plugins</span><span class=\"token punctuation\">(</span>plugins<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> <span class=\"token class-name\">Vec</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Box</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">dyn</span> <span class=\"token class-name\">Plugin</span><span class=\"token operator\">>></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Result</span><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><br>    <span class=\"token comment\">// C plugin</span><br>    <span class=\"token keyword\">let</span> c_plugin <span class=\"token operator\">=</span> <span class=\"token class-name\">Arc</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">CPlugin</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    plugins<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Box</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">BuiltinPlugin</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>c_plugin<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token comment\">// AssemblyScript plugin</span><br>    <span class=\"token keyword\">let</span> asc_plugin <span class=\"token operator\">=</span> <span class=\"token class-name\">Arc</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">AscPlugin</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    plugins<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Box</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">BuiltinPlugin</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>asc_plugin<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token comment\">// Python plugin</span><br>    <span class=\"token keyword\">let</span> python_plugin <span class=\"token operator\">=</span> <span class=\"token class-name\">Arc</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">PythonPlugin</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    plugins<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Box</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">BuiltinPlugin</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span>python_plugin<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"external-plugins%3A-the-interesting-part\" tabindex=\"-1\">External Plugins: The Interesting Part</h2>\n<p>External plugins are where things get interesting. The challenge was making them feel identical to built-in plugins while being loaded dynamically.</p>\n<h3 id=\"the-cargo-install-approach\" tabindex=\"-1\">The <code>cargo install</code> approach</h3>\n<p>I wanted plugin installation to feel familiar to Rust developers:</p>\n<ol>\n<li>\n<p><strong>Download</strong>: Uses <code>cargo install</code> to build the plugin</p>\n</li>\n<li>\n<p><strong>Storage</strong>: Installs to <code>~/.wasmrun/plugins/{plugin_name}/</code></p>\n</li>\n<li>\n<p><strong>Registration</strong>: Updates wasmrun config with plugin capabilities as mentioned in the plugin <code>Cargo.toml</code></p>\n</li>\n<li>\n<p><strong>Ready</strong>: Plugin automatically handles supported projects</p>\n</li>\n</ol>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token comment\">// src/plugin/installer.rs</span><br><span class=\"token keyword\">pub</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">install_plugin</span><span class=\"token punctuation\">(</span>plugin_name<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Result</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">InstallationResult</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><br>    <span class=\"token comment\">// Validate plugin exists on crates.io</span><br>    <span class=\"token keyword\">if</span> <span class=\"token operator\">!</span><span class=\"token class-name\">PluginRegistry</span><span class=\"token punctuation\">::</span><span class=\"token function\">validate_plugin</span><span class=\"token punctuation\">(</span>plugin_name<span class=\"token punctuation\">)</span><span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">return</span> <span class=\"token class-name\">Err</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">WasmrunError</span><span class=\"token punctuation\">::</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token macro property\">format!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Plugin '{plugin_name}' not found\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">let</span> wasmrun_root <span class=\"token operator\">=</span> <span class=\"token namespace\">dirs<span class=\"token punctuation\">::</span></span><span class=\"token function\">home_dir</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>        <span class=\"token punctuation\">.</span><span class=\"token function\">ok_or</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Could not determine home directory\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><br>        <span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".wasmrun\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token comment\">// Install using cargo to ~/.wasmrun/</span><br>    <span class=\"token keyword\">let</span> output <span class=\"token operator\">=</span> <span class=\"token namespace\">std<span class=\"token punctuation\">::</span>process<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Command</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"cargo\"</span><span class=\"token punctuation\">)</span><br>        <span class=\"token punctuation\">.</span><span class=\"token function\">args</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><br>            <span class=\"token string\">\"install\"</span><span class=\"token punctuation\">,</span> <br>            plugin_name<span class=\"token punctuation\">,</span> <br>            <span class=\"token string\">\"--root\"</span><span class=\"token punctuation\">,</span> <br>            <span class=\"token operator\">&amp;</span>wasmrun_root<span class=\"token punctuation\">.</span><span class=\"token function\">to_string_lossy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><br>        <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token keyword\">if</span> <span class=\"token operator\">!</span>output<span class=\"token punctuation\">.</span>status<span class=\"token punctuation\">.</span><span class=\"token function\">success</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">return</span> <span class=\"token class-name\">Err</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">WasmrunError</span><span class=\"token punctuation\">::</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Plugin installation failed\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token comment\">// Create plugin directory and metadata</span><br>    <span class=\"token keyword\">let</span> plugin_dir <span class=\"token operator\">=</span> wasmrun_root<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"plugins\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>plugin_name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token namespace\">std<span class=\"token punctuation\">::</span>fs<span class=\"token punctuation\">::</span></span><span class=\"token function\">create_dir_all</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>plugin_dir<span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token comment\">// Extract metadata from Cargo.toml</span><br>    <span class=\"token keyword\">let</span> metadata <span class=\"token operator\">=</span> <span class=\"token function\">extract_plugin_metadata</span><span class=\"token punctuation\">(</span>plugin_name<span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span><br>    <span class=\"token function\">save_plugin_metadata</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>plugin_dir<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>metadata<span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token comment\">// Update wasmrun config</span><br>    <span class=\"token function\">update_plugin_config</span><span class=\"token punctuation\">(</span>plugin_name<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>metadata<span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">InstallationResult</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Success</span><span class=\"token punctuation\">)</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"plugin-directory-structure\" tabindex=\"-1\">Plugin Directory Structure</h3>\n<pre class=\"language-bash\"><code class=\"language-bash\">~/.wasmrun/<br>‚îú‚îÄ‚îÄ bin/                    <span class=\"token comment\"># Plugin binaries installed via cargo</span><br>‚îÇ   ‚îú‚îÄ‚îÄ wasmrust           <span class=\"token comment\"># Plugin executable</span><br>‚îÇ   ‚îî‚îÄ‚îÄ wasmgo             <span class=\"token comment\"># Plugin executable</span><br>‚îú‚îÄ‚îÄ plugins/               <span class=\"token comment\"># Plugin metadata and dynamic libraries</span><br>‚îÇ   ‚îú‚îÄ‚îÄ wasmrust/<br>‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ .wasmrun_metadata<br>‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ libwasmrust.dylib  <span class=\"token comment\"># Dynamic library (optional)</span><br>‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ target/<br>‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ release/<br>‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ libwasmrust.dylib<br>‚îÇ   ‚îî‚îÄ‚îÄ wasmgo/<br>‚îÇ       ‚îú‚îÄ‚îÄ .wasmrun_metadata<br>‚îÇ       ‚îî‚îÄ‚îÄ libwasmgo.dylib<br>‚îî‚îÄ‚îÄ config.toml           <span class=\"token comment\"># Plugin registry and configuration</span></code></pre>\n<h2 id=\"ffi-and-dynamic-loading\" tabindex=\"-1\">FFI and Dynamic Loading</h2>\n<p>External plugins are loaded as dynamic libraries using Rust‚Äôs Foreign Function Interface (FFI). This approach provides several advantages:</p>\n<ul>\n<li>\n<p><strong>Performance</strong>: Direct function calls instead of subprocess execution</p>\n</li>\n<li>\n<p><strong>Integration</strong>: Same trait interface as built-in plugins</p>\n</li>\n<li>\n<p><strong>Efficiency</strong>: Shared memory space and reduced overhead</p>\n</li>\n</ul>\n<h3 id=\"ffi-interface\" tabindex=\"-1\">FFI Interface</h3>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token comment\">// src/plugin/external.rs</span><br><span class=\"token keyword\">use</span> <span class=\"token namespace\">libloading<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Library</span><span class=\"token punctuation\">;</span><br><br><span class=\"token comment\">/// Generic wrapper for all external plugins</span><br><span class=\"token keyword\">pub</span> <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">ExternalPluginWrapper</span> <span class=\"token punctuation\">{</span><br>    info<span class=\"token punctuation\">:</span> <span class=\"token class-name\">PluginInfo</span><span class=\"token punctuation\">,</span><br>    plugin_name<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span><br>    metadata<span class=\"token punctuation\">:</span> <span class=\"token class-name\">PluginMetadata</span><span class=\"token punctuation\">,</span><br>    <span class=\"token attribute attr-name\">#[cfg(not(target_os = <span class=\"token string\">\"windows\"</span>))]</span><br>    library<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Option</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Arc</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Library</span><span class=\"token operator\">>></span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token keyword\">impl</span> <span class=\"token class-name\">ExternalPluginWrapper</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">pub</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">new</span><span class=\"token punctuation\">(</span>plugin_path<span class=\"token punctuation\">:</span> <span class=\"token class-name\">PathBuf</span><span class=\"token punctuation\">,</span> entry<span class=\"token punctuation\">:</span> <span class=\"token class-name\">ExternalPluginEntry</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Result</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">Self</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">let</span> plugin_name <span class=\"token operator\">=</span> entry<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">clone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>        <span class=\"token keyword\">if</span> <span class=\"token operator\">!</span><span class=\"token class-name\">PluginUtils</span><span class=\"token punctuation\">::</span><span class=\"token function\">is_plugin_available</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>plugin_name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>            <span class=\"token keyword\">return</span> <span class=\"token class-name\">Err</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">WasmrunError</span><span class=\"token punctuation\">::</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token macro property\">format!</span><span class=\"token punctuation\">(</span><br>                <span class=\"token string\">\"Plugin '{plugin_name}' not available\"</span><br>            <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token punctuation\">}</span><br><br>        <span class=\"token comment\">// Load metadata for ALL plugins</span><br>        <span class=\"token keyword\">let</span> metadata <span class=\"token operator\">=</span> <span class=\"token class-name\">PluginMetadata</span><span class=\"token punctuation\">::</span><span class=\"token function\">from_installed_plugin</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>plugin_path<span class=\"token punctuation\">)</span><br>            <span class=\"token punctuation\">.</span><span class=\"token function\">or_else</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>_<span class=\"token closure-punctuation punctuation\">|</span></span> <span class=\"token class-name\">PluginMetadata</span><span class=\"token punctuation\">::</span><span class=\"token function\">from_crates_io</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>plugin_name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span><br><br>        metadata<span class=\"token punctuation\">.</span><span class=\"token function\">validate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span><br><br>        <span class=\"token attribute attr-name\">#[cfg(not(target_os = <span class=\"token string\">\"windows\"</span>))]</span><br>        <span class=\"token keyword\">let</span> library <span class=\"token operator\">=</span> <span class=\"token keyword\">Self</span><span class=\"token punctuation\">::</span><span class=\"token function\">try_load_library</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>plugin_name<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>plugin_path<span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span><br><br>        <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">Self</span> <span class=\"token punctuation\">{</span><br>            info<span class=\"token punctuation\">:</span> entry<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">,</span><br>            plugin_name<span class=\"token punctuation\">,</span><br>            metadata<span class=\"token punctuation\">,</span><br>            <span class=\"token attribute attr-name\">#[cfg(not(target_os = <span class=\"token string\">\"windows\"</span>))]</span><br>            library<span class=\"token punctuation\">,</span><br>        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token keyword\">impl</span> <span class=\"token class-name\">Plugin</span> <span class=\"token keyword\">for</span> <span class=\"token class-name\">ExternalPluginWrapper</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">info</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">PluginInfo</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>info<br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">can_handle_project</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> path<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token keyword\">bool</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token comment\">// Try FFI first if library is available</span><br>        <span class=\"token attribute attr-name\">#[cfg(not(target_os = <span class=\"token string\">\"windows\"</span>))]</span><br>        <span class=\"token punctuation\">{</span><br>            <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span>library<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>library <span class=\"token punctuation\">{</span><br>                <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span>exports<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>metadata<span class=\"token punctuation\">.</span>exports <span class=\"token punctuation\">{</span><br>                    <span class=\"token comment\">// Use FFI to call plugin's can_handle_project function</span><br>                    <span class=\"token comment\">// ... FFI implementation details ...</span><br>                <span class=\"token punctuation\">}</span><br>            <span class=\"token punctuation\">}</span><br>        <span class=\"token punctuation\">}</span><br><br>        <span class=\"token comment\">// Fallback to metadata-based checking</span><br>        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">check_project_via_metadata</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">get_builder</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Box</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">dyn</span> <span class=\"token class-name\">WasmBuilder</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><br>        <span class=\"token class-name\">Box</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ExternalWasmBuilder</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><br>            <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>plugin_name<span class=\"token punctuation\">.</span><span class=\"token function\">clone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>            <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>metadata<span class=\"token punctuation\">.</span><span class=\"token function\">clone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>            <span class=\"token attribute attr-name\">#[cfg(not(target_os = <span class=\"token string\">\"windows\"</span>))]</span><br>            <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>library<span class=\"token punctuation\">.</span><span class=\"token function\">clone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"external-builder-implementation\" tabindex=\"-1\">External Builder Implementation</h3>\n<p>The external builder uses a hybrid approach - FFI when available, command execution as fallback:</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">pub</span> <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">ExternalWasmBuilder</span> <span class=\"token punctuation\">{</span><br>    plugin_name<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span><br>    metadata<span class=\"token punctuation\">:</span> <span class=\"token class-name\">PluginMetadata</span><span class=\"token punctuation\">,</span><br>    <span class=\"token attribute attr-name\">#[cfg(not(target_os = <span class=\"token string\">\"windows\"</span>))]</span><br>    library<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Option</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Arc</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Library</span><span class=\"token operator\">>></span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token keyword\">impl</span> <span class=\"token class-name\">WasmBuilder</span> <span class=\"token keyword\">for</span> <span class=\"token class-name\">ExternalWasmBuilder</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">build</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> config<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">BuildConfig</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">CompilationResult</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">BuildResult</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><br>        <span class=\"token comment\">// Try FFI first if available</span><br>        <span class=\"token attribute attr-name\">#[cfg(not(target_os = <span class=\"token string\">\"windows\"</span>))]</span><br>        <span class=\"token punctuation\">{</span><br>            <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span>library<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>library <span class=\"token punctuation\">{</span><br>                <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span>exports<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>metadata<span class=\"token punctuation\">.</span>exports <span class=\"token punctuation\">{</span><br>                    <span class=\"token comment\">// Use FFI to call plugin's build function</span><br>                    <span class=\"token comment\">// ... FFI implementation details ...</span><br>                    <span class=\"token comment\">// Return structured BuildResult</span><br>                <span class=\"token punctuation\">}</span><br>            <span class=\"token punctuation\">}</span><br>        <span class=\"token punctuation\">}</span><br><br>        <span class=\"token comment\">// Fallback to command execution</span><br>        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">build_via_command</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">build_via_command</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> config<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">BuildConfig</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">CompilationResult</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">BuildResult</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><br>        <span class=\"token comment\">// Find plugin binary in ~/.wasmrun/bin or system PATH</span><br>        <span class=\"token keyword\">let</span> wasmrun_bin_path <span class=\"token operator\">=</span> <span class=\"token namespace\">dirs<span class=\"token punctuation\">::</span></span><span class=\"token function\">home_dir</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>            <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>home<span class=\"token closure-punctuation punctuation\">|</span></span> home<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".wasmrun\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"bin\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>plugin_name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br>            <span class=\"token punctuation\">.</span><span class=\"token function\">unwrap_or_else</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span><span class=\"token closure-punctuation punctuation\">|</span></span> <span class=\"token class-name\">PathBuf</span><span class=\"token punctuation\">::</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>plugin_name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>            <br>        <span class=\"token keyword\">let</span> plugin_binary <span class=\"token operator\">=</span> <span class=\"token keyword\">if</span> wasmrun_bin_path<span class=\"token punctuation\">.</span><span class=\"token function\">exists</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>            wasmrun_bin_path<span class=\"token punctuation\">.</span><span class=\"token function\">to_string_lossy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><br>            <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>plugin_name<span class=\"token punctuation\">.</span><span class=\"token function\">clone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br><br>        <span class=\"token keyword\">let</span> output <span class=\"token operator\">=</span> <span class=\"token namespace\">std<span class=\"token punctuation\">::</span>process<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Command</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>plugin_binary<span class=\"token punctuation\">)</span><br>            <span class=\"token punctuation\">.</span><span class=\"token function\">args</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"compile\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"-p\"</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>config<span class=\"token punctuation\">.</span>project_path<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><br>            <span class=\"token punctuation\">.</span><span class=\"token function\">args</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"-o\"</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>config<span class=\"token punctuation\">.</span>output_dir<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><br>            <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>        <span class=\"token comment\">// Process result and return BuildResult struct</span><br>        <span class=\"token comment\">// ... result processing ...</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"plugin-manager-integration\" tabindex=\"-1\">Plugin Manager Integration</h2>\n<p>The plugin system is managed through a central <code>PluginManager</code> that handles both built-in and external plugins:</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">pub</span> <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">PluginManager</span> <span class=\"token punctuation\">{</span><br>    builtin_plugins<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Vec</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Box</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">dyn</span> <span class=\"token class-name\">Plugin</span><span class=\"token operator\">>></span><span class=\"token punctuation\">,</span><br>    external_plugins<span class=\"token punctuation\">:</span> <span class=\"token class-name\">HashMap</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Box</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">dyn</span> <span class=\"token class-name\">Plugin</span><span class=\"token operator\">>></span><span class=\"token punctuation\">,</span><br>    config<span class=\"token punctuation\">:</span> <span class=\"token class-name\">WasmrunConfig</span><span class=\"token punctuation\">,</span><br>    plugin_stats<span class=\"token punctuation\">:</span> <span class=\"token class-name\">PluginStats</span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token keyword\">impl</span> <span class=\"token class-name\">PluginManager</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">pub</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Result</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">Self</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">let</span> config <span class=\"token operator\">=</span> <span class=\"token class-name\">WasmrunConfig</span><span class=\"token punctuation\">::</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap_or_default</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> manager <span class=\"token operator\">=</span> <span class=\"token keyword\">Self</span> <span class=\"token punctuation\">{</span><br>            builtin_plugins<span class=\"token punctuation\">:</span> <span class=\"token macro property\">vec!</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>            external_plugins<span class=\"token punctuation\">:</span> <span class=\"token class-name\">HashMap</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>            config<span class=\"token punctuation\">,</span><br>            plugin_stats<span class=\"token punctuation\">:</span> <span class=\"token class-name\">PluginStats</span><span class=\"token punctuation\">::</span><span class=\"token function\">default</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br><br>        manager<span class=\"token punctuation\">.</span><span class=\"token function\">load_all_plugins</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span><br>        manager<span class=\"token punctuation\">.</span><span class=\"token function\">update_stats</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span>manager<span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">load_all_plugins</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Result</span><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><br>        <span class=\"token comment\">// Load built-in plugins</span><br>        <span class=\"token function\">load_all_builtin_plugins</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>builtin_plugins<span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span><br><br>        <span class=\"token comment\">// Load enabled external plugins</span><br>        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> entry<span class=\"token punctuation\">)</span> <span class=\"token keyword\">in</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">.</span>external_plugins <span class=\"token punctuation\">{</span><br>            <span class=\"token keyword\">if</span> entry<span class=\"token punctuation\">.</span>enabled <span class=\"token punctuation\">{</span><br>                <span class=\"token keyword\">match</span> <span class=\"token class-name\">ExternalPluginLoader</span><span class=\"token punctuation\">::</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span>entry<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>                    <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span>plugin<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><br>                        <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"‚úÖ Loaded external plugin: {name}\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>                        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>external_plugins<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">clone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> plugin<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>                    <span class=\"token punctuation\">}</span><br>                    <span class=\"token class-name\">Err</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><br>                        <span class=\"token macro property\">eprintln!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"‚ö†Ô∏è  Failed to load external plugin '{name}': {e}\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>                    <span class=\"token punctuation\">}</span><br>                <span class=\"token punctuation\">}</span><br>            <span class=\"token punctuation\">}</span><br>        <span class=\"token punctuation\">}</span><br><br>        <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">pub</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">find_plugin_for_project</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> project_path<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Option</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">dyn</span> <span class=\"token class-name\">Plugin</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><br>        <span class=\"token comment\">// External plugins have priority</span><br>        <span class=\"token keyword\">for</span> plugin <span class=\"token keyword\">in</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>external_plugins<span class=\"token punctuation\">.</span><span class=\"token function\">values</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>            <span class=\"token keyword\">if</span> plugin<span class=\"token punctuation\">.</span><span class=\"token function\">can_handle_project</span><span class=\"token punctuation\">(</span>project_path<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>                <span class=\"token keyword\">return</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span>plugin<span class=\"token punctuation\">.</span><span class=\"token function\">as_ref</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>            <span class=\"token punctuation\">}</span><br>        <span class=\"token punctuation\">}</span><br><br>        <span class=\"token comment\">// Fallback to built-in plugins</span><br>        <span class=\"token keyword\">for</span> plugin <span class=\"token keyword\">in</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>builtin_plugins <span class=\"token punctuation\">{</span><br>            <span class=\"token keyword\">if</span> plugin<span class=\"token punctuation\">.</span><span class=\"token function\">can_handle_project</span><span class=\"token punctuation\">(</span>project_path<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>                <span class=\"token keyword\">return</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span>plugin<span class=\"token punctuation\">.</span><span class=\"token function\">as_ref</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>            <span class=\"token punctuation\">}</span><br>        <span class=\"token punctuation\">}</span><br><br>        <span class=\"token class-name\">None</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token comment\">// Plugin management methods</span><br>    <span class=\"token keyword\">pub</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">install_plugin</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> plugin_name<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Result</span><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* ... */</span> <span class=\"token punctuation\">}</span><br>    <span class=\"token keyword\">pub</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">update_plugin</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> plugin_name<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Result</span><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* ... */</span> <span class=\"token punctuation\">}</span><br>    <span class=\"token keyword\">pub</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">enable_plugin</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> plugin_name<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Result</span><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* ... */</span> <span class=\"token punctuation\">}</span><br>    <span class=\"token keyword\">pub</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">disable_plugin</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> plugin_name<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Result</span><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">/* ... */</span> <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>This hybrid architecture gives us the best of both worlds: type-safe, performant built-in plugins for core languages, and the flexibility to extend the system with external plugins for specialized use cases.</p>\n<h2 id=\"advanced-features\" tabindex=\"-1\">Advanced Features</h2>\n<h3 id=\"plugin-health-monitoring\" tabindex=\"-1\">Plugin Health Monitoring</h3>\n<p>The plugin system includes comprehensive health checking. Don‚Äôt have much support for it, but playing around it, so should have full support for health check soon.</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">pub</span> <span class=\"token keyword\">enum</span> <span class=\"token type-definition class-name\">PluginHealthStatus</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token class-name\">Healthy</span><span class=\"token punctuation\">,</span><br>    <span class=\"token class-name\">MissingDependencies</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Vec</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>    <span class=\"token class-name\">NotFound</span><span class=\"token punctuation\">,</span><br>    <span class=\"token class-name\">LoadError</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token keyword\">impl</span> <span class=\"token class-name\">PluginManager</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">pub</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">check_plugin_health</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> plugin_name<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Result</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">PluginHealthStatus</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">if</span> <span class=\"token operator\">!</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">is_plugin_installed</span><span class=\"token punctuation\">(</span>plugin_name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>            <span class=\"token keyword\">return</span> <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">PluginHealthStatus</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">NotFound</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token punctuation\">}</span><br><br>        <span class=\"token keyword\">let</span> missing_deps <span class=\"token operator\">=</span> <span class=\"token class-name\">PluginRegistry</span><span class=\"token punctuation\">::</span><span class=\"token function\">check_plugin_dependencies</span><span class=\"token punctuation\">(</span>plugin_name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">if</span> <span class=\"token operator\">!</span>missing_deps<span class=\"token punctuation\">.</span><span class=\"token function\">is_empty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>            <span class=\"token keyword\">return</span> <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">PluginHealthStatus</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">MissingDependencies</span><span class=\"token punctuation\">(</span>missing_deps<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token punctuation\">}</span><br><br>        <span class=\"token comment\">// Try to load the plugin to ensure it's functional</span><br>        <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span>entry<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>config<span class=\"token punctuation\">.</span>external_plugins<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>plugin_name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>            <span class=\"token keyword\">match</span> <span class=\"token class-name\">ExternalPluginLoader</span><span class=\"token punctuation\">::</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span>entry<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>                <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span>_<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">PluginHealthStatus</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Healthy</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>                <span class=\"token class-name\">Err</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">PluginHealthStatus</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">LoadError</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>            <span class=\"token punctuation\">}</span><br>        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><br>            <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">PluginHealthStatus</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Healthy</span><span class=\"token punctuation\">)</span><br>        <span class=\"token punctuation\">}</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"plugin-updates-and-version-management\" tabindex=\"-1\">Plugin Updates and Version Management</h3>\n<p>The system supports automatic plugin updates:</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">impl</span> <span class=\"token class-name\">PluginManager</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">pub</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">update_plugin</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> plugin_name<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Result</span><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">let</span> current_version <span class=\"token operator\">=</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">get_current_plugin_version</span><span class=\"token punctuation\">(</span>plugin_name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">let</span> latest_version <span class=\"token operator\">=</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">get_latest_plugin_version</span><span class=\"token punctuation\">(</span>plugin_name<span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span><br><br>        <span class=\"token keyword\">if</span> current_version <span class=\"token operator\">==</span> latest_version <span class=\"token punctuation\">{</span><br>            <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"‚úÖ Plugin '{plugin_name}' is already up to date\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>            <span class=\"token keyword\">return</span> <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token punctuation\">}</span><br><br>        <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"‚¨ÜÔ∏è  Updating from v{current_version} to v{latest_version}\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">reinstall_external_plugin</span><span class=\"token punctuation\">(</span>plugin_name<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>latest_version<span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span><br>        <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"‚úÖ Plugin updated successfully\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"enhanced-build-configuration\" tabindex=\"-1\">Enhanced Build Configuration</h3>\n<p>Modern build configuration uses structured data instead of simple string parameters:</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">pub</span> <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">BuildConfig</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">pub</span> project_path<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> output_dir<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> optimization_level<span class=\"token punctuation\">:</span> <span class=\"token class-name\">OptimizationLevel</span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> target_format<span class=\"token punctuation\">:</span> <span class=\"token class-name\">TargetFormat</span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> enable_debug<span class=\"token punctuation\">:</span> <span class=\"token keyword\">bool</span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> custom_args<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Vec</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token keyword\">pub</span> <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">BuildResult</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">pub</span> wasm_path<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> js_path<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Option</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> additional_files<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Vec</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> is_wasm_bindgen<span class=\"token punctuation\">:</span> <span class=\"token keyword\">bool</span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"plugin-capabilities-system\" tabindex=\"-1\">Plugin Capabilities System</h3>\n<p>Rich capability detection allows for better plugin selection:</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#[derive(Debug, Clone, Serialize, Deserialize)]</span><br><span class=\"token keyword\">pub</span> <span class=\"token keyword\">struct</span> <span class=\"token type-definition class-name\">PluginCapabilities</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">pub</span> compile_wasm<span class=\"token punctuation\">:</span> <span class=\"token keyword\">bool</span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> compile_webapp<span class=\"token punctuation\">:</span> <span class=\"token keyword\">bool</span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> live_reload<span class=\"token punctuation\">:</span> <span class=\"token keyword\">bool</span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> optimization<span class=\"token punctuation\">:</span> <span class=\"token keyword\">bool</span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> custom_targets<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Vec</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span><br>    <span class=\"token keyword\">pub</span> supported_languages<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Option</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Vec</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token operator\">>></span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token keyword\">impl</span> <span class=\"token class-name\">PluginManager</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">pub</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">get_plugins_by_capability</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> capability<span class=\"token punctuation\">:</span> <span class=\"token class-name\">PluginCapabilityFilter</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Vec</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">&amp;</span><span class=\"token class-name\">PluginInfo</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><br>        <span class=\"token comment\">// Filter plugins based on specific capabilities</span><br>        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>builtin_plugins<span class=\"token punctuation\">.</span><span class=\"token function\">iter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>            <span class=\"token punctuation\">.</span><span class=\"token function\">chain</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>external_plugins<span class=\"token punctuation\">.</span><span class=\"token function\">values</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br>            <span class=\"token punctuation\">.</span><span class=\"token function\">filter_map</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>p<span class=\"token closure-punctuation punctuation\">|</span></span> <span class=\"token punctuation\">{</span><br>                <span class=\"token keyword\">if</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">matches_capability_filter</span><span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>capability<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>                    <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span>p<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br>                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><br>                    <span class=\"token class-name\">None</span><br>                <span class=\"token punctuation\">}</span><br>            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><br>            <span class=\"token punctuation\">.</span><span class=\"token function\">collect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"current-built-in-languages\" tabindex=\"-1\">Current Built-in Languages</h2>\n<p>The system currently ships with these built-in plugins:</p>\n<ul>\n<li>\n<p><strong>C/C++</strong>: Using Emscripten for compilation</p>\n</li>\n<li>\n<p><strong>AssemblyScript</strong>: TypeScript-like syntax for WebAssembly</p>\n</li>\n<li>\n<p><strong>Python</strong>: Using py2wasm or similar tools</p>\n</li>\n</ul>\n<h2 id=\"external-plugin-ecosystem\" tabindex=\"-1\">External Plugin Ecosystem</h2>\n<p>Popular external plugins available through <code>cargo install</code>:</p>\n<ul>\n<li>\n<p><a href=\"https://github.com/anistark/wasmrust\"><strong>wasmrust</strong></a>: Rust to WebAssembly compilation</p>\n</li>\n<li>\n<p><a href=\"https://github.com/anistark/wasmgo\"><strong>wasmgo</strong></a>: Go to WebAssembly compilation</p>\n</li>\n</ul>\n<p>Installation is as simple as:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">wasmrun plugin <span class=\"token function\">install</span> wasmrust<br>wasmrun plugin <span class=\"token builtin class-name\">enable</span> wasmrust <span class=\"token comment\"># Optional</span></code></pre>\n<p>This architecture has proven robust and extensible, allowing the wasmrun ecosystem to grow organically while maintaining excellent performance and reliability.</p>\n<p><img src=\"/images/posts/69dd0e7d-110c-4b58-9fe7-3b91d1b12eed.png\" alt=\"\"></p>\n<blockquote>\n<p>So, if you want to make your version of rust plugin and use it with wasmrun, you can. For instance, there can be various tools for compiling rust project through wasm target, and you‚Äôve a special plugin which fits your use-case.</p>\n</blockquote>\n<p>Current stable version of wasmrun is <a href=\"https://crates.io/crates/wasmrun\">v0.11.3</a>. üöÄ Try out our plugin system. üôå</p>\n",
      "date_published": "2025-09-05T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/rust-plugin-system/",
      "url": "https://blog.anirudha.dev/rust-plugin-system/",
      "title": "Building a Rust Plugin System",
      "content_html": "<p>Plugin systems are one of those architectural decisions that seem straightforward until you start implementing them. In the Rust ecosystem, plugin architectures present unique challenges compared to interpreted languages where you can dynamically load and execute code relatively easily.</p>\n<h2 id=\"the-plugin-system-challenge-in-rust\" tabindex=\"-1\">The Plugin System Challenge in Rust</h2>\n<p>Compiled languages like Rust require more careful consideration around:</p>\n<ul>\n<li>\n<p><strong>Binary compatibility</strong> across different compiler versions</p>\n</li>\n<li>\n<p><strong>Memory safety</strong> when loading external code</p>\n</li>\n<li>\n<p><strong>Performance overhead</strong> of plugin boundaries</p>\n</li>\n<li>\n<p><strong>Distribution and versioning</strong> of plugin components</p>\n</li>\n<li>\n<p><strong>Developer experience</strong> for both plugin authors and users</p>\n</li>\n</ul>\n<h2 id=\"architectural-approaches-in-rust\" tabindex=\"-1\">Architectural Approaches in Rust</h2>\n<p>Let‚Äôs examine the main approaches to plugin systems in Rust and their trade-offs:</p>\n<h3 id=\"subprocess-based-plugins\" tabindex=\"-1\">Subprocess-Based Plugins</h3>\n<p>The simplest approach - plugins as separate executables:</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token comment\">// Execute plugin as subprocess</span><br><span class=\"token keyword\">let</span> output <span class=\"token operator\">=</span> <span class=\"token class-name\">Command</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"wasmrun-rust-plugin\"</span><span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">.</span><span class=\"token function\">args</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"build\"</span><span class=\"token punctuation\">,</span> project_path<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">.</span><span class=\"token function\">output</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span></code></pre>\n<p><strong>Pros:</strong></p>\n<ul>\n<li>\n<p>Language agnostic - plugins can be written in any language</p>\n</li>\n<li>\n<p>Strong isolation - plugins can‚Äôt crash the main process</p>\n</li>\n<li>\n<p>Simple distribution - just ship executables</p>\n</li>\n</ul>\n<p><strong>Cons:</strong></p>\n<ul>\n<li>\n<p>Performance overhead of process spawning</p>\n</li>\n<li>\n<p>Complex data exchange (serialization/pipes)</p>\n</li>\n<li>\n<p>Harder to maintain shared state</p>\n</li>\n</ul>\n<h3 id=\"webassembly-plugins\" tabindex=\"-1\">WebAssembly Plugins</h3>\n<p>Using WASM as the plugin format:</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">let</span> engine <span class=\"token operator\">=</span> <span class=\"token namespace\">wasmtime<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Engine</span><span class=\"token punctuation\">::</span><span class=\"token function\">default</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">let</span> module <span class=\"token operator\">=</span> <span class=\"token class-name\">Module</span><span class=\"token punctuation\">::</span><span class=\"token function\">from_file</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>engine<span class=\"token punctuation\">,</span> <span class=\"token string\">\"plugin.wasm\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">let</span> instance <span class=\"token operator\">=</span> <span class=\"token class-name\">Instance</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> store<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>module<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span></code></pre>\n<p><strong>Pros:</strong></p>\n<ul>\n<li>\n<p>Sandboxed execution</p>\n</li>\n<li>\n<p>Cross-platform compatibility</p>\n</li>\n<li>\n<p>Same runtime environment</p>\n</li>\n</ul>\n<p><strong>Cons:</strong></p>\n<ul>\n<li>\n<p>Performance limitations</p>\n</li>\n<li>\n<p>Limited system access</p>\n</li>\n<li>\n<p>Additional complexity for system-level operations</p>\n</li>\n<li>\n<p>Highly experimental</p>\n</li>\n</ul>\n<h3 id=\"dynamic-library-loading-(ffi)\" tabindex=\"-1\">Dynamic Library Loading (FFI)</h3>\n<p>Loading plugins as shared libraries:</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">let</span> lib <span class=\"token operator\">=</span> <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">{</span> <span class=\"token class-name\">Library</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"plugin.so\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">let</span> func<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Symbol</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token keyword\">unsafe</span> <span class=\"token punctuation\">{</span> lib<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">b\"plugin_init\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre>\n<p><strong>Pros:</strong></p>\n<ul>\n<li>\n<p>Native performance</p>\n</li>\n<li>\n<p>Rich API capabilities</p>\n</li>\n<li>\n<p>Shared memory space</p>\n</li>\n</ul>\n<p><strong>Cons:</strong></p>\n<ul>\n<li>\n<p>Platform-specific binaries</p>\n</li>\n<li>\n<p>Safety concerns with unsafe code</p>\n</li>\n<li>\n<p>ABI stability challenges</p>\n</li>\n</ul>\n<h3 id=\"trait-objects-%2B-dynamic-dispatch\" tabindex=\"-1\">Trait Objects + Dynamic Dispatch</h3>\n<p>Compile-time plugin registration:</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">trait</span> <span class=\"token type-definition class-name\">Plugin</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">Send</span> <span class=\"token operator\">+</span> <span class=\"token class-name\">Sync</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">handle</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> input<span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token keyword\">str</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token keyword\">static</span> <span class=\"token constant\">PLUGINS</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span><span class=\"token punctuation\">[</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">dyn</span> <span class=\"token class-name\">Plugin</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">&amp;</span><span class=\"token punctuation\">[</span><span class=\"token operator\">&amp;</span><span class=\"token class-name\">RustPlugin</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span><span class=\"token class-name\">GoPlugin</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre>\n<p><strong>Pros:</strong></p>\n<ul>\n<li>\n<p>Type safety at compile time</p>\n</li>\n<li>\n<p>Zero runtime overhead</p>\n</li>\n<li>\n<p>Simple implementation</p>\n</li>\n</ul>\n<p><strong>Cons:</strong></p>\n<ul>\n<li>\n<p>All plugins must be known at compile time</p>\n</li>\n<li>\n<p>Monolithic binary</p>\n</li>\n<li>\n<p>No runtime extensibility</p>\n</li>\n</ul>\n<h2 id=\"alternative-approaches-to-consider\" tabindex=\"-1\">Alternative Approaches to Consider</h2>\n<h3 id=\"wasi-based-plugin-system\" tabindex=\"-1\">WASI-Based Plugin System</h3>\n<p>Using WebAssembly System Interface for plugins could provide better sandboxing:</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token comment\">// Hypothetical WASI plugin loader</span><br><span class=\"token keyword\">let</span> engine <span class=\"token operator\">=</span> <span class=\"token namespace\">wasmtime<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Engine</span><span class=\"token punctuation\">::</span><span class=\"token function\">default</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> linker <span class=\"token operator\">=</span> <span class=\"token namespace\">wasmtime<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Linker</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>engine<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token namespace\">wasmtime_wasi<span class=\"token punctuation\">::</span></span><span class=\"token function\">add_to_linker</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">mut</span> linker<span class=\"token punctuation\">,</span> <span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>s<span class=\"token closure-punctuation punctuation\">|</span></span> s<span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">let</span> wasi <span class=\"token operator\">=</span> <span class=\"token class-name\">WasiCtxBuilder</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">.</span><span class=\"token function\">inherit_stdio</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">.</span><span class=\"token function\">inherit_args</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><br>    <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">let</span> plugin <span class=\"token operator\">=</span> <span class=\"token class-name\">WasiPlugin</span><span class=\"token punctuation\">::</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>engine<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>linker<span class=\"token punctuation\">,</span> <span class=\"token string\">\"plugin.wasm\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span></code></pre>\n<p><strong>Benefits:</strong></p>\n<ul>\n<li>\n<p>Language agnostic (plugins could be written in any language that compiles to WASM)</p>\n</li>\n<li>\n<p>Better security through WASI‚Äôs capability-based security model</p>\n</li>\n<li>\n<p>Consistent cross-platform behavior</p>\n</li>\n</ul>\n<p><strong>Trade-offs:</strong></p>\n<ul>\n<li>\n<p>Performance overhead</p>\n</li>\n<li>\n<p>Limited access to system APIs</p>\n</li>\n<li>\n<p>More complex toolchain for plugin authors</p>\n</li>\n</ul>\n<h3 id=\"grpc-based-plugin-architecture\" tabindex=\"-1\">gRPC-Based Plugin Architecture</h3>\n<p>Taking inspiration from tools like Terraform:</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token comment\">// Plugin communication via gRPC</span><br><span class=\"token keyword\">use</span> <span class=\"token namespace\">tonic<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">{</span><span class=\"token namespace\">transport<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Server</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Request</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Response</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Status</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">pub</span> <span class=\"token keyword\">trait</span> <span class=\"token type-definition class-name\">PluginService</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">async</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">can_handle_project</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Request</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">ProjectPath</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <br>        <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Result</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Response</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">CanHandleResponse</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Status</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span><br>    <br>    <span class=\"token keyword\">async</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">build_project</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> request<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Request</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">BuildRequest</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <br>        <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Result</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Response</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">BuildResponse</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Status</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p><strong>Benefits:</strong></p>\n<ul>\n<li>\n<p>Language agnostic</p>\n</li>\n<li>\n<p>Network transparency (plugins could run remotely)</p>\n</li>\n<li>\n<p>Structured communication protocol</p>\n</li>\n<li>\n<p>Easy to version and extend</p>\n</li>\n</ul>\n<p><strong>Trade-offs:</strong></p>\n<ul>\n<li>\n<p>Network serialization overhead</p>\n</li>\n<li>\n<p>More complex deployment (need to manage plugin processes)</p>\n</li>\n<li>\n<p>Requires protobuf toolchain</p>\n</li>\n</ul>\n<h3 id=\"lua%2Fjavascript-embedded-scripting\" tabindex=\"-1\">Lua/JavaScript Embedded Scripting</h3>\n<p>Embed a scripting language for simple plugins:</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">use</span> <span class=\"token namespace\">mlua<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">{</span><span class=\"token class-name\">Lua</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Function</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Result</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">let</span> lua <span class=\"token operator\">=</span> <span class=\"token class-name\">Lua</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>lua<span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token string\">r#\"<br>    function can_handle_project(path)<br>        return string.match(path, \"%.mylang$\") ~= nil<br>    end<br>    <br>    function build_project(project_path, output_path)<br>        os.execute(\"mylang-compiler \" .. project_path .. \" -o \" .. output_path)<br>        return output_path .. \"/output.wasm\"<br>    end<br>\"#</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span></code></pre>\n<p><strong>Benefits:</strong></p>\n<ul>\n<li>\n<p>Very low barrier to entry for plugin authors</p>\n</li>\n<li>\n<p>No compilation step required</p>\n</li>\n<li>\n<p>Dynamic reconfiguration possible</p>\n</li>\n</ul>\n<p><strong>Trade-offs:</strong></p>\n<ul>\n<li>\n<p>Limited to what the scripting language can do</p>\n</li>\n<li>\n<p>Performance implications</p>\n</li>\n<li>\n<p>Another language for developers to learn</p>\n</li>\n</ul>\n<h3 id=\"ebpf-style-jit-compilation\" tabindex=\"-1\">eBPF-Style JIT Compilation</h3>\n<p>For ultimate performance with safety:</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token comment\">// Hypothetical plugin JIT system</span><br><span class=\"token keyword\">let</span> plugin_bytecode <span class=\"token operator\">=</span> <span class=\"token function\">load_plugin_bytecode</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rust-plugin.bc\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">let</span> jit_compiler <span class=\"token operator\">=</span> <span class=\"token class-name\">PluginJIT</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">let</span> compiled_plugin <span class=\"token operator\">=</span> jit_compiler<span class=\"token punctuation\">.</span><span class=\"token function\">compile</span><span class=\"token punctuation\">(</span>plugin_bytecode<span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span></code></pre>\n<p><strong>Benefits:</strong></p>\n<ul>\n<li>\n<p>Near-native performance</p>\n</li>\n<li>\n<p>Safety through bytecode verification</p>\n</li>\n<li>\n<p>Platform optimization opportunities</p>\n</li>\n</ul>\n<p><strong>Trade-offs:</strong></p>\n<ul>\n<li>\n<p>Extremely complex to implement</p>\n</li>\n<li>\n<p>Limited ecosystem and tooling</p>\n</li>\n<li>\n<p>High development cost</p>\n</li>\n</ul>\n<p>These are most of the ways, but even so gives us a glimpse into what‚Äôs possible and borderline best practice. However, it still doesn‚Äôt answer all the questions we‚Äôve. Your decision to which plugin system works for you can be very personal at the same time very divided. Perhaps a combination of these work for you.</p>\n<h2 id=\"open-questions-and-considerations\" tabindex=\"-1\">Open Questions and Considerations</h2>\n<p>Building plugin systems in Rust raises several interesting questions:</p>\n<h3 id=\"performance-vs.-safety-trade-offs\" tabindex=\"-1\">Performance vs. Safety Trade-offs</h3>\n<p>FFI approaches prioritize performance over safety. We‚Äôre essentially trusting plugin authors not to cause memory safety issues. Alternative approaches like WASI or subprocess isolation provide better safety guarantees but at a performance cost.</p>\n<p><strong>Question</strong>: In systems like build tools where performance matters, how much safety are you willing to trade for speed?</p>\n<h3 id=\"api-evolution-and-compatibility\" tabindex=\"-1\">API Evolution and Compatibility</h3>\n<p>Plugin APIs need to evolve, but external plugins create compatibility challenges.</p>\n<p><strong>Question</strong>: How do you handle API breaking changes when external plugins may not update immediately? Should there be a plugin API versioning system?</p>\n<h3 id=\"distribution-and-discovery\" tabindex=\"-1\">Distribution and Discovery</h3>\n<p>Using existing package systems like <a href=\"http://crates.io\">crates.io</a> has limitations - no way to mark crates as tool-specific plugins, no plugin-specific metadata, etc.</p>\n<p><strong>Question</strong>: Should specialized tools have their own plugin registries, or is it better to piggyback on existing package systems?</p>\n<h3 id=\"testing-and-quality-assurance\" tabindex=\"-1\">Testing and Quality Assurance</h3>\n<p>External plugins can break in ways that are hard to test. A plugin might work fine until it encounters a specific project structure or environment.</p>\n<p><strong>Question</strong>: What‚Äôs the right balance between trusting plugin authors and providing safety rails? Should there be automated testing requirements for plugins?</p>\n<h3 id=\"plugin-composition-and-dependencies\" tabindex=\"-1\">Plugin Composition and Dependencies</h3>\n<p>Currently, most plugin systems have isolated plugins. But what if plugins could build on each other?</p>\n<p><strong>Question</strong>: How complex should plugin systems be? Is composition worth the added complexity?</p>\n<p><img src=\"https://nullderef.com/img/CoM36VEtZL-600.jpeg\" alt=\"\"></p>\n<blockquote>\n<p>Here‚Äôs also a nice <a href=\"https://nullderef.com/series/rust-plugins/\">series</a> you can follow.</p>\n</blockquote>\n<p>There‚Äôs no ‚Äúright‚Äù answer for plugin systems in Rust - only trade-offs that align with your specific needs. Different use cases call for different approaches:</p>\n<ul>\n<li>\n<p>A text editor might prioritize safety and choose WASI plugins</p>\n</li>\n<li>\n<p>A data processing pipeline might choose gRPC for language flexibility</p>\n</li>\n<li>\n<p>A performance-critical system might go with JIT compilation despite the complexity</p>\n</li>\n<li>\n<p>A build tool might accept FFI trade-offs for performance and simplicity</p>\n</li>\n</ul>\n<p>The key is understanding your constraints and making conscious trade-offs rather than accidentally falling into them.</p>\n",
      "date_published": "2025-08-31T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/sot-on-uv/",
      "url": "https://blog.anirudha.dev/sot-on-uv/",
      "title": "Why I&#39;m Switching SOT to uv",
      "content_html": "<p>I‚Äôve migrated the <a href=\"https://github.com/anistark/sot/\">SOT</a> (System Observation Tool) project from traditional pip/venv workflows to <a href=\"https://github.com/astral-sh/uv\">uv</a>, Astral‚Äôs blazing-fast Python package manager. This is gonna be a game-changer for both contributors and users.</p>\n<blockquote>\n<p>Maybe I was just finding an excuse to use something from F1 movie fever. But speed is about performance as much as it‚Äôs about being quick.</p>\n</blockquote>\n<p>10-100x faster dependency resolution and installation</p>\n<ul>\n<li>\n<p><code>pip install</code> for our dev dependencies: <strong>~45</strong> seconds</p>\n</li>\n<li>\n<p><code>uv sync</code> --dev: <strong>~3</strong> seconds</p>\n</li>\n<li>\n<p>Cold cache package installation improved by 15x on average</p>\n</li>\n</ul>\n<p>Lockfile generation performance:</p>\n<ul>\n<li>\n<p><code>pip-tools pip-compile</code>: ~12 seconds</p>\n</li>\n<li>\n<p><code>uv lock</code>: ~800ms</p>\n</li>\n</ul>\n<p><img src=\"/images/posts/83b37323-c78a-4cf7-b2cf-b2c7b74f04f0.jpeg\" alt=\"\"></p>\n<p>This isn‚Äôt just benchmark flaunting, these improvements compound during development, CI/CD, and Docker builds. In addition to an actually reliable dependency resolution.</p>\n<p>Which then brings us to an universal resolution across platforms. <code>uv</code> resolves dependencies for all target platforms simultaneously. No more <em>‚Äúworks on my Linux but breaks on macOS‚Äù</em> surprises Single <code>uv.lock</code> replaces platform-specific requirements files. Most importantly, better conflict detection. Someone told me once fail loudly always. I kinda took it to heart, and so did <code>uv</code>. All for improving developer experience. A single command covers most of them,which we handled via justfile earlier.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">uv <span class=\"token function\">sync</span> <span class=\"token parameter variable\">--dev</span></code></pre>\n<p>Workspace management without the pain:</p>\n<ul>\n<li>\n<p>No more source venv/bin/activate dance</p>\n</li>\n<li>\n<p><code>uv run python script.py</code> works from any directory</p>\n</li>\n<li>\n<p>Built-in tool isolation: <code>uv tool install sot</code></p>\n</li>\n</ul>\n<h3 id=\"technical-architecture-benefits\" tabindex=\"-1\">Technical Architecture Benefits</h3>\n<p>This tool is <strong>Rust-native</strong>.<br>\nIt‚Äôs written in Rust, not Python, which means there‚Äôs no Python bootstrap overhead. Installs and downloads run in parallel, and dependency resolution is memory-efficient.</p>\n<p>It‚Äôs also <strong>pip/PyPI compatible</strong>.<br>\nSo it‚Äôs a drop-in replacement for pip workflows. It uses the existing PyPI infrastructure and supports all pip-compatible packages. No ecosystem fragmentation.</p>\n<p>Finally, it has <strong>advanced caching</strong>.<br>\nThere‚Äôs a global package cache with deduplication, network-aware caching strategies, incremental lockfile updates, and cross-project dependency sharing.</p>\n<h3 id=\"project-specific-improvements\" tabindex=\"-1\">Project-Specific Improvements</h3>\n<p><strong>CI/CD is simpler.</strong><br>\nBefore: multiple cache keys, complex setup with <code>actions/setup-python</code> and <code>actions/cache</code>.<br>\nAfter: one command <code>uv sync --dev</code> handles caching and installs automatically.</p>\n<p><strong>Development is smoother.</strong></p>\n<ul>\n<li>\n<p><code>uv add package</code> for instant dependency addition</p>\n</li>\n<li>\n<p><code>uv tree</code> for dependency visualization</p>\n</li>\n<li>\n<p><code>uv lock --upgrade</code> for controlled updates</p>\n</li>\n<li>\n<p>Hot-swappable dev dependencies</p>\n</li>\n</ul>\n<h3 id=\"for-contributors\" tabindex=\"-1\">For Contributors</h3>\n<ul>\n<li>\n<p><strong>Faster feedback loops</strong>: quicker setup, faster CI, smoother PR iterations</p>\n</li>\n<li>\n<p><strong>Fewer environment issues</strong>: deterministic builds, no dependency hell, consistent tool versions</p>\n</li>\n<li>\n<p><strong>Better dependency management</strong>: clear upgrades, easy dev testing, safe removals</p>\n</li>\n</ul>\n<h2 id=\"getting-started\" tabindex=\"-1\">Getting Started</h2>\n<p>For end users:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">uv tool <span class=\"token function\">install</span> sot</code></pre>\n<p>For contributors:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone https://github.com/anistark/sot.git<br><span class=\"token builtin class-name\">cd</span> sot<br>uv <span class=\"token function\">sync</span> <span class=\"token parameter variable\">--dev</span><br><span class=\"token comment\"># You're ready to code</span></code></pre>\n<p>The migration maintains full backward compatibility. Existing <code>pip</code> workflows still work, but <code>uv</code> offers a superior developer experience with tangible performance benefits.</p>\n<blockquote>\n<p><code>uv</code> isn‚Äôt just faster. It‚Äôs fundamentally more reliable, making our development process more predictable and our contributors more productive.</p>\n</blockquote>\n<p>Migration completed in <a href=\"https://github.com/anistark/sot/pull/18\">[PR #18]</a> and available on <a href=\"https://pypi.org/project/sot/4.4.0/\">sot v4.4.0</a> onwards. Questions or issues? Open an <a href=\"https://github.com/anistark/sot/issues\">issue</a> or <a href=\"https://github.com/anistark/sot/discussions\">discussion</a>.</p>\n",
      "date_published": "2025-08-24T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/at-the-mercy-of-ai/",
      "url": "https://blog.anirudha.dev/at-the-mercy-of-ai/",
      "title": "At the mercy of AI",
      "content_html": "<p>It‚Äôs the 2020s, and we‚Äôre all living in a world where the phrase <em>‚Äújust ask the AI‚Äù</em> has replaced <em>‚Äúlet me Google that‚Äù.</em> From product design to poetry, from diagnosing diseases to picking your next Netflix binge, AI is no longer a tool we occasionally refer to. It‚Äôs the invisible co-pilot running the plane, the ship, and sometimes the planet.</p>\n<p>We are, in many ways, at the mercy of it. And mercy is a funny thing. It can be a blessing‚Ä¶ or a warning!</p>\n<h2 id=\"the-age-of-the-prompt\" tabindex=\"-1\"><strong>The Age of the Prompt</strong></h2>\n<p>Do you remember a time, when software was built by writing long lines of code, painstakingly tested by humans, and released with the slow, deliberate pride of a craftsman? Now? Much of the next generation of software isn‚Äôt ‚Äúwritten‚Äù so much as <em>requested</em> from an AI model. The magic phrase isn‚Äôt an algorithm, it‚Äôs a prompt.</p>\n<p>Want a new marketing campaign? Tell the AI: ‚ÄúMake it sound like Steve Jobs meets Shakespeare on a coffee bender.‚Äù Need a new app? ‚ÄúWrite a Python script that tracks my cat‚Äôs mood and syncs it to Spotify.‚Äù</p>\n<p>It‚Äôs fast, powerful, and let‚Äôs admit it, super addictive. But there‚Äôs a quiet shift happening: the people who know <em>what</em> to ask and <em>how</em> to ask it hold the real power. This is the age of <em>prompt engineering</em>, and it‚Äôs shaping the products, culture, and even the politics of tomorrow. Once what was fun and games, has now turned into a harsh reality. I tried vibe coding too last year using some popular tools like lovable and v0. Incredible results! It generated entire websites with sections that I had not even mentioned or thought of up until that point. It was too good to be true at first glance. I tried a few more options and all were crazy smooth. I heard a gear shift in my head and went full blown into it. The results are great sometimes. Most times, it does small errors. At one point, I was only fixing bugs that my AI generated and onto next prompt. It would have actually been faster if I wrote it myself though. But I was already hooked. And then it hit me.</p>\n<p><img src=\"/images/posts/9b149691-014c-4954-a6be-87df1ae06e4e.jpeg\" alt=\"\"></p>\n<p>This quote is true on so many levels as well and we‚Äôre hooked. In a world hooked already on AI tools, all other tools have lost it‚Äôs charm. We rarely open Google now, we go to chatgpt or perplexity. We don‚Äôt open any normal IDE now, it has to be Claude powered. And why won‚Äôt you? Everyone else is doing it. If you don‚Äôt, you‚Äôre just falling behind. We‚Äôre so blindly going at it, that we‚Äôve stopped questioning things. Soon, we might not know what a cat actually looks like and rely on whatever our AI tells us. It‚Äôs not all bad of course. A lot of task handling stuff have gotten really good too. Vibe coding has a good side as well, makes you faster and better documented. <em>Nobody like docs like AI does!</em></p>\n<p>Let‚Äôs consider a fork in the path ahead. AI, like fire, can cook your dinner or burn down your house. Let‚Äôs take a peek at both possible timelines.</p>\n<h3 id=\"the-dystopian-dumpster-fire\" tabindex=\"-1\"><strong>The Dystopian Dumpster Fire</strong></h3>\n<p>It starts slowly. First, your favorite news site replaces most of its journalists with AI writers. Cheaper, faster, 24/7 content. At first, you barely notice. The headlines are punchy, the stories flow smoothly. But after a while, you realize you‚Äôre reading the same turns of phrase everywhere, as if the entire internet has developed one eerily consistent voice. The AI voice! It doesn‚Äôt even matter if it‚Äôs actually true, fact checked. You believe what you‚Äôre reading, seeing, hearing. That‚Äôs what our past 10,000 years or so of existence have trained us for.</p>\n<p>Your morning routine changes too. You no longer choose what to wear, your AI assistant, synced to your wardrobe, calendar and the weather, lays it out for you. You don‚Äôt pick your own meals, your health-optimization AI decides the ‚Äúideal‚Äù menu. You don‚Äôt even write birthday messages, your AI drafts them in your ‚Äútone‚Äù and sends them out. People thank you for your heartfelt words, but you don‚Äôt remember saying them. All your shit posts are now done by AI too. All your selfies, friends hanging out, vacation pictures are now all generated by AI, indistinguishable from reality as you‚Äôre unaware and chilling at some secluded location.</p>\n<p>At work, creativity doesn‚Äôt mean brainstorming, it means telling the AI what you want and waiting for it to generate something ‚Äúgood enough‚Äù. Marketing campaigns? Done in 3 minutes. Product designs? One prompt away. Eventually, ‚Äúgood enough‚Äù becomes the gold standard, because why spend extra time when the AI‚Äôs version passes the tests? You get to go home early, maybe catch that happy hour finally, spend more time with your friends and family. ‚ÄúGood enough‚Äù made all of it possible afterall.</p>\n<p>Schools shift too. Kids submit AI-polished essays indistinguishable from one another. Teachers use AI to grade them. Learning becomes a loop of machines producing work for machines to evaluate. Students still ‚Äúlearn‚Äù, technically, but their ability to think independently, to wrestle with ambiguity, starts to drain out into nothingness.</p>\n<p>And slowly, almost imperceptibly, the edges of human originality blur away. Every movie feels like a mash-up of the last 50 hits. Every song seems to have the same mathematically perfect chord progression. Every opinion you read feels like it was optimized for engagement, not truth.</p>\n<p>The worst part? We stop noticing. We stop <em>wanting</em> to notice. Because the AI makes life frictionless and friction is exhausting. The mental muscles that make us question, imagine, and create quietly wither away. We‚Äôre comfortable. We‚Äôre entertained. We‚Äôre efficient. And we become empty.</p>\n<p><img src=\"/images/posts/bb15defa-1fae-48e0-bb32-d3619e11d74b.jpeg\" alt=\"\"></p>\n<h3 id=\"the-renaissance-2.0\" tabindex=\"-1\"><strong>The Renaissance 2.0</strong></h3>\n<p>It starts with one moment of magic. Someone, somewhere, uses AI to bring an impossible idea to life. A teenager in rural India, with no formal art training, creates a breathtaking animated film that wins awards at international festivals. A small-town baker in Italy uses AI to design recipes that blend centuries-old techniques with new flavor combinations, putting her village on the map. A disabled musician composes an entire symphony with the help of AI-powered instruments that adapt to his movement patterns.</p>\n<p>The tools are everywhere, and they‚Äôre cheap enough that anyone can use them. The barrier between ‚ÄúI wish I could‚Äù and ‚ÄúI made this‚Äù collapses. Want to build a video game? AI helps you code and design in weeks, not years. Have a story idea but no writing experience? The AI helps you draft, edit, and publish while still letting your unique voice shine through.</p>\n<p>Workplaces hum with possibility. Instead of drowning in repetitive tasks, people spend their days solving problems, experimenting, collaborating across continents in real time. AI translates languages instantly, making cross-cultural projects effortless. The office ‚Äúproductivity suite‚Äù isn‚Äôt just a set of tools it‚Äôs an intelligent creative partner that suggests connections you hadn‚Äôt imagined. Write docs? Create pipelines? Review PRs? Done in seconds. You can back to iterating, working on feedbacks and building your product.</p>\n<p>Education transforms. Students use AI as a tutor that adapts to their learning style, explains concepts in ten different ways, and never loses patience. Language barriors disappear and any subject just is a click away. Classrooms become workshops of invention, where kids design robots, write plays, and create documentaries before they turn 15. AI isn‚Äôt the shortcut, it‚Äôs the scaffolding that helps them climb higher. Experience gaining becomes second nature as compared to doing the boring tasks.</p>\n<p>Culture explodes into diversity. Films, music, books, and games are no longer bottlenecked by big studios or record labels. The market isn‚Äôt dominated by a handful of companies. It‚Äôs alive, breathing with creators from every corner of the globe, each using AI to amplify their own distinct style.</p>\n<p>And the thing that makes this future special isn‚Äôt the technology, it‚Äôs the fact that humanity learns to keep hold of the steering wheel. We remember that AI is a brush, not the painter. An instrument, not the musician. We let it extend our reach without dulling our fingerprints. We learn to weild this new sword in a way to charge forward, not settle down with.</p>\n<p>This is a world that feels alive, unpredictable, and brimming with wonder. A place where AI hasn‚Äôt replaced the human spark, but fanned it into a wildfire.</p>\n<p><img src=\"/images/posts/7725c2c5-0a1b-46d3-9bf1-2dca4fb52f79.jpeg\" alt=\"\"></p>\n<p>The road to the better future isn‚Äôt just paved with fancy algorithms, it‚Äôs built through choices, habits, and the willingness to stay awake at the wheel while AI drives alongside us. The easiest trap is to assume, ‚ÄúWell, the machines are smarter now, so we can relax.‚Äù That‚Äôs the same logic sailors used when GPS became a thing, until ships started running aground because nobody remembered how to read a map.</p>\n<p>The first step is simple but essential, <strong>keep humans in the loop.</strong> Autopilot can guide a plane, but no one in their right mind would trust it alone in a thunderstorm without a pilot ready to take over. In the same way, AI can help us design, diagnose, or decide, but the final call has to rest with a thinking, feeling human who can weigh context, nuance, and ethics in ways an algorithm can‚Äôt.</p>\n<p>Then there‚Äôs <strong>building with ethics baked in</strong>, not sprinkled on as an afterthought. Think of it like constructing a bridge, you wouldn‚Äôt pour the foundation and then, halfway through, decide ‚ÄúOh right, safety railings.‚Äù We‚Äôve already seen what happens when technology races ahead without ethical guardrails. Social media algorithms optimized for engagement gave us a decade of outrage cycles, misinformation, and culture wars. We cannot repeat that mistake at AI speed.</p>\n<p>Just as important is <strong>teaching prompt literacy</strong>, the new universal skill. Just like reading and writing became survival skills in the industrial age, knowing how to communicate with AI will become as essential as knowing how to search the web today. If you can‚Äôt speak the language of prompts, you‚Äôre locked out of the most powerful tools of our time. Schools, universities, and even workplaces need to treat prompt fluency as part of digital literacy, not as some niche skill for techies. LEARN TO DRIVE!</p>\n<p>And finally, <strong>we must celebrate human originality</strong>. Fiercely! The temptation will always be to let AI do ‚Äúmost‚Äù of the work, smoothing edges and optimizing ideas until they‚Äôre safe, predictable, and ironically forgettable. But the greatest cultural moments in history weren‚Äôt optimized. They were bold, messy, and personal. People still read Shakespeare not because he was flawless, but because he was human. The future we want is one where AI makes us more <em>ourselves</em>, not less. Losing that acute unique perspective is when we start spelling out doom. We stop at the edge of utopia and wonder if it‚Äôs dystopia.</p>\n<p>If we can hold onto these principles, we‚Äôre not just ‚Äúusing‚Äù AI, we‚Äôre shaping the world it will help create.</p>\n<p><img src=\"https://www.worldhistory.org/img/c/p/1600x900/13067.jpg\" alt=\"\"></p>\n<p>It‚Äôs easy to think what‚Äôs happening now is unprecedented, but humanity has been here before, staring at a new invention with equal parts awe and terror. Perhaps the closest parallel to AI‚Äôs disruption is the invention of the <strong>printing press</strong> in the mid-1400s.</p>\n<p>Before Gutenberg, books were hand-copied by scribes, often monks, working in silence for months, sometimes years, on a single manuscript. Knowledge was literally locked in the hands of a few, and access to it was as much about privilege as it was about curiosity. Most people could not read. Most people had never owned a book. And most ideas never spread beyond the walls where they were written. Hard to imagine you having to wait for a new chapter on your ipad or kindle when your friend already had it months before, isn‚Äôt it?</p>\n<p>Then, in 1450, Johannes Gutenberg introduced a machine that could print multiple pages at once, using movable metal type. Suddenly, a book that might have taken a year to copy could be reproduced in days. The <strong>Bible</strong> was one of the first major works to be printed, and that alone caused a cultural earthquake. For the first time, ordinary people could own a copy of a sacred text. For the first time, they could read and interpret it themselves, without the mediation of the Church.</p>\n<p>That shift was revolutionary and dangerous to the powers of the time. Within decades, the printing press became the engine of the <strong>Reformation</strong>, as Martin Luther‚Äôs 95 Theses were printed and distributed across Europe, fueling religious upheaval. It became the megaphone of the <strong>scientific revolution</strong>, spreading the works of Copernicus and Galileo. It even fueled wars and political unrest, as pamphlets became the social media of the 16th and 17th centuries, spreading radical and sometimes dangerous ideas at unprecedented speed.</p>\n<p>But it also democratized learning. Literacy rates soared. New ideas crossed borders faster than armies could march. The Renaissance, which had been a slow simmer, began to boil over. By the 18th century, the Enlightenment thinkers, Voltaire, Rousseau, Locke were all children of print culture, using the press to spread philosophies that would reshape governments and revolutions.</p>\n<blockquote>\n<p>The printing press didn‚Äôt just change the tools, it changed the <em>mental furniture</em> of civilization. We went from a world where knowledge was scarce and guarded, to one where ideas could be multiplied, challenged, and improved.</p>\n</blockquote>\n<p>And here‚Äôs the twist: the printing press didn‚Äôt guarantee a utopia. It gave us the <strong>Scientific Method</strong> and the <strong>French Revolution</strong>. But it also gave us the rapid spread of propaganda, pseudoscience, and conspiracy theories (sound familiar?). It was not inherently good or bad. It was a mirror that reflected the best and worst of human nature, only faster.</p>\n<p>AI is our modern printing press, capable of multiplying not just words, but <em>thoughts</em>, <em>images</em>, <em>ideas</em>, and <em>decisions</em>. The question is not whether it will change us, it already has. The real question is whether we can steer that change toward a Renaissance, or whether we‚Äôll repeat the mistakes of history at a speed that makes them irreversible.</p>\n<p><img src=\"https://images-prod.dazeddigital.com/355/azure/dazed-prod/1240/9/1249323.jpg\" alt=\"\"></p>\n<p>We <em>are</em> at the mercy of AI, in the same way humanity has always been at the mercy of its greatest inventions. But mercy isn‚Äôt submission, it‚Äôs stewardship. If we remain passive, we drift toward the dumpster fire. If we stay engaged, curious, and critical, we could be steering toward the most creative and connected era in history.</p>\n<blockquote>\n<p>The question isn‚Äôt whether AI will change our world. It already has.<br>\nThe real question is: <strong>Will we still recognize ourselves in the world it creates?</strong></p>\n</blockquote>\n<p><img src=\"/images/posts/f6588827-8004-499d-baa3-54ef5b2ab307.jpeg\" alt=\"\"></p>\n<p><em>A silent revolution is upon us! Are you ready?</em></p>\n",
      "date_published": "2025-08-18T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/making-chakra-modular/",
      "url": "https://blog.anirudha.dev/making-chakra-modular/",
      "title": "Making Chakra Modular",
      "content_html": "<p>For the past few weeks since the first public release of <a href=\"https://github.com/anistark/chakra\">Chakra</a>, I‚Äôve been really thinking about what the next right step for it is. I felt like driving myself into an overthinking well of right and wrong directions, I eneded up doing random stuff and going back and forth on updates. Also, not coding as consistently.</p>\n<p>The wasm ecosystem has really taken into the browser side of stuff while the server side is ignored. The client side wasm vm is an ideal playground, but it lacks heavy firepower. I can only hope a server side runtime can bring in that firepower. From a developer‚Äôs standpoint, I‚Äôd see Chakra as a runtime that we can use to build, test, debug and iterate fast. While compiled languages are great and perfect for wasm, it‚Äôs a nightmare for developments. I think some of it has been already done with some amazing projects. I personally love wasmtime, wasmer, wazero and trunk. All of them are great runtimes and perform best in their own arena. Wasmer I feel is more aligned to my thought process, while I can‚Äôt relate to how the architecture of wasmer has been like. That was a major reason to build Chakra.</p>\n<p>This article isn‚Äôt to cover the shortcomings of other tools or frameworks but figure out a direction for Chakra. so, bear with me‚Ä¶</p>\n<p>The compiler part of it, can be better done by other languages, and shouldn‚Äôt be a part of chakra at all. It anyway wasn‚Äôt meant to stay inside Chakra at all. So, I‚Äôm making plugins and moving all compiler languages to built-in plugins to begin with. Slowly, each of them would be made into external plugins. <em>Use what you want, not what‚Äôs shipped!</em></p>\n<p>Next, I want to push for more modular architecture. WASI is great and needs to be integrated. But I tried to run a server side web app and serve it wasm vm. The approach needs further work in a way, that the i/o for dev tool and production build are separated out. We definetly don‚Äôt need the same stuff as long as the compiled wasm runs for both. At the moment, we need to load the entire wasi implementation, which is quite a huge file. Pyodide, py2wasm and all other tools that currently support WASI work in similar way. This is extrememly inefficient cause of the huge number of exports we‚Äôve to deal with. For now, Chakra avoids it by loading a custom wasi implementation, so the exports can be avoided. But the entire wasi implementation still needs to be put up. So, we need to take another look at packaging before we come back to client side building. Something perhaps that while AOT is running, adds implementation alongside of it, like a true rust plugin. Perhaps we can build a dynamic implementation system. Might need more than a pipe dream.</p>\n<p>Finally, serving web apps. Trunk does an amazing job with serving web apps for yew, leptos, dioxus, etc rust frameworks. But it‚Äôs still far behind node, webpack or even air in go from a dev experience perspective. Of course the web app frameworks also need to get updated. Chakra web apps are currently served in a similar way. We do server side rendering (SSR) and open up a port for the browser to load the webapp on. Of course, there was a few issues in the initial version of it with not loading css. But in the new version, it‚Äôs not working at all. Will need to rethink the SSR approach more. But for the time being, I believe, it can be done by simply creating a trunk wrapper plugin for chakra.</p>\n<p>So, these are my thoughts at the moment for future of WASM and Chakra. There‚Äôs more to come. Keep an eye out on the github repo. Will keep it open under MIT license and will be more discussions in the future.</p>\n<p>Our next upcoming release <a href=\"https://github.com/anistark/chakra/releases/tag/v0.9.6\">v0.9.6</a> will showcase the first modular plug-in architecture for Chakra. ‚ú®</p>\n<p>Also, should we‚Äôve a chat forum or mailing list for wasm and chakra updates? IRC is dead I guess.</p>\n",
      "date_published": "2025-06-22T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/chakra/",
      "url": "https://blog.anirudha.dev/chakra/",
      "title": "Chakra: A Wasm Runtime",
      "content_html": "<p>The modern software landscape is shifting rapidly towards <strong>portability</strong>, <strong>performance</strong>, and <strong>sandboxed execution</strong>. At the heart of this transformation is <strong>WebAssembly (Wasm)</strong>. <em>A low-level binary instruction format that allows code written in multiple languages to run safely and efficiently across environments.</em></p>\n<p>Initially built for the browser, Wasm is now powering:</p>\n<ul>\n<li>\n<p>üîå Plugin systems</p>\n</li>\n<li>\n<p>üß† AI agents and edge runtimes</p>\n</li>\n<li>\n<p>üñ•Ô∏è Serverless functions</p>\n</li>\n<li>\n<p>üéÆ Cross-platform games</p>\n</li>\n<li>\n<p>üì± Portable desktop/mobile apps</p>\n</li>\n</ul>\n<p>As covered in <a href=\"https://blog.anirudha.dev/wasm-landscape\">The WebAssembly Odyssey</a>, Wasm is becoming the standard for execution in the age of decentralization, polyglot development, and composable software.</p>\n<h2 id=\"wasm-today\" tabindex=\"-1\">Wasm Today</h2>\n<p>Wasm‚Äôs language-agnostic nature makes it accessible from many ecosystems:</p>\n<ul>\n<li>\n<p><strong>Rust</strong>: Via <code>wasm-bindgen</code>, <code>wasmer</code>, <code>wasmtime</code>, and <code>cargo build --target wasm32-unknown-unknown</code></p>\n</li>\n<li>\n<p><strong>Go</strong>: Via <code>tinygo</code> and official support for <code>wasip1</code></p>\n</li>\n<li>\n<p><strong>C/C++</strong>: Via <code>Emscripten</code> and Clang toolchains</p>\n</li>\n<li>\n<p><strong>AssemblyScript</strong>: A TypeScript-like language targeting Wasm directly</p>\n</li>\n</ul>\n<p>But developing, testing, and running Wasm modules still involves a mix of fragmented tools, runtimes, and platforms.</p>\n<h3 id=\"%F0%9F%A6%80-rust\" tabindex=\"-1\">ü¶Ä Rust</h3>\n<p>Rust is hands-down one of the most mature and performance-friendly options for compiling to Wasm. The tooling specially <code>wasm-bindgen</code>, <code>wasm-pack</code>, and <code>cargo</code> integration makes it relatively easy to write code that compiles cleanly to <code>.wasm</code> binaries. It‚Äôs the go-to choice for developers building serious performance-critical apps in the browser or on the edge. Plus, the safety guarantees of Rust carry over nicely into the Wasm sandbox. That said, dealing with bindings specially JavaScript interop can still be fiddly, and debugging Wasm modules from Rust isn‚Äôt always seamless. Afterall who wants to deal with a whole suite of outputs when all you need is a simple <code>.wasm</code> file.</p>\n<h3 id=\"%F0%9F%90%B9-go-(and-tinygo)\" tabindex=\"-1\">üêπ Go (and TinyGo)</h3>\n<p>Go has official Wasm support through <code>GOARCH=wasm</code>, but the real star for WebAssembly is <a href=\"https://tinygo.org/\"><strong>TinyGo</strong></a>. It‚Äôs a stripped-down Go compiler built specifically for embedded systems and Wasm, and it produces much smaller binaries than the standard Go toolchain. TinyGo shines in lightweight environments specially when building Wasm for microcontrollers or edge runtimes with tight constraints. The downside? You lose some language features like full reflection, and TinyGo‚Äôs support for newer Go features tends to lag behind the mainline compiler. Also, working with system-level capabilities in Wasm through Go is still evolving, specially in WASI contexts.</p>\n<h3 id=\"%F0%9F%A7%B1-assemblyscript\" tabindex=\"-1\">üß± AssemblyScript</h3>\n<p>If you‚Äôre coming from a TypeScript background, AssemblyScript feels like a friendly on-ramp to Wasm. It‚Äôs essentially a subset of TypeScript that compiles to WebAssembly with minimal fuss. You can write near-Wasm-level code without jumping into Rust or C++. This makes AssemblyScript great for writing plugins or extensions in JavaScript-heavy ecosystems. But the tooling is less mature, debugging support is basic, and because it‚Äôs not the full TypeScript spec, you might hit limitations or surprises if you‚Äôre expecting all JS/TS behavior to carry over. Of course not all dynamic functionalities of js/ts are still supported and you‚Äôd need to use external js/ts still for those features. Still, for rapid prototyping and smaller modules, AssemblyScript hits a nice sweet spot.</p>\n<h3 id=\"%E2%9A%99%EF%B8%8F-c-and-c%2B%2B\" tabindex=\"-1\">‚öôÔ∏è C and C++</h3>\n<p>The OGs of systems programming have been compiling to Wasm for a while now, mostly via <a href=\"https://emscripten.org/\"><strong>Emscripten</strong></a>, a powerful but somewhat heavyweight toolchain that turns C/C++ code into <code>.wasm</code> along with glue code. You‚Äôll see this in action in big efforts like porting game engines (think Doom or Unreal) or emulators to run in the browser. C/C++ to Wasm is fast, but the learning curve around toolchains, memory management, and glue code can be steep. And without careful tuning, you might end up with massive Wasm binaries full of unused system libraries. Emscripten is great when you <em>need</em> that level of control, but it‚Äôs not exactly plug-and-play, specially if you‚Äôre not on a linux machine. I had to install 4 different packages to just get it to run.</p>\n<h3 id=\"wasm-runtimes-and-where-they-fit\" tabindex=\"-1\">Wasm Runtimes and Where They Fit</h3>\n<p>Compiling to Wasm is just the first half of the journey. The other half is figuring out <strong>how to run it</strong>. That‚Äôs where runtimes come in.</p>\n<p>Today, we have a handful of mature and battle-tested runtimes like <a href=\"https://github.com/bytecodealliance/wasmtime\"><strong>Wasmtime</strong></a>, <a href=\"https://wasmer.io/\"><strong>Wasmer</strong></a>, <a href=\"https://github.com/tetratelabs/wazero\"><strong>Wazero</strong></a>, and <a href=\"https://v8.dev/\"><strong>V8</strong></a>. Each of them targets different goals. Some are optimized for embedding, some for server-side, and others for full sandboxed environments. But none of them are perfect, and each comes with trade-offs that show up fast when you‚Äôre trying to build real-world systems.</p>\n<h4 id=\"wasmtime\" tabindex=\"-1\">Wasmtime</h4>\n<p>Wasmtime is one of the most respected Wasm runtimes out there, maintained by the Bytecode Alliance (the same people behind <a href=\"https://wasi.dev/\">WASI</a>). It‚Äôs written in Rust, super fast, and very WASI-compliant. It excels in scenarios where performance and standards compliance matter, like cloud-native environments or sandboxed serverless functions. It also has solid support for features like component model and interface types.</p>\n<p><strong>Where it falls short</strong> is accessibility and extensibility. If you‚Äôre building something experimental or need to integrate Wasm into a non-standard context (like a desktop sandbox or local-first P2P system), Wasmtime can feel overengineered. The API is powerful but dense. The project is heavily geared toward large-scale production deployments and tends to move slowly on more community-driven, experimental ideas. It‚Äôs not the friendliest tool if you‚Äôre just trying to embed a runtime into a minimal app or CLI tool.</p>\n<h4 id=\"wasmer\" tabindex=\"-1\">Wasmer</h4>\n<p>Wasmer also comes from the Rust world, but it has a different vibe. Wasmer is built with embedding in mind and comes with bindings for a bunch of languages like Python, Ruby, PHP, JavaScript, etc. It aims to be the ‚ÄúDocker of Wasm‚Äù. You can distribute and run Wasm modules using <code>wasmer run</code> just like Docker containers. This is great for plugin architectures, lightweight apps, and scripting environments.</p>\n<p>But Wasmer has <strong>its own complexity tax</strong>. The tooling is inconsistent, the documentation has gaps, and its performance can vary depending on which backend you choose (Cranelift, LLVM, Singlepass). Features like WASIX (Wasmer‚Äôs extended WASI for more POSIX-like behavior) are powerful but fragmented and not part of the core Wasm spec. You would also need a separate docker for <a href=\"https://nuitka.net/\">nuitka</a> to compile python to wasm using py2wasm. Personal experience with <a href=\"https://github.com/wasmerio/py2wasm\">py2wasm</a> wasn‚Äôt so great but the team is dedicately working towards it and it‚Äôs currently the best tool out there hands-down. Debugging issues inside Wasmer can feel opaque, and versioning across plugins and toolchains isn‚Äôt always smooth. For all its ambition, Wasmer sometimes bites off more than it can chew.</p>\n<h4 id=\"wazero\" tabindex=\"-1\">Wazero</h4>\n<p>Wazero is a standout because it‚Äôs the only major Wasm runtime <strong>written entirely in Go</strong>. That makes it ideal for Go-native applications that want to run Wasm without introducing foreign dependencies or FFI boundaries. It‚Äôs small, easy to embed, and has a clean API that fits nicely into idiomatic Go programs. It‚Äôs one of the best written runtimes I‚Äôve seen.</p>\n<p>However, being Go-native is a double-edged sword. Wazero‚Äôs performance is good <em>for what it is</em>, but it can‚Äôt compete with native runtimes like Wasmtime or Wasmer in terms of raw speed or compilation efficiency. And because it‚Äôs written in Go, it‚Äôs not always the right fit for systems built in Rust, C++, or other environments where bringing in a Go runtime would be awkward. WASI support is solid but not complete, and because it‚Äôs a relatively young project, some edge cases or advanced features (like multi-module linking or advanced debugging) may be limited.</p>\n<h4 id=\"v8-(via-node.js-or-chrome)\" tabindex=\"-1\">V8 (via Node.js or Chrome)</h4>\n<p>V8 is the JavaScript engine that powers Chrome and Node.js which also includes a mature WebAssembly engine. If you‚Äôre already in a JavaScript/TypeScript environment, running <code>.wasm</code> inside V8 is the path of least resistance. The performance is excellent, and you get seamless interop with JavaScript, which is ideal for browser-based games, UI frameworks, or web-native compute modules.</p>\n<p>But V8 is <strong>not a general-purpose Wasm runtime</strong>. It‚Äôs deeply tied to the JS ecosystem. You can‚Äôt use it easily outside of browser or Node contexts, and you don‚Äôt get any of the benefits of WASI. No filesystem, no networking, no standalone system features. You‚Äôre locked into the JS execution environment, which limits its usefulness for non-browser, non-serverless use cases. Embedding V8 is also no joke. It‚Äôs massive, memory-hungry, and incredibly hard to integrate into minimal or embedded applications.</p>\n<p>So where does that leave developers building Wasm-native applications, CLI tools, or experimental systems?</p>\n<p>Most existing runtimes are either:</p>\n<ul>\n<li>\n<p>Too heavyweight and complex (Wasmtime, V8)</p>\n</li>\n<li>\n<p>Fragmented or unstable (Wasmer)</p>\n</li>\n<li>\n<p>Tied to one language ecosystem (Wazero)</p>\n</li>\n</ul>\n<p>What‚Äôs missing is a <strong>lightweight, understandable, and extensible</strong> runtime that developers can pick up, hack on, and make their own.</p>\n<p>That‚Äôs where Chakra enters the story.</p>\n<h2 id=\"meet-chakra-%F0%9F%94%A5-one-runtime-to-run-%E2%80%98em-all\" tabindex=\"-1\">Meet Chakra üî• One Runtime to Run ‚Äòem all</h2>\n<p><a href=\"https://wazero.io/\"><strong>Chakra</strong></a> is an open-source <strong>WebAssembly runtime</strong> designed to unify and simplify the Wasm development and execution experience.</p>\n<p>Whether you‚Äôre a systems developer, an app builder, or just exploring Wasm for the first time, Chakra offers:</p>\n<ul>\n<li>\n<p>üß© <strong>Lightweight &amp; modular</strong> runtime for embedding and experimentation</p>\n</li>\n<li>\n<p>ü¶Ä <strong>Built in Rust</strong> with performance and safety at its core</p>\n</li>\n<li>\n<p>üîê <strong>Secure sandboxing</strong> to isolate execution</p>\n</li>\n<li>\n<p>üñ•Ô∏è <strong>CLI-first</strong> for quick Wasm testing and automation</p>\n</li>\n<li>\n<p>üì¶ <strong>WASI support (in progress)</strong> for file, network, and system access</p>\n</li>\n<li>\n<p>üîÑ <strong>Multi-language support</strong>: One tool to run modules compiled from <strong>Rust, Go, AssemblyScript, and C/C++</strong></p>\n</li>\n</ul>\n<p>Chakra isn‚Äôt just about running Wasm, it‚Äôs about making Wasm <strong>developer-friendly and extensible</strong>. Basically, your go-to tool to get started with wasm, build something and finally deploy it. Chakra aims to cover the entire WASM Dev Tooling ecosystem. Quite ambitious, and of course will need lot of support from the community, as I want to build it with everyone.</p>\n<h2 id=\"%F0%9F%A6%80-chakra-can-already-run-rust-web-projects\" tabindex=\"-1\">ü¶Ä Chakra Can Already Run Rust Web Projects</h2>\n<p>Rust has emerged as one of the leading languages for building high-performance Wasm modules specially for web UIs using tools like <code>yew</code>, <code>leptos</code>, and <code>dioxus</code>. Arguably can work as a potential replacement to JavaScript/TypeScript ecosystem entirely in the near future, and that‚Äôs saying something.</p>\n<p><strong>With Chakra, you can already compile and run Rust-based Wasm projects with ease.</strong> If your project is a rust web project, chakra will identify it and run it as a web app. This means Chakra can be integrated into your development workflow to <strong>test, debug, or embed</strong> Rust logic, without setting up complex runtimes or containers.</p>\n<h2 id=\"%F0%9F%8C%8D-one-runtime%2C-many-languages\" tabindex=\"-1\">üåç One Runtime, Many Languages</h2>\n<p>Unlike runtimes tied to a specific language or platform, Chakra is designed to be <strong>language-agnostic</strong>.</p>\n<p>If you can compile it to Wasm, Chakra can run it. Currently supports four languages and python is in next step.</p>\n<ul>\n<li>\n<p>ü¶Ä Rust</p>\n</li>\n<li>\n<p>üêπ Go (via TinyGo)</p>\n</li>\n<li>\n<p>üß± AssemblyScript</p>\n</li>\n<li>\n<p>üõ†Ô∏è C/C++</p>\n</li>\n</ul>\n<p>It aims to be the <strong>‚Äúone tool to run them all‚Äù</strong>, streamlining execution across your entire stack, whether you‚Äôre building microservices, CLI tools, or local-first apps.</p>\n<h2 id=\"%F0%9F%9A%80-what%E2%80%99s-next-for-chakra%3F\" tabindex=\"-1\">üöÄ What‚Äôs Next for Chakra?</h2>\n<p>Chakra is just getting started. The future includes:</p>\n<ul>\n<li>\n<p>üß± Full WASI support</p>\n</li>\n<li>\n<p>üì° Dynamic loading and linking</p>\n</li>\n<li>\n<p>üñ•Ô∏è Web playground + desktop runner</p>\n</li>\n<li>\n<p>üîÅ Live reload for rapid dev workflows</p>\n</li>\n<li>\n<p>üìä Better diagnostics and logging</p>\n</li>\n</ul>\n<p>And most importantly‚Ä¶</p>\n<blockquote>\n<p>Chakra aims to become the <strong>go-to name for Wasm runtime and development</strong>. The project is community-driven and open to <strong>any feature request or feedback</strong>.</p>\n</blockquote>\n<p><img src=\"https://raw.githubusercontent.com/anistark/chakra/main/assets/loader.svg\" alt=\"\"></p>\n<h2 id=\"%F0%9F%A4%9D-join-the-movement\" tabindex=\"-1\">ü§ù Join the Movement</h2>\n<p>If you‚Äôre passionate about WebAssembly, runtime design, developer tools, or just want to contribute to the open-source future of portable software:</p>\n<ul>\n<li>\n<p>‚≠ê <a href=\"https://github.com/anistark/chakra\">Star Chakra on GitHub</a></p>\n</li>\n<li>\n<p>üßë‚Äçüíª Try it out locally and run your first <code>.wasm</code> file</p>\n</li>\n<li>\n<p>üó£Ô∏è Open an issue with suggestions or bugs</p>\n</li>\n<li>\n<p>üì¢ Spread the word and help grow the ecosystem</p>\n</li>\n</ul>\n<blockquote>\n<p>WebAssembly is the execution format of the modular web.<br>\n<strong>Chakra</strong> is your runtime for that future.</p>\n</blockquote>\n<p>Let‚Äôs build it together. üíô</p>\n",
      "date_published": "2025-05-25T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/js-ts-asc/",
      "url": "https://blog.anirudha.dev/js-ts-asc/",
      "title": "Typed, Transpiled, Compiled",
      "content_html": "<p>If you‚Äôve ever coded for the web, chances are you‚Äôve touched <strong>JavaScript</strong>. But as apps get more complex, you might run into its quirks. That‚Äôs where <strong>TypeScript</strong> and <strong>AssemblyScript</strong> come into play.</p>\n<p>It all began in the wild early days of the internet, back in <strong>1995</strong>, when web pages were mostly just static documents. Plain text, maybe some images, and a lot of reloading. Netscape, one of the first web browsers, wanted to make the web more dynamic, so they asked a guy named <strong>Brendan Eich</strong> to come up with a scripting language for browsers.</p>\n<p><img src=\"/images/posts/cccb751a-e5c6-4d96-adb5-b1d041e3c8c6.jpeg\" alt=\"\"></p>\n<p>Brendan, in what now sounds like a myth, wrote the first version of <strong>JavaScript</strong> in just <strong>10 days</strong>. It was a scrappy little language, originally called <em>Mocha</em>, then <em>LiveScript</em>, and finally <em>JavaScript</em>. Not because it had much to do with Java, but because marketing thought the name sounded cool and can probably piggy back the popularity of Java. Brendan later founded <strong>Mozilla</strong> and now <strong>Brave</strong> browser.</p>\n<p>Despite its rushed beginnings and quirks, JavaScript exploded in popularity. It let developers add interactivity to websites. Things like pop-ups, form validation, dropdown menus, and animations. Over time, it evolved. In <strong>1996</strong>, it got standardized as <strong>ECMAScript</strong>. In <strong>2009</strong>, it broke free from the browser thanks to <strong>Node.js</strong>, which let JavaScript to run on servers too.</p>\n<p>By the early 2010s, JavaScript was everywhere. But as applications got bigger, teams started to struggle. It was just too easy to make mistakes. Misspell a variable, call a method on <code>undefined</code>, or forget what type something was supposed to be. That‚Äôs where <strong>TypeScript</strong> enters the picture.</p>\n<p>In <strong>2012</strong>, <strong>Microsoft</strong> added types to JavaScript. That‚Äôs how <strong>TypeScript</strong> was born. A superset of JavaScript that brought optional static typing, interfaces, and better tooling. It was spearheaded by <strong>Anders Hejlsberg</strong>, the same guy who created <strong>C#</strong>, so it had some serious engineering power behind it.</p>\n<p>At first, the JS community was skeptical. Why add types to a language that prides itself on being dynamic? But as apps and teams grew, so did the headaches, and TypeScript‚Äôs value became clear. Big frameworks like <strong>Angular</strong> adopted it, and eventually even the JavaScript purists warmed up to it. Today, TypeScript is used in everything from small web apps to massive enterprise systems.</p>\n<p>But the story doesn‚Äôt stop there.</p>\n<p>By <strong>2018</strong>, a new frontier was opening up: <strong>WebAssembly (WASM)</strong>. WASM let developers run near-native code in the browser. Fast, efficient, and portable. Languages like C, C++, and Rust were already compiling to WASM, but they weren‚Äôt easy for JavaScript devs to pick up.</p>\n<p>That‚Äôs when <strong>AssemblyScript</strong> came into the picture. It was a community-driven project started by <strong>Daniel Wirtz</strong>, with one goal: make it easy for JavaScript and TypeScript developers to write code that could compile to WASM. AssemblyScript used TypeScript-like syntax but was stripped down to only the features that could compile safely and efficiently to WebAssembly.</p>\n<p>Suddenly, JS devs could write <strong>high-performance math functions</strong>, <strong>image processors</strong>, or even <strong>game engines</strong> in a language they already knew, without touching C or Rust.</p>\n<p>Of course, AssemblyScript isn‚Äôt a full replacement for JS or TS. It can‚Äôt talk to the DOM or fetch data directly. But it fits beautifully into apps that need a speed boost in specific parts.</p>\n<p>So now, in 2025, we live in a world where:</p>\n<ul>\n<li>\n<p><strong>JavaScript</strong> is the old reliable: still easy, still everywhere.</p>\n</li>\n<li>\n<p><strong>TypeScript</strong> is the modern favorite: safer, smarter, and beloved by teams.</p>\n</li>\n<li>\n<p><strong>AssemblyScript</strong> is the performance geek‚Äôs sidekick: fast, focused, and built for the WebAssembly era.</p>\n</li>\n</ul>\n<p><img src=\"https://www.tutorialrepublic.com/lib/images/javascript-illustration.png\" alt=\"\"></p>\n<p><strong>JavaScript (JS)</strong> is a <strong>dynamic</strong>, <strong>loosely-typed</strong> scripting language. It‚Äôs the backbone of most front-end (and even some back-end) apps. It runs everywhere (browsers, Node.js, Bun, Deno, etc. It‚Äôs super easy to learn. Has a huge ecosystem. It‚Äôs flexible and forgiving. However, it lacks type safety, has more runtime bugs than any other project. Large projects can get messy and extremely hard to debug due to lack of structure.</p>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">square</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">n</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token keyword\">return</span> n <span class=\"token operator\">*</span> n<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><br>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">square</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 25</span></code></pre>\n<p>JavaScript has the richest tooling because it‚Äôs been around forever.</p>\n<h3 id=\"frameworks-%26-libraries\" tabindex=\"-1\">Frameworks &amp; Libraries</h3>\n<ul>\n<li>\n<p><strong>React</strong>, <strong>Vue</strong>, <strong>Svelte</strong>, <strong>AngularJS</strong></p>\n</li>\n<li>\n<p><strong>Express.js</strong> ‚Äì server-side apps</p>\n</li>\n<li>\n<p><strong>jQuery</strong> ‚Äì (still around, but fading)</p>\n</li>\n<li>\n<p><strong>Three.js</strong> ‚Äì 3D graphics</p>\n</li>\n</ul>\n<h3 id=\"build-tools\" tabindex=\"-1\">Build Tools</h3>\n<ul>\n<li>\n<p><strong>Webpack</strong></p>\n</li>\n<li>\n<p><strong>Vite</strong></p>\n</li>\n<li>\n<p><strong>Parcel</strong></p>\n</li>\n<li>\n<p><strong>Rollup</strong></p>\n</li>\n</ul>\n<h3 id=\"testing-tools\" tabindex=\"-1\">Testing Tools</h3>\n<ul>\n<li>\n<p><strong>Jest</strong></p>\n</li>\n<li>\n<p><strong>Mocha</strong></p>\n</li>\n<li>\n<p><strong>Cypress</strong> (E2E)</p>\n</li>\n</ul>\n<h3 id=\"dev-tools\" tabindex=\"-1\">Dev Tools</h3>\n<ul>\n<li>\n<p><strong>Chrome DevTools</strong></p>\n</li>\n<li>\n<p><strong>ESLint</strong></p>\n</li>\n<li>\n<p><strong>Prettier</strong></p>\n</li>\n<li>\n<p><strong>Babel</strong> ‚Äì transpile newer JS for older browsers</p>\n</li>\n</ul>\n<h3 id=\"use-javascript-when%3A\" tabindex=\"-1\">Use JavaScript when:</h3>\n<ul>\n<li>\n<p>You want <strong>zero setup</strong></p>\n</li>\n<li>\n<p>You‚Äôre working on <strong>legacy apps</strong></p>\n</li>\n<li>\n<p>You need <strong>runtime scripting</strong>, e.g., eval or REPL</p>\n</li>\n<li>\n<p>You want <strong>maximum browser compatibility</strong></p>\n</li>\n</ul>\n<p><img src=\"https://www.orientsoftware.com/Themes/Content/Images/blog/2023-11-13/typescript-introduction.jpg\" alt=\"\"></p>\n<p><strong>TypeScript (TS)</strong> is a <strong>typed superset</strong> of JavaScript. It adds <strong>static typing</strong>, interfaces, enums, and more. All compiled down to JavaScript.</p>\n<p>It catches errors at <strong>compile time.</strong> Helps with <strong>auto-complete</strong>, <strong>refactoring</strong>, and <strong>documentation.</strong> Works with existing JS code and it‚Äôs great for large projects. There‚Äôs a slight learning curve if you‚Äôre new to typing. It requires a build step (using <code>tsc</code>) and is slower iteration for quick scripts.</p>\n<pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">function</span> <span class=\"token function\">square</span><span class=\"token punctuation\">(</span>n<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">number</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token keyword\">return</span> n <span class=\"token operator\">*</span> n<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">square</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 25</span><br><span class=\"token comment\">// console.log(square(\"5\")); // ‚ùå Compile-time error</span></code></pre>\n<p>TypeScript is super popular in modern frontend and backend development.</p>\n<h3 id=\"frameworks-(ts-first-or-ts-friendly)\" tabindex=\"-1\">Frameworks (TS-first or TS-friendly)</h3>\n<ul>\n<li>\n<p><strong>Next.js</strong> ‚Äì full-stack React</p>\n</li>\n<li>\n<p><strong>Remix</strong> ‚Äì modern web app framework</p>\n</li>\n<li>\n<p><strong>NestJS</strong> ‚Äì backend framework (like Angular for backend)</p>\n</li>\n<li>\n<p><strong>tRPC</strong> ‚Äì type-safe APIs</p>\n</li>\n<li>\n<p><strong>TypeORM</strong> / <strong>Prisma</strong> ‚Äì typed database ORM</p>\n</li>\n</ul>\n<h3 id=\"build-tools-1\" tabindex=\"-1\">Build Tools</h3>\n<ul>\n<li>\n<p><strong>tsc</strong> ‚Äì official TypeScript compiler</p>\n</li>\n<li>\n<p><strong>Vite</strong> ‚Äì works great with TS</p>\n</li>\n<li>\n<p><strong>esbuild</strong> ‚Äì super fast bundler</p>\n</li>\n<li>\n<p><strong>SWC</strong> ‚Äì Rust-based compiler used in Next.js</p>\n</li>\n</ul>\n<h3 id=\"testing-tools-1\" tabindex=\"-1\">Testing Tools</h3>\n<ul>\n<li>\n<p>Same as JS, but with type support:</p>\n<ul>\n<li>\n<p><strong>Jest</strong> (with TS config)</p>\n</li>\n<li>\n<p><strong>Vitest</strong> (Vite-native testing)</p>\n</li>\n<li>\n<p><strong>ts-node</strong> (run TypeScript directly)</p>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"dev-tools-1\" tabindex=\"-1\">Dev Tools</h3>\n<ul>\n<li>\n<p><strong>TypeScript Language Server (TSLS)</strong> ‚Äì for autocomplete</p>\n</li>\n<li>\n<p><strong>tsconfig.json</strong> ‚Äì config your compiler</p>\n</li>\n<li>\n<p><strong>Typedoc</strong> ‚Äì generate docs from types</p>\n</li>\n</ul>\n<h3 id=\"use-typescript-when%3A\" tabindex=\"-1\">Use TypeScript when:</h3>\n<ul>\n<li>\n<p>You‚Äôre building <strong>large projects</strong></p>\n</li>\n<li>\n<p>You want <strong>safe refactoring</strong></p>\n</li>\n<li>\n<p>You work in a <strong>team</strong></p>\n</li>\n<li>\n<p>You love <strong>autocomplete and IDE help</strong></p>\n</li>\n</ul>\n<p><img src=\"https://gitlab.com/uploads/-/system/project/avatar/37766828/assemblyscript-logo.png\" alt=\"\"></p>\n<p><strong>AssemblyScript (AS)</strong> looks like TypeScript but compiles to <strong>WebAssembly (WASM)</strong>, which runs at near-native speed in the browser or other WASM environments. It‚Äôs <strong>super fast</strong> performance for CPU-heavy tasks. Easy to learn for JS/TS devs. Compiles to <code>.wasm</code> easily. However, it‚Äôs not a full TS/JS replacement (limited standard lib). No DOM access (must be called from JS) and has some tooling quirks.</p>\n<pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">// assembly/index.ts</span><br><span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">square</span><span class=\"token punctuation\">(</span>n<span class=\"token operator\">:</span> i32<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> i32 <span class=\"token punctuation\">{</span><br>  <span class=\"token keyword\">return</span> n <span class=\"token operator\">*</span> n<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> wasm <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> WebAssembly<span class=\"token punctuation\">.</span><span class=\"token function\">instantiateStreaming</span><span class=\"token punctuation\">(</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"build/optimized.wasm\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>wasm<span class=\"token punctuation\">.</span>instance<span class=\"token punctuation\">.</span>exports<span class=\"token punctuation\">.</span><span class=\"token function\">square</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 25</span></code></pre>\n<p>AssemblyScript is younger and more niche, but growing for performance-focused devs.</p>\n<h3 id=\"core-tools\" tabindex=\"-1\">Core Tools</h3>\n<ul>\n<li>\n<p><strong>AssemblyScript Compiler (</strong><code>asc</code>) ‚Äì compile <code>.ts</code> to <code>.wasm</code></p>\n</li>\n<li>\n<p><strong>asbuild</strong> ‚Äì build script tool</p>\n</li>\n<li>\n<p><strong>loader</strong> ‚Äì JS loader for WASM output</p>\n</li>\n<li>\n<p><strong>wasm-bindgen / as-bind</strong> ‚Äì simplify JS ‚Üî WASM communication</p>\n</li>\n</ul>\n<h3 id=\"use-with%3A\" tabindex=\"-1\">Use with:</h3>\n<ul>\n<li>\n<p><strong>Web projects</strong> that require native speed</p>\n</li>\n<li>\n<p><strong>Game engines</strong> (e.g., integrate into Unity, Bevy, etc.)</p>\n</li>\n<li>\n<p><strong>Blockchain smart contracts</strong> (e.g., NEAR Protocol uses AssemblyScript)</p>\n</li>\n<li>\n<p><strong>Scientific simulations</strong> or <strong>image/video/audio processing</strong></p>\n</li>\n</ul>\n<h3 id=\"testing\" tabindex=\"-1\">Testing</h3>\n<ul>\n<li><strong>as-pect</strong> ‚Äì testing framework for AssemblyScript</li>\n</ul>\n<h3 id=\"dev-tools-2\" tabindex=\"-1\">Dev Tools</h3>\n<ul>\n<li>\n<p><strong>WABT (WebAssembly Binary Toolkit)</strong> ‚Äì inspect <code>.wasm</code> files</p>\n</li>\n<li>\n<p><strong>WasmExplorer</strong>, <strong>WasmFiddle</strong> ‚Äì online WASM playgrounds</p>\n</li>\n<li>\n<p><strong>VSCode AssemblyScript Extension</strong></p>\n</li>\n</ul>\n<h3 id=\"use-assemblyscript-when%3A\" tabindex=\"-1\">Use AssemblyScript when:</h3>\n<ul>\n<li>\n<p>You need <strong>WASM performance</strong> with <strong>JavaScript-like syntax</strong></p>\n</li>\n<li>\n<p>You‚Äôre optimizing a <strong>hot loop or math-heavy function</strong></p>\n</li>\n<li>\n<p>You‚Äôre building to <strong>target WebAssembly</strong> for portability</p>\n</li>\n</ul>\n<p>While, it seems like a natural progression with AssemblyScript being the natural step. But, we‚Äôre not quite there yet. Let‚Äôs look into a few use-cases:</p>\n<p>Suppose we want to <strong>fetch user data from an API</strong>.</p>\n<h3 id=\"%E2%9C%85-typescript-version-(works-fine)\" tabindex=\"-1\">‚úÖ TypeScript Version (works fine)</h3>\n<pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"https://jsonplaceholder.typicode.com/users/1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token keyword\">const</span> user <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>  <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token function\">getUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<h3 id=\"%E2%9D%8C-assemblyscript-version-(won%E2%80%99t-work)\" tabindex=\"-1\">‚ùå AssemblyScript Version (won‚Äôt work)</h3>\n<pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">// assembly/index.ts</span><br><span class=\"token comment\">// ‚ùå No 'fetch' API available</span><br><span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token keyword\">void</span> <span class=\"token punctuation\">{</span><br>  <span class=\"token comment\">// This will not compile or work</span><br><span class=\"token punctuation\">}</span></code></pre>\n<blockquote>\n<p>üõ† Workaround: You‚Äôd have to call <code>fetch</code> from JS, then pass the result to WASM. That‚Äôs extra work and complexity.</p>\n</blockquote>\n<p>So, you might think that typescript is all powerful then? It‚Äôs close. But javascript still has it‚Äôs value. Say, you‚Äôre building a <strong>plugin system</strong> or a browser-based REPL where users write code at runtime.</p>\n<h3 id=\"%E2%9C%85-javascript-version-(works-fine)\" tabindex=\"-1\">‚úÖ JavaScript Version (works fine)</h3>\n<pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> userCode <span class=\"token operator\">=</span> <span class=\"token string\">\"console.log('Hello from user!')\"</span><span class=\"token punctuation\">;</span><br><span class=\"token function\">eval</span><span class=\"token punctuation\">(</span>userCode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ‚úÖ Works out of the box</span></code></pre>\n<h3 id=\"%E2%9D%8C-typescript-version-(won%E2%80%99t-work-directly)\" tabindex=\"-1\">‚ùå TypeScript Version (won‚Äôt work directly)</h3>\n<pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> userCode<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"console.log('Hello from user!')\"</span><span class=\"token punctuation\">;</span><br><span class=\"token comment\">// eval(userCode); ‚ùå This only works at runtime after TS has compiled the code to JS</span></code></pre>\n<blockquote>\n<p>üõ† You‚Äôd need to compile the user‚Äôs TypeScript code to JavaScript <strong>on the fly</strong> (using Babel or TypeScript compiler API), which is overkill for simple tasks.</p>\n</blockquote>\n<p>So, a combination is still required to get the optimal performance and scale.</p>\n<p>Imagine you‚Äôre building a browser-based photo editor:</p>\n<ul>\n<li>\n<p>UI: <strong>React + TypeScript</strong> (Next.js)</p>\n</li>\n<li>\n<p>Filters and image processing: <strong>AssemblyScript ‚Üí WASM</strong></p>\n</li>\n<li>\n<p>Tiny plugins or runtime scripts: <strong>Plain JavaScript</strong> with <code>eval</code></p>\n</li>\n</ul>\n<p>You‚Äôre mixing all three to get:<br>\n‚úÖ Scalability + ‚úÖ Performance + ‚úÖ Flexibility</p>\n<h3 id=\"a-quick-comparison%3A\" tabindex=\"-1\">A quick comparison:</h3>\n<table>\n<thead>\n<tr>\n<th>Feature</th>\n<th>JavaScript</th>\n<th>TypeScript</th>\n<th>AssemblyScript</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Type safety</td>\n<td>‚ùå</td>\n<td>‚úÖ</td>\n<td>‚úÖ (limited)</td>\n</tr>\n<tr>\n<td>Browser support</td>\n<td>‚úÖ</td>\n<td>‚úÖ (compiled)</td>\n<td>‚úÖ (compiled to WASM)</td>\n</tr>\n<tr>\n<td>Speed</td>\n<td>‚ö†Ô∏è (interpreter)</td>\n<td>‚ö†Ô∏è (same as JS)</td>\n<td>‚úÖ‚úÖ‚úÖ (near native)</td>\n</tr>\n<tr>\n<td>Use case</td>\n<td>Web, backend</td>\n<td>Large apps</td>\n<td>Performance-critical code</td>\n</tr>\n<tr>\n<td>Learning curve</td>\n<td>Easy</td>\n<td>Medium</td>\n<td>Medium (WASM specifics)</td>\n</tr>\n<tr>\n<td>Access to DOM</td>\n<td>‚úÖ</td>\n<td>‚úÖ</td>\n<td>‚ùå</td>\n</tr>\n</tbody>\n</table>\n<p>So, there‚Äôs a time to type, transpile and compile afterall.</p>\n<ul>\n<li>\n<p><strong>Use JavaScript</strong> if you‚Äôre building a quick prototype, small scripts, or prefer minimal setup.</p>\n</li>\n<li>\n<p><strong>Use TypeScript</strong> for any medium to large project where code quality and developer experience matter.</p>\n</li>\n<li>\n<p><strong>Use AssemblyScript</strong> if you need performance (e.g. image/video processing, simulations) and want to stay in JS-like syntax land.</p>\n</li>\n</ul>\n<p>As we look into the future of web development, one thing is becoming crystal clear: <strong>WebAssembly isn‚Äôt just a cool experiment anymore, it‚Äôs a movement.</strong> And it‚Äôs reshaping how we think about building applications for the browser, desktop, and beyond.</p>\n<p><img src=\"https://uno-website-assets.s3.amazonaws.com/wp-content/uploads/2019/10/01091008/webassembly-pic.png\" alt=\"\"></p>\n<h3 id=\"webassembly%3A-the-portable-runtime-of-the-future\" tabindex=\"-1\">WebAssembly: The Portable Runtime of the Future</h3>\n<p>Originally designed to make <strong>browser-based games and apps faster</strong>, WebAssembly is now evolving into something much bigger, something <strong>universal</strong>. It‚Äôs not just about the web anymore. WASM is showing up in:</p>\n<ul>\n<li>\n<p><strong>Edge computing</strong> (like Cloudflare Workers)</p>\n</li>\n<li>\n<p><strong>Serverless runtimes</strong> (like Wasmtime and Wasmer)</p>\n</li>\n<li>\n<p><strong>Smart contracts</strong> (in chains like NEAR, Polkadot, and Internet Computer)</p>\n</li>\n<li>\n<p><strong>Plugins systems</strong> for IDEs, databases, and even game engines</p>\n</li>\n</ul>\n<p>The dream? <strong>Code that runs <em>anywhere</em>, securely and fast, no matter the host system.</strong> And AssemblyScript is well-positioned to be the ‚ÄúJavaScript dev‚Äôs entry point‚Äù into that world.</p>\n<p><img src=\"https://sapphireventures.com/wp-content/uploads/2022/10/Final5_WebAssemblyMarketMap.Oct_.2022.png\" alt=\"\"></p>\n<p>WebAssembly is becoming:</p>\n<ul>\n<li>\n<p>The <strong>universal runtime</strong> for sandboxed, fast code</p>\n</li>\n<li>\n<p>The <strong>next VM target</strong> for many languages (Python, Go, Ruby are all working on WASM support)</p>\n</li>\n<li>\n<p>A way to <strong>escape the browser</strong> while still using browser-native tech</p>\n</li>\n</ul>\n<p>And as WASM matures (with support for garbage collection, threads, and better debugging), <strong>AssemblyScript will mature alongside it</strong>. Maybe we can have a better runtime for typescript which helps push WASM beyond AssemblyScript too.</p>\n",
      "date_published": "2025-05-14T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/cpython-compiler/",
      "url": "https://blog.anirudha.dev/cpython-compiler/",
      "title": "Understanding the CPython Compiler",
      "content_html": "<p>CPython is the reference implementation of Python written in C. When you run a <code>.py</code> file, it goes through several internal steps before your code is actually executed.</p>\n<h2 id=\"overview-of-the-compilation-process\" tabindex=\"-1\">Overview of the Compilation Process</h2>\n<p>Here‚Äôs a simplified overview of what happens when you run a Python script:</p>\n<ol>\n<li>\n<p><strong>Lexical Analysis (Tokenizer)</strong></p>\n</li>\n<li>\n<p><strong>Parsing (AST generation)</strong></p>\n</li>\n<li>\n<p><strong>Abstract Syntax Tree to Bytecode Compilation</strong></p>\n</li>\n<li>\n<p><strong>Execution by Python Virtual Machine</strong></p>\n</li>\n</ol>\n<h2 id=\"lexical-analysis-(tokenizer)\" tabindex=\"-1\">Lexical Analysis (Tokenizer)</h2>\n<p>The tokenizer splits the raw source code into <em>tokens</em>. This is like identifying words and punctuation in a sentence.</p>\n<pre class=\"language-python\"><code class=\"language-python\">source_code <span class=\"token operator\">=</span> <span class=\"token string\">\"x = 42\"</span></code></pre>\n<p>CPython uses a <a href=\"https://docs.python.org/3/library/tokenize.html\">tokenizer</a> from the <code>tokenize</code> module. You can inspect how Python breaks it down:</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> tokenize<br><span class=\"token keyword\">from</span> io <span class=\"token keyword\">import</span> BytesIO<br><br>code <span class=\"token operator\">=</span> <span class=\"token string\">b\"x = 42\"</span><br>tokens <span class=\"token operator\">=</span> <span class=\"token builtin\">list</span><span class=\"token punctuation\">(</span>tokenize<span class=\"token punctuation\">.</span>tokenize<span class=\"token punctuation\">(</span>BytesIO<span class=\"token punctuation\">(</span>code<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>readline<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br><span class=\"token keyword\">for</span> token <span class=\"token keyword\">in</span> tokens<span class=\"token punctuation\">:</span><br>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>token<span class=\"token punctuation\">)</span></code></pre>\n<p><strong>Output:</strong></p>\n<pre class=\"language-python\"><code class=\"language-python\">TokenInfo<span class=\"token punctuation\">(</span><span class=\"token builtin\">type</span><span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token punctuation\">(</span>NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> string<span class=\"token operator\">=</span><span class=\"token string\">'x'</span><span class=\"token punctuation\">,</span> start<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> end<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> line<span class=\"token operator\">=</span><span class=\"token string\">'x = 42'</span><span class=\"token punctuation\">)</span><br>TokenInfo<span class=\"token punctuation\">(</span><span class=\"token builtin\">type</span><span class=\"token operator\">=</span><span class=\"token number\">54</span> <span class=\"token punctuation\">(</span>OP<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> string<span class=\"token operator\">=</span><span class=\"token string\">'='</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><br>TokenInfo<span class=\"token punctuation\">(</span><span class=\"token builtin\">type</span><span class=\"token operator\">=</span><span class=\"token number\">2</span> <span class=\"token punctuation\">(</span>NUMBER<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> string<span class=\"token operator\">=</span><span class=\"token string\">'42'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"parsing-(ast-generation)\" tabindex=\"-1\">Parsing (AST Generation)</h2>\n<p>Next, Python turns those tokens into an <strong>Abstract Syntax Tree (AST)</strong>. This is a tree structure representing the grammar of your code.</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> ast<br><br>tree <span class=\"token operator\">=</span> ast<span class=\"token punctuation\">.</span>parse<span class=\"token punctuation\">(</span><span class=\"token string\">\"x = 42\"</span><span class=\"token punctuation\">)</span><br><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>ast<span class=\"token punctuation\">.</span>dump<span class=\"token punctuation\">(</span>tree<span class=\"token punctuation\">,</span> indent<span class=\"token operator\">=</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<p><strong>Output:</strong></p>\n<pre class=\"language-python\"><code class=\"language-python\">Module<span class=\"token punctuation\">(</span><br>    body<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span><br>        Assign<span class=\"token punctuation\">(</span><br>            targets<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>Name<span class=\"token punctuation\">(</span><span class=\"token builtin\">id</span><span class=\"token operator\">=</span><span class=\"token string\">'x'</span><span class=\"token punctuation\">,</span> ctx<span class=\"token operator\">=</span>Store<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>            value<span class=\"token operator\">=</span>Constant<span class=\"token punctuation\">(</span>value<span class=\"token operator\">=</span><span class=\"token number\">42</span><span class=\"token punctuation\">)</span><br>        <span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">]</span><br><span class=\"token punctuation\">)</span></code></pre>\n<p>This tree shows an assignment of the constant <code>42</code> to variable <code>x</code>.</p>\n<p>Here‚Äôs a visual of another tree for a simple function of <code>x = y + 3</code>:</p>\n<p><img src=\"/images/posts/63b3d188-ae93-480a-ac9a-e7bb03259a4c.webp\" alt=\"\"></p>\n<h2 id=\"ast-to-bytecode-compilation\" tabindex=\"-1\">AST to Bytecode Compilation</h2>\n<p>Now, the AST is compiled into <strong>bytecode</strong>, the low-level instructions that Python‚Äôs virtual machine can understand.</p>\n<p>You can do this using <code>compile()</code>:</p>\n<pre class=\"language-python\"><code class=\"language-python\">code <span class=\"token operator\">=</span> <span class=\"token builtin\">compile</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"x = 42\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"&lt;string>\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"exec\"</span><span class=\"token punctuation\">)</span><br><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>code<span class=\"token punctuation\">.</span>co_code<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># raw bytecode</span></code></pre>\n<p>To disassemble it into human-readable instructions:</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> dis<br><br>dis<span class=\"token punctuation\">.</span>dis<span class=\"token punctuation\">(</span>code<span class=\"token punctuation\">)</span></code></pre>\n<p><strong>Output:</strong></p>\n<pre class=\"language-python\"><code class=\"language-python\">  <span class=\"token number\">1</span>           <span class=\"token number\">0</span> LOAD_CONST               <span class=\"token number\">0</span> <span class=\"token punctuation\">(</span><span class=\"token number\">42</span><span class=\"token punctuation\">)</span><br>              <span class=\"token number\">2</span> STORE_NAME               <span class=\"token number\">0</span> <span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><br>              <span class=\"token number\">4</span> LOAD_CONST               <span class=\"token number\">1</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">)</span><br>              <span class=\"token number\">6</span> RETURN_VALUE</code></pre>\n<p>Each instruction here corresponds to an operation in the <strong>Python Virtual Machine</strong>.</p>\n<p>Of course, do try these commands in your terminal. I‚Äôve made a small web tool for you to checkout AST and bytecode for any python program. <a href=\"https://anistark.github.io/python-bytecode-inspector/\">https://anistark.github.io/python-bytecode-inspector/</a></p>\n<h2 id=\"python-virtual-machine\" tabindex=\"-1\">Python Virtual Machine</h2>\n<p>Finally, the bytecode is interpreted by the <strong>PVM</strong>, a stack-based virtual machine that executes instructions like <code>LOAD_CONST</code>, <code>STORE_NAME</code>, etc.</p>\n<p>You can think of the interpreter as a loop that fetches, decodes, and executes each instruction in the bytecode. A simplified C-style pseudo code for it might look like:</p>\n<pre class=\"language-c\"><code class=\"language-c\"><span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    opcode <span class=\"token operator\">=</span> <span class=\"token operator\">*</span>ip<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// instruction pointer</span><br>    <span class=\"token keyword\">switch</span><span class=\"token punctuation\">(</span>opcode<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">case</span> LOAD_CONST<span class=\"token operator\">:</span><br>            <span class=\"token function\">push</span><span class=\"token punctuation\">(</span>consts<span class=\"token punctuation\">[</span>arg<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>            <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">case</span> STORE_NAME<span class=\"token operator\">:</span><br>            names<span class=\"token punctuation\">[</span>arg<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>            <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span><br>        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"compiling-and-running-custom-code\" tabindex=\"-1\">Compiling and Running Custom Code</h2>\n<p>Here‚Äôs how you can compile and execute custom Python code dynamically:</p>\n<pre class=\"language-python\"><code class=\"language-python\">code <span class=\"token operator\">=</span> <span class=\"token string\">\"for i in range(3): print(i)\"</span><br>compiled <span class=\"token operator\">=</span> <span class=\"token builtin\">compile</span><span class=\"token punctuation\">(</span>code<span class=\"token punctuation\">,</span> <span class=\"token string\">\"&lt;string>\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"exec\"</span><span class=\"token punctuation\">)</span><br><span class=\"token keyword\">exec</span><span class=\"token punctuation\">(</span>compiled<span class=\"token punctuation\">)</span></code></pre>\n<p><strong>Output:</strong></p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token number\">0</span><br><span class=\"token number\">1</span><br><span class=\"token number\">2</span></code></pre>\n<p>You can inspect and understand how Python internally handles this by analyzing the AST and bytecode.</p>\n<p><img src=\"https://mathspp.com/blog/building-a-python-compiler-and-interpreter/_structure.webp\" alt=\"\"></p>\n<p>The CPython compiler is elegant and modular, allowing dynamic features like <code>exec()</code> and <code>eval()</code> because Python code is always just one <code>compile()</code> away from being bytecode. Understanding this pipeline gives you deeper insight into debugging, performance optimization, and even writing your own language features.</p>\n",
      "date_published": "2025-04-28T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/wasm-landscape/",
      "url": "https://blog.anirudha.dev/wasm-landscape/",
      "title": "The WebAssembly Odyssey",
      "content_html": "<blockquote>\n<p><em>From browser booster to universal runtime, the journey of WebAssembly in 2025.</em></p>\n</blockquote>\n<h2 id=\"a-bytecode-born-for-browsers\" tabindex=\"-1\">A Bytecode Born for Browsers</h2>\n<p>In 2017, WebAssembly (WASM) arrived as a new low-level bytecode format. Safe, compact, and fast. It was meant to make games, 3D apps, and video editors perform better inside browsers.</p>\n<p>But developers had a bigger question:</p>\n<blockquote>\n<p>‚ÄúWhat if this thing could run <em>anywhere</em>?‚Äù</p>\n</blockquote>\n<h2 id=\"wasi---giving-wasm-a-real-world\" tabindex=\"-1\">WASI - Giving WASM a Real World</h2>\n<p><strong>WASI</strong> (WebAssembly System Interface) changed the game by giving WASM access to filesystems, networking, and other OS-level capabilities in a secure way.</p>\n<p>üß™ <em>WASI Hello World (Rust)</em></p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello from WASI!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>To compile for WASI:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">rustup target <span class=\"token function\">add</span> wasm32-wasi<br><span class=\"token function\">cargo</span> build <span class=\"token parameter variable\">--target</span> wasm32-wasi</code></pre>\n<p>You can now run this <code>.wasm</code> file in a WASI runtime like Wasmtime.</p>\n<h2 id=\"tooling-%26-runtimes-evolve\" tabindex=\"-1\">Tooling &amp; Runtimes Evolve</h2>\n<p>WASM‚Äôs power lies in its growing ecosystem.</p>\n<h3 id=\"%F0%9F%9B%A0%EF%B8%8F-popular-toolchains%3A\" tabindex=\"-1\">üõ†Ô∏è Popular Toolchains:</h3>\n<ul>\n<li>\n<p><strong>Rust</strong> with <code>wasm-bindgen</code> and <code>wasm-pack</code></p>\n</li>\n<li>\n<p><strong>C/C++</strong> with Emscripten</p>\n</li>\n<li>\n<p><strong>TinyGo</strong> for small footprint WASM builds</p>\n</li>\n<li>\n<p><strong>AssemblyScript</strong> for JS-style development</p>\n</li>\n</ul>\n<h3 id=\"%E2%9A%A1-key-runtimes%3A\" tabindex=\"-1\">‚ö° Key Runtimes:</h3>\n<ul>\n<li>\n<p><code>wasmtime</code> ‚Äì fast and WASI-compliant</p>\n</li>\n<li>\n<p><code>wasmer</code> ‚Äì embeddable with multi-language support</p>\n</li>\n<li>\n<p><code>wasmedge</code> ‚Äì optimized for edge workloads</p>\n</li>\n</ul>\n<p>üß™ <em>Hello from Wasmtime</em></p>\n<pre class=\"language-bash\"><code class=\"language-bash\">wasmtime hello.wasm</code></pre>\n<p>Output:</p>\n<pre class=\"language-python\"><code class=\"language-python\">Hello <span class=\"token keyword\">from</span> WASI!</code></pre>\n<h2 id=\"wasm-escapes-the-browser\" tabindex=\"-1\">WASM Escapes the Browser</h2>\n<p>WASM‚Äôs breakout moment didn‚Äôt come from the server ‚Äî it came from everywhere else.</p>\n<h3 id=\"browsers%3F-still-relevant.\" tabindex=\"-1\">Browsers? Still relevant.</h3>\n<ul>\n<li>\n<p>Pyodide runs Python notebooks entirely in-browser.</p>\n</li>\n<li>\n<p>AutoCAD, Figma, and even parts of Photoshop now use WASM for performance-critical code.</p>\n</li>\n<li>\n<p>Replit and StackBlitz built full IDEs that boot instantly in the browser.</p>\n</li>\n</ul>\n<h3 id=\"the-edge%3F-wasm%E2%80%99s-new-playground.\" tabindex=\"-1\">The Edge? WASM‚Äôs new playground.</h3>\n<ul>\n<li>\n<p>Fast cold starts.</p>\n</li>\n<li>\n<p>Small binaries.</p>\n</li>\n<li>\n<p>Secure sandboxing. Perfect for <strong>IoT nodes</strong>, <strong>AI inference</strong>, and <strong>low-latency data processing</strong>.</p>\n</li>\n</ul>\n<h3 id=\"smart-contracts%3F-wasm-native-chains-like-cosmos%2C-polkadot%2C-near%2C-solana-and-internet-computer-are-rewriting-the-rulebook.-no-more-custom-vms%2C-just-webassembly-all-the-way-down.\" tabindex=\"-1\">Smart Contracts? WASM-native chains like Cosmos, <strong>Polkadot</strong>, <strong>NEAR</strong>, Solana and <strong>Internet Computer</strong> are rewriting the rulebook. No more custom VMs, just WebAssembly all the way down.</h3>\n<p>üß™ <em>Using WASM in the Browser (JS + WASM Binary)</em></p>\n<pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\"><br>  WebAssembly<span class=\"token punctuation\">.</span><span class=\"token function\">instantiateStreaming</span><span class=\"token punctuation\">(</span><span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"simple.wasm\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">obj</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><br>      obj<span class=\"token punctuation\">.</span>instance<span class=\"token punctuation\">.</span>exports<span class=\"token punctuation\">.</span><span class=\"token function\">say_hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>With a Rust-compiled function like:</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token attribute attr-name\">#[no_mangle]</span><br><span class=\"token keyword\">pub</span> <span class=\"token keyword\">extern</span> <span class=\"token string\">\"C\"</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">say_hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token macro property\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello from the browser-side WASM!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"wasm-goes-everywhere\" tabindex=\"-1\">WASM Goes Everywhere</h2>\n<h3 id=\"%F0%9F%9A%80-serverless-%26-edge\" tabindex=\"-1\">üöÄ Serverless &amp; Edge</h3>\n<p>Platforms like <strong>Cloudflare Workers</strong>, <strong>Fermyon Spin</strong>, and <strong>Fastly Compute Edge</strong> run WASM-based microservices with blazing cold-starts and secure isolation.</p>\n<p>üß™ <em>Fermyon Spin App (TOML + Rust)</em></p>\n<pre class=\"language-toml\"><code class=\"language-toml\"><span class=\"token key property\">spin_manifest_version</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"1\"</span><br><span class=\"token punctuation\">[</span><span class=\"token table class-name\">application</span><span class=\"token punctuation\">]</span><br><span class=\"token key property\">name</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"hello-spin\"</span><br><span class=\"token key property\">version</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"0.1.0\"</span><br><br><span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token table class-name\">component</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><br><span class=\"token key property\">source</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"target/wasm32-wasi/release/hello_spin.wasm\"</span><br><span class=\"token key property\">route</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"/hello\"</span></code></pre>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">use</span> <span class=\"token namespace\">spin_sdk<span class=\"token punctuation\">::</span>http<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">{</span><span class=\"token class-name\">Request</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Response</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br><br><span class=\"token attribute attr-name\">#[http_component]</span><br><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">hello</span><span class=\"token punctuation\">(</span>_req<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Request</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">Response</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token class-name\">Response</span><span class=\"token punctuation\">::</span><span class=\"token function\">builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">body</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello from Spin!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"active-development-in-wasm\" tabindex=\"-1\">Active development in WASM</h2>\n<p>WASM hasn‚Äôt stopped evolving.</p>\n<ul>\n<li>\n<p>üß© <strong>Component Model</strong>: Mix and match WASM modules written in different languages.</p>\n</li>\n<li>\n<p>üß† <strong>WASM GC</strong>: Brings modern memory-managed languages like Swift and Kotlin into the WASM family.</p>\n</li>\n<li>\n<p>üì° <strong>WASI Sockets</strong>: Full networking support in progress.</p>\n</li>\n<li>\n<p>üîÅ <strong>Persistent Storage</strong>: SQLite in WASM with real file persistence.</p>\n</li>\n</ul>\n<p>üß™ <em>SQLite in WASM (using sql.js)</em></p>\n<pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token constant\">SQL</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">initSqlJs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token function-variable function\">locateFile</span><span class=\"token operator\">:</span> <span class=\"token parameter\">f</span> <span class=\"token operator\">=></span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">https://sql.js.org/dist/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>f<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">const</span> db <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SQL<span class=\"token punctuation\">.</span>Database</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>db<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"CREATE TABLE hello (message TEXT);\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>db<span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"INSERT INTO hello VALUES ('Hello from SQLite in WASM!');\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>db<span class=\"token punctuation\">.</span><span class=\"token function\">exec</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SELECT * FROM hello\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>WebAssembly is at the cusp of becoming the <strong>universal bytecode for the web and beyond</strong>. With a strong standard foundation, rising adoption in cloud and edge platforms, and growing support from language ecosystems, WASM is transforming from a niche browser tech into the <strong>next big compute platform</strong>.</p>\n<p>Whether you‚Äôre building browser tools, serverless apps, or decentralized networks, WASM is likely to be in your stack sooner than you think.</p>\n<p><img src=\"https://www.cncf.io/wp-content/uploads/2023/09/image-21-6.jpg\" alt=\"\"></p>\n<p><img src=\"https://cdn.ttgtmedia.com/rms/onlineimages/webassembly_landscape-f.png\" alt=\"\"></p>\n<h2 id=\"what%E2%80%99s-next%3F\" tabindex=\"-1\">What‚Äôs Next?</h2>\n<ul>\n<li>\n<p><strong>WAPM + jco</strong>: Standardized package management for WASM.</p>\n</li>\n<li>\n<p><strong>Electron Replacement</strong>: WASM + WASIX running full apps in-browser with no install.</p>\n</li>\n<li>\n<p><strong>More languages</strong>: Kotlin, Swift, Zig, Dart, even Java.</p>\n</li>\n<li>\n<p><strong>Native-feeling sandboxed desktops</strong>: Think <em>VS Code</em> running entirely in WASM, no local install.</p>\n</li>\n</ul>\n<blockquote>\n<p>It‚Äôs sandboxed, portable, fast and it‚Äôs <em>just getting started</em>.</p>\n</blockquote>\n",
      "date_published": "2025-04-23T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/compiling-python/",
      "url": "https://blog.anirudha.dev/compiling-python/",
      "title": "Compiling Python",
      "content_html": "<p><a href=\"https://www.python.org/\">Python</a> is one of the most widely used programming languages, but have you ever wondered how it works under the hood? CPython is the official implementation of Python written in C, and modifying it allows you to change Python‚Äôs behavior.</p>\n<p>CPython is the <strong>official and most widely used implementation of Python</strong>, written in <strong>C</strong>. When people talk about ‚ÄúPython,‚Äù they are usually referring to CPython. It is the reference implementation maintained by the Python Software Foundation (PSF) and serves as the <strong>gold standard</strong> for how Python should behave.</p>\n<p>The name <strong>CPython</strong> came about because it is implemented in the <strong>C programming language</strong>. It is different from other implementations of Python, such as:</p>\n<ul>\n<li>\n<p><strong>PyPy</strong> ‚Üí A Python implementation written in Python, optimized with Just-In-Time (JIT) compilation.</p>\n</li>\n<li>\n<p><strong>Jython</strong> ‚Üí A Python implementation for the Java Virtual Machine (JVM).</p>\n</li>\n<li>\n<p><strong>IronPython</strong> ‚Üí A Python implementation for the .NET framework.</p>\n</li>\n</ul>\n<p>CPython is the <strong>most widely used</strong> and the <strong>official</strong> Python interpreter.</p>\n<p>When you run a Python script using CPython, the execution happens in several steps:</p>\n<ol>\n<li>\n<p><strong>Parsing &amp; Compilation:</strong></p>\n<ul>\n<li>\n<p>CPython first <strong>parses</strong> the Python code into an Abstract Syntax Tree (AST).</p>\n</li>\n<li>\n<p>It then <strong>compiles</strong> the AST into <strong>bytecode</strong> (<code>.pyc</code> files in <code>__pycache__</code>).</p>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>Interpreting Bytecode:</strong></p>\n<ul>\n<li>\n<p>The <strong>CPython Virtual Machine (VM)</strong> executes the bytecode line by line.</p>\n</li>\n<li>\n<p>This is why Python is often called an <strong>interpreted language</strong>, even though it has a compilation step.</p>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>Memory Management &amp; C Extensions:</strong></p>\n<ul>\n<li>\n<p>CPython manages memory using <strong>reference counting</strong> and <strong>garbage collection</strong>.</p>\n</li>\n<li>\n<p>It supports C extensions, allowing Python to call C libraries (e.g., <code>numpy</code>, <code>pandas</code>).</p>\n</li>\n</ul>\n</li>\n</ol>\n<p>If you want to truly <strong>understand Python internals</strong>, modifying CPython is one of the best ways to do it! üöÄ</p>\n<h2 id=\"cloning-the-cpython-source-code\" tabindex=\"-1\"><strong>Cloning the CPython Source Code</strong></h2>\n<p>First, clone the official CPython repository:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone https://github.com/python/cpython.git<br><span class=\"token builtin class-name\">cd</span> cpython</code></pre>\n<p>You can check out a specific version of Python by using:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> checkout tags/v3.12.0 <span class=\"token parameter variable\">-b</span> my-python</code></pre>\n<p>This creates a new branch (<code>my-python</code>) based on Python 3.12.</p>\n<p>Stable versions of Python are maintained in <code>3.x</code> branches, where <code>x</code> represents the minor version. For example:</p>\n<ul>\n<li>\n<p><code>3.13</code> (Latest stable release branch)</p>\n</li>\n<li>\n<p><code>3.12</code> (Older stable release)</p>\n</li>\n<li>\n<p><code>3.11</code> (Older LTS release)</p>\n</li>\n</ul>\n<p>To check out a specific stable branch:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> checkout <span class=\"token number\">3.13</span></code></pre>\n<p><a href=\"https://devguide.python.org/versions/#versions\">Checkout all the versions and latest updates</a>. If you want to experiment with <strong>upcoming features</strong>, use <code>main</code>.</p>\n<h2 id=\"setting-up-dependencies\" tabindex=\"-1\"><strong>Setting Up Dependencies</strong></h2>\n<p>Before compiling, install the required dependencies:</p>\n<h3 id=\"on-ubuntu%2Fdebian\" tabindex=\"-1\"><strong>On Ubuntu/Debian</strong></h3>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> update<br><span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> <span class=\"token parameter variable\">-y</span> build-essential libffi-dev libssl-dev zlib1g-dev <span class=\"token punctuation\">\\</span><br>    libncurses5-dev libncursesw5-dev libreadline-dev libsqlite3-dev <span class=\"token punctuation\">\\</span><br>    libgdbm-dev libdb5.3-dev libbz2-dev libexpat1-dev liblzma-dev tk-dev</code></pre>\n<h3 id=\"on-macos\" tabindex=\"-1\"><strong>On macOS</strong></h3>\n<pre class=\"language-bash\"><code class=\"language-bash\">brew <span class=\"token function\">install</span> pkg-config openssl readline sqlite3 xz zlib tcl-tk autoconf automake libtool autoconf-archive</code></pre>\n<blockquote>\n<p>Not all these packages might be relevant for you. Or maybe your system needs more so.</p>\n<p>Make sure to have openssl 1.1.1 or above.</p>\n</blockquote>\n<p>For Windows, it‚Äôs recommended to use <strong>Windows Subsystem for Linux (WSL)</strong> or <strong>MSYS2</strong>.</p>\n<h2 id=\"compiling-cpython\" tabindex=\"-1\"><strong>Compiling CPython</strong></h2>\n<p>Now, configure the build:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">./configure <span class=\"token parameter variable\">--prefix</span><span class=\"token operator\">=</span><span class=\"token environment constant\">$HOME</span>/python-build</code></pre>\n<blockquote>\n<p>Most Linux/macOS distributions come with a pre-installed version of Python. Installing your custom build in <code>/usr/local</code> or <code>/usr/bin</code> could break system utilities that depend on the default Python version.</p>\n<p>By using <code>--prefix=$HOME/python-build</code>, you install Python in your home directory, ensuring that it doesn‚Äôt interfere with the system Python.</p>\n<p>Keeping your custom Python in <code>~/python-build</code> allows you to easily test your modifications without affecting anything else. If something goes wrong, you can just delete the directory:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">rm</span> <span class=\"token parameter variable\">-rf</span> ~/python-build</code></pre>\n<p>and start fresh.</p>\n</blockquote>\n<p>Then, compile CPython:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">make</span> -j<span class=\"token variable\"><span class=\"token variable\">$(</span>nproc<span class=\"token variable\">)</span></span></code></pre>\n<p>Finally, install it:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">make</span> <span class=\"token function\">install</span></code></pre>\n<p>This installs your custom Python build in <code>~/python-build/bin/python3</code>.</p>\n<p>Check the Python version:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">~/python-build/bin/python3 <span class=\"token parameter variable\">--version</span></code></pre>\n<h2 id=\"modifying-cpython%3A-a-simple-example\" tabindex=\"-1\"><strong>Modifying CPython: A Simple Example</strong></h2>\n<p>Let‚Äôs modify CPython to change the default Python prompt (<code>&gt;&gt;&gt;</code>).</p>\n<h3 id=\"step-1%3A-locate-the-prompt-code\" tabindex=\"-1\"><strong>Step 1: Locate the Prompt Code</strong></h3>\n<p>Open the <code>Python/prompt.c</code> file in the CPython source directory.</p>\n<p>Find this section (in <code>prompt.c</code>):</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">const char *Py_GetPrompt<span class=\"token punctuation\">(</span>void<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token builtin class-name\">return</span> <span class=\"token string\">\">>> \"</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>Change it to:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">const char *Py_GetPrompt<span class=\"token punctuation\">(</span>void<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token builtin class-name\">return</span> <span class=\"token string\">\"python-vibe> \"</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"step-2%3A-recompile-cpython\" tabindex=\"-1\"><strong>Step 2: Recompile CPython</strong></h3>\n<p>Rebuild the source:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">make</span> -j<span class=\"token variable\"><span class=\"token variable\">$(</span>nproc<span class=\"token variable\">)</span></span><br><span class=\"token function\">make</span> <span class=\"token function\">install</span></code></pre>\n<p>Now, when you run your custom Python:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">~/python-build/bin/python3</code></pre>\n<p>You‚Äôll see:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">python-vibe<span class=\"token operator\">></span></code></pre>\n<p>instead of:</p>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token operator\">>></span><span class=\"token operator\">></span></code></pre>\n<blockquote>\n<p>Imagination is your limit!</p>\n</blockquote>\n<p>If you make further changes, you can run Python‚Äôs built-in test suite:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">make</span> <span class=\"token builtin class-name\">test</span></code></pre>\n<p>For debugging, use <code>gdb</code>:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">gdb <span class=\"token parameter variable\">--args</span> ~/python-build/bin/python3</code></pre>\n<p>Or enable debug symbols:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">./configure --with-pydebug<br><span class=\"token function\">make</span> -j<span class=\"token variable\"><span class=\"token variable\">$(</span>nproc<span class=\"token variable\">)</span></span></code></pre>\n<p>It‚Äôs exciting, isn‚Äôt it? So, what all can we do with this? Maybe build a custom Python runtime? Optimize Python for a specific use case? Experiment with new language features before they‚Äôre even proposed?</p>\n<p>The source code is open, and the only limit is our imagination. What will you modify next? ü§îüî•</p>\n",
      "date_published": "2025-04-04T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/rwa/",
      "url": "https://blog.anirudha.dev/rwa/",
      "title": "Real World Assets",
      "content_html": "<p>‚ÄãReal-World Assets (RWAs) refer to tangible or intangible items from the traditional economy such as real estate, commodities, bonds, and intellectual property, that are represented digitally on blockchain platforms. Integrating RWAs into the Web3 ecosystem aims to democratize access to these assets, enhance liquidity, and introduce innovative financial products.‚Äã</p>\n<p>Digital assets and real-world assets (RWAs) are increasingly converging, unlocking new possibilities for ownership, liquidity, and financial inclusion. While digital assets traditionally include cryptocurrencies, stablecoins, and NFTs, RWAs bring physical and financial assets into the blockchain ecosystem through tokenization.</p>\n<p>Digital assets exist purely in electronic form and are stored on decentralized ledgers like:</p>\n<ul>\n<li>\n<p><strong>Cryptocurrencies</strong> (e.g., Bitcoin, Ethereum) as decentralized money.</p>\n</li>\n<li>\n<p><strong>Stablecoins</strong> (e.g., USDT, USDC) providing low-volatility digital cash.</p>\n</li>\n<li>\n<p><strong>NFTs</strong> (Non-Fungible Tokens) representing unique digital ownership, such as art, collectibles, and intellectual property.</p>\n</li>\n</ul>\n<p>RWAs expand the scope of digital assets by bringing real-world value on-chain which further enables:</p>\n<ul>\n<li>\n<p><strong>Fractional Ownership</strong>: Investors can own small shares of high-value assets like real estate, gold, and fine art.</p>\n</li>\n<li>\n<p><strong>Enhanced Liquidity</strong>: Traditionally illiquid assets, such as private equity and real estate, become tradeable on blockchain-based marketplaces.</p>\n</li>\n<li>\n<p><strong>Programmability</strong>: Smart contracts automate transactions, compliance, and profit distribution, reducing reliance on intermediaries.</p>\n</li>\n</ul>\n<p>Traditional finance (TradFi) and Web3 are merging through tokenization. <strong>Tokenized Real Estate</strong> allows investors to buy property shares without requiring full ownership. <strong>Tokenized Bonds and Equities</strong> introduce institutional-grade financial instruments to DeFi. <strong>Real-World Collateral in DeFi</strong> enables users to borrow against RWAs, such as tokenized invoices, supply chain assets, and luxury goods. By integrating RWAs into the digital asset space, Web3 is paving the way for a more inclusive, efficient, and transparent financial ecosystem.</p>\n<p><img src=\"/images/posts/81e75b3e-2008-4b16-ba40-22ddd5a036bc.png\" alt=\"\"></p>\n<p><strong>Types of RWAs in Web3</strong></p>\n<ol>\n<li>\n<p><strong>Tokenized Real Estate</strong>: Platforms like Lofty and RealT enable fractional ownership of properties, allowing investors to participate in the real estate market with reduced capital requirements.</p>\n</li>\n<li>\n<p><strong>Tokenized Bonds and Securities</strong>: Asset managers, including Janus Henderson, are exploring tokenization to enhance efficiency and reduce costs in bond and equity markets.</p>\n</li>\n<li>\n<p><strong>Tokenized Commodities</strong>: Projects are emerging that represent commodities like gold, diamond and oil as digital tokens, offering investors a more accessible and liquid means to trade these assets.</p>\n</li>\n<li>\n<p><strong>Tokenized Carbon Credits</strong>: By converting carbon credits into digital tokens, companies can engage in a more streamlined trading process, facilitating their sustainability initiatives.</p>\n</li>\n</ol>\n<p>The integration of RWAs into Web3 has led to the development of specific token standards to ensure compliance, interoperability, and functionality:</p>\n<ul>\n<li>\n<p><strong>ERC-1400</strong>: This standard focuses on security tokens, emphasizing regulatory compliance and flexibility in representing asset ownership on the blockchain.</p>\n</li>\n<li>\n<p><strong>ERC-3525</strong>: Designed for semi-fungible tokens, ERC-3525 allows each token to maintain its distinct identity while being fragmentable and tradable, offering a nuanced approach to asset representation.</p>\n</li>\n<li>\n<p><strong>ERC-3475</strong>: This standard facilitates the issuance and trading of decentralized bonds with multiple redemption data, simplifying the management of liquidity pools and reducing transaction costs.</p>\n</li>\n<li>\n<p><strong>ERC-6065</strong>: Still in review stage, this proposal introduces an open structure for physical real estate and property to exist on the blockchain. This standard builds off of ERC-721, adding important functionality necessary for representing real world assets such as real estate. The three objectives this standard aims to meet are: universal transferability of the NFT, private property rights attached to the NFT, and atomic transfer of property rights with the transfer of the NFT. The token contains a hash of the operating agreement detailing the NFT holder‚Äôs legal right to the property, unique identifiers for the property, a debt value and foreclosure status, and a manager address.</p>\n</li>\n<li>\n<p><strong>ERC-7765</strong>: This standard defines an interface to carry a real world asset with some privileges that can be exercised by the holder of the corresponding NFT.</p>\n</li>\n</ul>\n<p><img src=\"https://tokeny.com/wp-content/uploads/2023/10/beincrypto-image-4-1024x321.png\" alt=\"\"></p>\n<p>Since RWAs involve tangible assets and legal frameworks, security is critical to prevent fraud, hacking, and regulatory non-compliance.</p>\n<h3 id=\"smart-contract-security\" tabindex=\"-1\"><strong>Smart Contract Security</strong></h3>\n<ul>\n<li>\n<p><strong>Audited Code</strong>: RWAs often rely on complex smart contracts. Regular security audits (by firms like CertiK or Quantstamp) help prevent vulnerabilities.</p>\n</li>\n<li>\n<p><strong>Access Control</strong>: Role-based access ensures that only authorized parties can modify or transfer assets.</p>\n</li>\n<li>\n<p><strong>Multi-Sig Wallets</strong>: Using multi-signature wallets adds an extra layer of security for high-value asset management.</p>\n</li>\n</ul>\n<h3 id=\"regulatory-compliance-%26-identity-verification\" tabindex=\"-1\"><strong>Regulatory Compliance &amp; Identity Verification</strong></h3>\n<ul>\n<li>\n<p><strong>KYC/AML Protocols</strong>: Tokenized RWAs must comply with Know Your Customer (KYC) and Anti-Money Laundering (AML) regulations to prevent illicit transactions.</p>\n</li>\n<li>\n<p><strong>On-Chain Identity</strong>: Decentralized identity solutions, such as Soulbound Tokens (SBTs) or Verifiable Credentials (VCs), help validate asset ownership securely.</p>\n</li>\n</ul>\n<h3 id=\"data-privacy-%26-encryption\" tabindex=\"-1\"><strong>Data Privacy &amp; Encryption</strong></h3>\n<ul>\n<li>\n<p><strong>Zero-Knowledge Proofs (ZKPs)</strong>: RWAs can use ZKPs to verify transactions without exposing sensitive details.</p>\n</li>\n<li>\n<p><strong>Off-Chain Data Storage</strong>: Sensitive asset data can be stored off-chain while using blockchain for verification, reducing on-chain risks.</p>\n</li>\n</ul>\n<h3 id=\"insurance-%26-risk-mitigation\" tabindex=\"-1\"><strong>Insurance &amp; Risk Mitigation</strong></h3>\n<ul>\n<li>\n<p><strong>Decentralized Insurance</strong>: Platforms like Nexus Mutual or Chainproof offer insurance against smart contract failures.</p>\n</li>\n<li>\n<p><strong>Oracles &amp; Valuation Checks</strong>: Secure oracles (e.g., Chainlink) provide real-time price feeds and asset valuation to prevent price manipulation.</p>\n</li>\n</ul>\n<p><img src=\"/images/posts/2ca8f232-42c0-4e32-ad06-8c77dd4967fb.jpeg\" alt=\"\"></p>\n<p>The tokenization of real-world assets (RWAs) is transforming financial markets, but it also brings regulatory challenges. Governments and financial authorities worldwide are working to establish frameworks that ensure compliance, security, and consumer protection while fostering innovation.</p>\n<h3 id=\"securities-regulations\" tabindex=\"-1\"><strong>Securities Regulations</strong></h3>\n<p>Many tokenized RWAs, such as real estate, equities, and debt instruments, fall under <strong>securities laws</strong> in different jurisdictions. Regulations like:</p>\n<ul>\n<li>\n<p><strong>U.S. SEC (Securities and Exchange Commission)</strong>: Treats tokenized assets as securities if they meet the <strong>Howey Test</strong>, requiring them to follow registration and disclosure requirements.</p>\n</li>\n<li>\n<p><strong>EU Markets in Crypto-Assets (MiCA) Regulation</strong>: Provides a framework for tokenized securities and stablecoins, ensuring transparency and investor protection.</p>\n</li>\n<li>\n<p><strong>Singapore (MAS - Monetary Authority of Singapore)</strong>: Has a <strong>Sandbox Framework</strong> allowing regulated experimentation with asset tokenization.</p>\n</li>\n</ul>\n<h3 id=\"kyc%2Faml-%26-compliance-standards\" tabindex=\"-1\"><strong>KYC/AML &amp; Compliance Standards</strong></h3>\n<p>To prevent money laundering and fraud, most jurisdictions require <strong>Know Your Customer (KYC)</strong> and <strong>Anti-Money Laundering (AML)</strong> checks for RWA platforms.</p>\n<ul>\n<li>\n<p><strong>FATF (Financial Action Task Force) Guidelines</strong>: Recommend <strong>Travel Rule</strong> compliance, ensuring identity verification for transactions above a threshold.</p>\n</li>\n<li>\n<p><strong>Privacy vs. Compliance</strong>: Zero-Knowledge Proofs (ZKPs) and decentralized identity solutions help balance on-chain privacy with regulatory needs.</p>\n</li>\n</ul>\n<h3 id=\"taxation-%26-reporting\" tabindex=\"-1\"><strong>Taxation &amp; Reporting</strong></h3>\n<p>Tokenized RWAs create tax implications based on jurisdiction:</p>\n<ul>\n<li>\n<p><strong>Capital Gains Tax</strong>: Profits from selling tokenized assets may be subject to capital gains tax.</p>\n</li>\n<li>\n<p><strong>Asset Valuation &amp; Reporting</strong>: Regular valuation and reporting of tokenized assets to authorities are required for transparency.</p>\n</li>\n<li>\n<p><strong>Stablecoin &amp; Tokenized Cash Flow Taxation</strong>: Income from tokenized debt, real estate, or commodities might be taxed as traditional financial instruments.</p>\n</li>\n</ul>\n<h3 id=\"ownership-%26-legal-recognition\" tabindex=\"-1\"><strong>Ownership &amp; Legal Recognition</strong></h3>\n<p>Governments are working on defining <strong>legal ownership</strong> of RWAs on-chain.</p>\n<ul>\n<li>\n<p><strong>Smart Contracts &amp; Property Rights</strong>: Can on-chain ownership be legally recognized in courts?</p>\n</li>\n<li>\n<p><strong>Jurisdictional Conflicts</strong>: A tokenized asset might exist globally, but legal disputes arise under national laws.</p>\n</li>\n<li>\n<p><strong>Custody &amp; Recovery</strong>: Who is responsible if an RWA platform fails or assets are lost?</p>\n</li>\n</ul>\n<p>Watch out for <strong>Evolving Policies</strong>, <strong>Hybrid Compliance Models</strong> and <strong>CBDCs</strong> &amp; Tokenized Banking Assets in particular.</p>\n<p>The security of buying and trading <strong>real-world assets (RWAs)</strong> depends on factors like <strong>platform credibility, smart contract security, regulatory compliance, and asset verification</strong>. While tokenized assets offer transparency and efficiency, they also introduce risks that buyers and investors need to be aware of.</p>\n<ol>\n<li>\n<p><strong>Smart Contract Vulnerabilities</strong> ‚Äì Poorly written or unaudited smart contracts can be exploited, leading to asset loss.</p>\n</li>\n<li>\n<p><strong>Counterfeit or Fake Assets</strong> ‚Äì Fraudulent RWAs may be minted without proper legal backing, leading to fake ownership claims.</p>\n</li>\n<li>\n<p><strong>Regulatory Uncertainty</strong> ‚Äì Some jurisdictions do not yet recognize tokenized RWAs, leading to potential legal risks.</p>\n</li>\n<li>\n<p><strong>Liquidity Risks</strong> ‚Äì Unlike cryptocurrencies, RWAs may have lower liquidity, making it harder to sell them quickly.</p>\n</li>\n<li>\n<p><strong>Centralized Points of Failure</strong> ‚Äì If an RWA marketplace is centralized or lacks proper decentralization measures, assets could be frozen or mismanaged.</p>\n</li>\n</ol>\n<p><img src=\"/images/posts/091672db-03a2-41ce-9b4f-2963eb236784.png\" alt=\"\"></p>\n<p>Current RWA market is valued at <strong>about $50 Billion. $16 Trillion Market by 2030</strong> is what experts predict RWAs as a <strong>huge part of the financial system</strong> soon. Real estate, stocks, and commodities will likely move <strong>on-chain</strong> in the next decade. RWAs are set to change the game in finance, real estate, supply chains, and even digital ownership. As web3 tech gets better, RWAs will make buying, selling, and investing in real-world stuff easier, faster, and more accessible to everyone.</p>\n<p>üöÄ <strong>Big Banks &amp; Companies Are Jumping In</strong></p>\n<ul>\n<li>\n<p>Major players like <strong>BlackRock and JPMorgan</strong> are already testing tokenized assets.</p>\n</li>\n<li>\n<p>Soon, <strong>stocks, bonds, and even real estate</strong> could be traded on blockchain just like crypto.</p>\n</li>\n</ul>\n<p>üåç <strong>Buying &amp; Selling Globally, No Middlemen</strong></p>\n<ul>\n<li>\n<p>Imagine owning <strong>a piece of a building in New York</strong> while sitting in India, all through blockchain.</p>\n</li>\n<li>\n<p>No need for banks or brokers‚Äîjust <strong>fast, direct transactions</strong>.</p>\n</li>\n</ul>\n<p>üìä <strong>AI + Blockchain = Smarter Investments</strong></p>\n<ul>\n<li>\n<p>AI-powered smart contracts will handle <strong>loans, risk assessments, and payments</strong> automatically.</p>\n</li>\n<li>\n<p>People with <strong>no credit history</strong> might finally get <strong>fair financial access</strong> through blockchain.</p>\n</li>\n</ul>\n<p>üîó <strong>RWAs Across Different Blockchains &amp; TradFi</strong></p>\n<ul>\n<li>\n<p>RWAs will work across multiple blockchains like <strong>Ethereum and Solana</strong>.</p>\n</li>\n<li>\n<p>You could use <strong>tokenized gold or real estate as collateral</strong> in both traditional finance and DeFi.</p>\n</li>\n</ul>\n<p>Businesses can tokenize <strong>future earnings, property, or contracts</strong> and sell shares to investors. Own <strong>a virtual house</strong> that‚Äôs linked to a <strong>real apartment</strong>.</p>\n<p>RWAs are more than just a trend. They‚Äôre the <strong>future of finance and ownership.</strong></p>\n",
      "date_published": "2025-03-25T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/feluda/",
      "url": "https://blog.anirudha.dev/feluda/",
      "title": "Feluda",
      "content_html": "<p>Imagine you‚Äôre deep into building something exciting. A groundbreaking app, a sleek dev tool, or even just a weekend side project that scratches a creative itch. You‚Äôre focused, in the zone, writing code and adding dependencies to move faster. After all, why reinvent the wheel when you can leverage existing libraries?</p>\n<p>But, here‚Äôs where things get tricky. Every package you install comes with a license, and those licenses aren‚Äôt always as straightforward as you‚Äôd hope. Some are as chill as a summer breeze, letting you do whatever you want. Others, however, sneak in clauses like:</p>\n<ul>\n<li>\n<p><strong>‚ÄúNo commercial use!‚Äù</strong> ‚Äì meaning you can‚Äôt monetize your project without legal consequences.</p>\n</li>\n<li>\n<p><strong>‚ÄúYour whole project must be open-source!‚Äù</strong> ‚Äì suddenly, your proprietary work isn‚Äôt so proprietary anymore.</p>\n</li>\n<li>\n<p><strong>‚ÄúYou need to give attribution in a specific way!‚Äù</strong> ‚Äì and failing to do so could cause legal trouble down the line.</p>\n</li>\n</ul>\n<p>Most of us don‚Äôt read licenses in detail. Who has the time? But ignoring them can lead to a nasty surprise, like a cease-and-desist letter, a forced code rewrite, or even legal trouble.</p>\n<p>That‚Äôs why we created <a href=\"https://github.com/anistark/feluda\"><strong>Feluda</strong></a>, your personal detective for project dependencies.</p>\n<p><img src=\"/images/posts/f0c146aa-e85f-4486-a596-23c6a5003646.png\" alt=\"\"></p>\n<p>Feluda is a command-line tool that scans your project‚Äôs dependencies, analyzes their licenses, and flags any restrictive or risky ones before they become a problem. Instead of spending hours manually digging through legal jargon, Feluda does the detective work for you.</p>\n<p>Here‚Äôs how it helps:</p>\n<p>‚úÖ <strong>Instant License Check</strong> ‚Äì Get a clear breakdown of what each dependency allows and restricts.<br>\n‚úÖ <strong>Early Warnings</strong> ‚Äì Catch licensing issues <em>before</em> they turn into serious problems.<br>\n‚úÖ <strong>Automated Reports</strong> ‚Äì Get an easy-to-read summary without manually searching license terms.<br>\n‚úÖ <strong>Dependency Transparency</strong> ‚Äì Understand what you‚Äôre using and where it‚Äôs coming from.</p>\n<p>All of this happens with a simple CLI command. Run Feluda, and it will analyze your <code>cargo.toml</code>, <code>package.json</code>, <code>go.mod</code>, or other dependency files. Within seconds, you get a comprehensive report on whether your dependencies are safe to use commercially or if you need to make adjustments. In the lastest release, Feluda even supports python, weather its via <code>pyproject.toml</code> or <code>requirements.txt</code>.</p>\n<p>In modern development, package managers make it easier than ever to install third-party libraries. But with great convenience comes great complexity. A single package might depend on ten others, which in turn depend on fifty more. Before you realize it, your project has <strong>hundreds of hidden dependencies</strong>, each with its own license terms. A small oversight could mean that your app is suddenly violating multiple agreements. Large companies have legal teams to handle this, but indie developers, startups, and open-source maintainers often don‚Äôt have that luxury. That‚Äôs where Feluda steps in, making sure that whether you‚Äôre an individual dev or part of a team, you stay informed and legally safe.</p>\n<h2 id=\"features\" tabindex=\"-1\">Features</h2>\n<p>Feluda is designed to make license compliance easy and transparent for developers. We‚Äôre constantly evolving and taking in requests to go to the next level, making it easier and smoother and more accurate to provide licensing guidelines for your convenience.</p>\n<h3 id=\"%F0%9F%94%8E-multi-language-support\" tabindex=\"-1\">üîé <strong>Multi-Language Support</strong></h3>\n<p>Feluda can analyze dependencies across multiple programming languages, including:</p>\n<ul>\n<li>\n<p><strong>Rust</strong> (<code>Cargo.toml</code>)</p>\n</li>\n<li>\n<p><strong>Node.js</strong> (<code>package.json</code>)</p>\n</li>\n<li>\n<p><strong>Go</strong> (<code>go.mod</code>)</p>\n</li>\n<li>\n<p><strong>Python</strong> (<code>requirements.txt</code>, <code>pyproject.toml</code>)</p>\n</li>\n</ul>\n<p>You can also filter the analysis to a specific language using the <code>--language</code> flag.</p>\n<pre class=\"language-sh\"><code class=\"language-sh\">feluda <span class=\"token parameter variable\">--language</span> rust</code></pre>\n<h3 id=\"%F0%9F%9A%A6-license-classification-%26-restriction-flagging\" tabindex=\"-1\">üö¶ <strong>License Classification &amp; Restriction Flagging</strong></h3>\n<p>Feluda automatically identifies and classifies licenses into:</p>\n<ul>\n<li>\n<p><strong>Permissive</strong> ‚Äì Free to use with minimal restrictions (e.g., MIT, Apache-2.0, BSD).</p>\n</li>\n<li>\n<p><strong>Restrictive</strong> ‚Äì Might impose conditions like open-sourcing your code (e.g., GPL-3.0, AGPL-3.0).</p>\n</li>\n<li>\n<p><strong>Unknown</strong> ‚Äì Not recognized or missing a standard license identifier.</p>\n</li>\n</ul>\n<p>It flags dependencies that <strong>might restrict personal or commercial use</strong>, so you can address them early. Some of it is still open as an issue, and we‚Äôre working on it. Hopefully, by the time you‚Äôre reading this article, we might have tackled them already! :)</p>\n<h3 id=\"%F0%9F%93%8A-multiple-output-formats\" tabindex=\"-1\">üìä <strong>Multiple Output Formats</strong></h3>\n<p>Feluda provides output in different formats to suit various needs:</p>\n<ul>\n<li>\n<p><strong>Plain text</strong> (default) ‚Äì Readable report summary in the terminal.</p>\n</li>\n<li>\n<p><strong>JSON</strong> (<code>--json</code>) ‚Äì For programmatic use or automation.</p>\n</li>\n<li>\n<p><strong>TUI (Graphical Mode)</strong> (<code>--gui</code>) ‚Äì Browse dependencies in a visual, interactive interface.</p>\n</li>\n<li>\n<p><strong>Strict Mode</strong> (<code>--strict</code>) ‚Äì Outputs only dependencies with restrictive licenses.</p>\n</li>\n<li>\n<p><strong>Gist Format</strong> ‚Äì Available in strict mode to output a single-line summary.</p>\n</li>\n</ul>\n<h3 id=\"%F0%9F%93%8D-customizable-license-policies\" tabindex=\"-1\">üìç <strong>Customizable License Policies</strong></h3>\n<p>Define your own restrictive licenses through:</p>\n<ul>\n<li>\n<p><code>.feluda.toml</code> configuration file</p>\n</li>\n<li>\n<p>Environment variables <code>export FELUDA_LICENSES_RESTRICTIVE='[&quot;GPL-3.0&quot;,&quot;AGPL-3.0&quot;,&quot;Custom-1.0&quot;]'</code></p>\n</li>\n<li>\n<p>Default restrictive licenses list</p>\n</li>\n</ul>\n<p>This ensures flexibility, allowing you to tailor Feluda to your project‚Äôs compliance needs.</p>\n<h3 id=\"%F0%9F%9A%80-fast-%26-lightweight\" tabindex=\"-1\">üöÄ <strong>Fast &amp; Lightweight</strong></h3>\n<p>Feluda is built in Rust, ensuring a <strong>blazing-fast</strong> execution with minimal resource usage. It can scan and classify hundreds of dependencies in seconds. We are working on improving performance to make everything run more smoothly and quickly while using fewer resources.</p>\n<h3 id=\"%F0%9F%94%84-ci%2Fcd-integration-(planned)\" tabindex=\"-1\">üîÑ <strong>CI/CD Integration</strong> (Planned)</h3>\n<p>Future versions will support integration into CI/CD pipelines, helping teams automate license checks before deployment.</p>\n<p>With these features, Feluda simplifies dependency management and lets you build with confidence. üöÄ As an open-source tool, Feluda is a community-driven project. We welcome contributions, feedback, and ideas to make it even better.</p>\n<p>If you‚Äôre a developer, and interested in contributing, checkout the repository, open issues and discussions. We‚Äôd be more than happy to work together in building a better tool for licensing while keeping it performant compliant. Currently, Farhaan and myself are the only maintainers, but seeing the rise in contribution from the open source community, I can only hope for more amazing folks to get involved. üôå</p>\n<p><a href=\"https://github.com/anistark/feluda\">View Feluda on GitHub</a></p>\n<p>Latest version at the time of writing this article is <a href=\"https://crates.io/crates/feluda\">v1.5.0</a>. ü•Ç</p>\n<p>At the end of the day, Feluda isn‚Äôt just about compliance, it‚Äôs about peace of mind. When you use Feluda, you can focus on what really matters: <strong>building something awesome</strong> without worrying about hidden legal traps.</p>\n<p><em>So go ahead, write code, ship products, and let Feluda handle the detective work.</em></p>\n",
      "date_published": "2025-02-26T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/decentralised-profile-standard/",
      "url": "https://blog.anirudha.dev/decentralised-profile-standard/",
      "title": "The Future of Digital Profiles and Avatars",
      "content_html": "<p>The way we represent ourselves online is undergoing a fundamental transformation. Traditional user profiles, tied to centralised platforms, restrict true ownership, portability, and privacy. But what if identities could be <strong>self-sovereign, interoperable, and decentralised</strong>, seamlessly working across all apps, chains, and ecosystems?</p>\n<p>We have to maintain <strong>separate profiles</strong> for each platform we use. Social media, professional networks, gaming accounts, and various decentralised applications (dApps). This means a person might have an X handle, a LinkedIn profile, a gaming avatar, and a separate Web3 identity, each with different usernames, profile pictures, and reputations. And rightly so. Your gamer friends would make fun of your linkedin avatar and nobody would take you seriously if you put your gaming avatar on linkedin. Prejudice is common and we‚Äôre not here to argue that. The problem we‚Äôre discussing is both deeply personal and about presentability without sacrificing originality.</p>\n<p>There is <strong>no single source of truth</strong> for your identity today. Someone might recognise you on X or instagram but have no idea it‚Äôs the same person on Discord or LinkedIn. You have to <strong>manually update</strong> every profile when you change details like bio, profile picture, or contact info. No wonder a lot of us only update our profile pictures once in 5 years, more or less at a time, when the image itself stops looking like us. Moreover, <strong>reputation and social ranking are siloed</strong>. A person‚Äôs credibility on one platform does not carry over to another. A <strong>decentralised identity system</strong> would eliminate these silos, providing a <strong>unified, portable profile</strong> that users can take across the internet, whether in Web2 or Web3. With centralised identity systems, it‚Äôs also easy to create <strong>fake accounts, impersonate others, and conduct fraudulent activities</strong>. There is no universal way to verify someone‚Äôs authenticity across platforms. A <strong>decentralised, verifiable identity system</strong> using <strong>Soulbound Tokens (SBTs) and on-chain attestations</strong> would help ensure <strong>authenticity</strong>, making it easy to verify real users while maintaining <strong>privacy and anonymity where needed</strong>. <a href=\"https://blog.anirudha.dev/did\">Read about Decentralised Identities in this article if you‚Äôve not yet.</a></p>\n<p>The centralised identity systems of today are broken, fragmented, insecure, and controlled by corporations with misaligned incentives. What you need is more than a linktree. A decentralised, blockchain-based identity would give users true ownership, privacy, and control, allowing them to manage their digital presence across the internet without relying on third parties. With self-sovereign profiles and interoperable avatars, users can seamlessly interact across dApps, metaverses, and Web2 platforms while ensuring security, censorship resistance, and portability. The future of digital identity is decentralised, user-owned, and truly interoperable, putting individuals back in control of their online presence. So, a general flow towards decentralised identity would look something like this:</p>\n<p><img src=\"https://img.etimg.com/photo/msid-103886888,imgsize-100901/Moody's.jpg\" alt=\"\"></p>\n<p>But we‚Äôre here to propose a new form of profile management.</p>\n<p>Imagine a <strong>single profile</strong> that works across all dApps, protocols, and metaverses. An identity truly owned by the user, secured on-chain, and <strong>resistant to censorship</strong>. This decentralised identity framework introduces:</p>\n<p>‚úÖ <strong>Unique, Portable Profiles</strong> ‚Äì A universal identifier like <code>username@network.soul</code> that functions across any application.<br>\n‚úÖ <strong>On-Chain Digital Identity (DID)</strong> ‚Äì A standardised format (<code>did:chain:address</code>) ensuring cryptographic ownership.<br>\n‚úÖ <strong>Decentralised Storage</strong> ‚Äì Metadata and avatars stored securely on IPFS/Filecoin rather than centralised servers.<br>\n‚úÖ <strong>Privacy Controls</strong> ‚Äì Users decide which parts of their profile are public or private, including app-specific avatars.</p>\n<p>In Web2, <strong>Gravatar</strong> provided a simple yet powerful solution for managing profile pictures across multiple websites. It allowed users to upload an avatar once and have it automatically appear on any site that integrated Gravatar, such as WordPress, GitHub, and Stack Overflow.</p>\n<h3 id=\"how-gravatar-works-in-web2\" tabindex=\"-1\"><strong>How Gravatar Works in Web2</strong></h3>\n<ol>\n<li>\n<p><strong>User creates an account on</strong> <a href=\"http://Gravatar.com\"><strong>Gravatar.com</strong></a></p>\n</li>\n<li>\n<p><strong>Uploads an avatar and links it to their email</strong></p>\n</li>\n<li>\n<p><strong>When logging into a supported website, the site queries Gravatar with the user‚Äôs email</strong></p>\n</li>\n<li>\n<p><strong>If an avatar is found, it‚Äôs displayed automatically. If not, a default avatar is shown</strong></p>\n</li>\n</ol>\n<p>This model enabled <strong>seamless profile picture portability</strong> across multiple platforms <strong>without requiring repeated uploads</strong>. However, Gravatar still has <strong>centralised limitations</strong>, such as:</p>\n<ul>\n<li>\n<p><strong>Controlled by a single entity (Automattic, the company behind WordPress)</strong></p>\n</li>\n<li>\n<p><strong>Subject to data privacy concerns and potential censorship</strong></p>\n</li>\n<li>\n<p><strong>Limited to Web2 applications, making it unusable in decentralised environments</strong></p>\n</li>\n</ul>\n<p><img src=\"https://blog.gravatar.com/wp-content/uploads/2024/12/image-4.png\" alt=\"\"></p>\n<p>So, imagine a <strong>decentralised profile system, that</strong> allows users to maintain a <strong>single identity</strong> that works <strong>across all platforms, chains, and applications</strong>, ensuring <strong>ownership, security, and interoperability</strong>. Instead of being tied to a single company, these profiles live on the blockchain, controlled by the user‚Äôs private key.</p>\n<p>The proposed <strong>ERC-7866: Decentralised Profile Standard</strong> (<a href=\"https://ethereum-magicians.org/t/erc-7866-decentralised-profile-standard/22610\">Ethereum Magicians Discussion</a>) aims to create an <strong>interoperable identity layer</strong> that enables:</p>\n<ul>\n<li>\n<p><strong>A unique identifier as Decentralised Profile</strong> tied to a user‚Äôs <strong>wallet address</strong> and formatted as <code>username@networkslug.soul</code>.</p>\n</li>\n<li>\n<p><strong>Metadata storage</strong> on <strong>IPFS, Arweave, or other decentralised storage solutions</strong>.</p>\n</li>\n<li>\n<p><strong>Custom avatars per dApp</strong>, allowing users to set specific profile pictures for different applications while maintaining a <strong>default avatar</strong>.</p>\n</li>\n<li>\n<p><strong>Access control</strong>, letting users <strong>choose what information is public or private</strong>.</p>\n</li>\n<li>\n<p><strong>Cross-chain interoperability</strong> using <strong>Axelar, LayerZero, or similar messaging protocols</strong>.</p>\n</li>\n</ul>\n<h3 id=\"technical-implementation-of-a-decentralised-profile\" tabindex=\"-1\"><strong>Technical Implementation of a Decentralised Profile</strong></h3>\n<h4 id=\"1.-unique-identifier%3A-decentralised-profile\" tabindex=\"-1\"><strong>1. Unique Identifier: Decentralised Profile</strong></h4>\n<p>Each user is assigned a <strong>decentralised identifier (DID)</strong> in the format:</p>\n<pre class=\"language-plaintext\"><code class=\"language-plaintext\">did:chain:address</code></pre>\n<p>For example:</p>\n<ul>\n<li>\n<p><code>did:ethereum:0x1731B43cc0B6F14777FBE14bfd44847C3a0e47dE</code></p>\n</li>\n<li>\n<p><code>did:xion:xion1gxasu43e4wt89gjpfp4vhm977yf356x786w9c7</code></p>\n</li>\n</ul>\n<p>This DID is mapped to a <strong>human-readable username</strong> in the form of a <strong>Decentralised Profile (CSP)</strong>:</p>\n<pre class=\"language-plaintext\"><code class=\"language-plaintext\">username@networkslug.soul</code></pre>\n<p>Example:</p>\n<ul>\n<li>\n<p><code>alice@eth.soul</code> (for Ethereum)</p>\n</li>\n<li>\n<p><code>bob@bnb.soul</code> (for Binance Smart Chain)</p>\n</li>\n</ul>\n<p>The <strong>CSP acts as the user‚Äôs universal profile handle</strong>, allowing seamless recognition across multiple platforms.</p>\n<h4 id=\"profile-metadata-storage\" tabindex=\"-1\"><strong>Profile Metadata Storage</strong></h4>\n<p>A user‚Äôs profile information (bio, links, avatars, etc.) is stored <strong>off-chain</strong> on <strong>IPFS, Arweave, or decentralised storage networks</strong> to ensure scalability and cost-efficiency.</p>\n<p>Each profile contains a structured metadata schema, defining:</p>\n<pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span><br>  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Alice\"</span><span class=\"token punctuation\">,</span><br>  <span class=\"token property\">\"bio\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Web3 builder &amp; NFT enthusiast\"</span><span class=\"token punctuation\">,</span><br>  <span class=\"token property\">\"avatar\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ipfs://Qm123...\"</span><span class=\"token punctuation\">,</span><br>  <span class=\"token property\">\"dapp_avatars\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token property\">\"0xDapp1...\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ipfs://QmAvatar1...\"</span><span class=\"token punctuation\">,</span><br>    <span class=\"token property\">\"0xDapp2...\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ipfs://QmAvatar2...\"</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  <span class=\"token property\">\"socials\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token property\">\"twitter\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"@alice_eth\"</span><span class=\"token punctuation\">,</span><br>    <span class=\"token property\">\"github\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"alice-dev\"</span><br>  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><br>  <span class=\"token property\">\"visibility\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token property\">\"avatar\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"public\"</span><span class=\"token punctuation\">,</span><br>    <span class=\"token property\">\"profile\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"private\"</span><br>  <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>This enables <strong>custom avatars per dApp</strong> and <strong>user-controlled privacy settings</strong>.</p>\n<h3 id=\"bringing-gravatar%E2%80%99s-convenience-to-web3-with-cybersoul-profiles\" tabindex=\"-1\"><strong>Bringing Gravatar‚Äôs Convenience to Web3 with CyberSoul Profiles</strong></h3>\n<p>The <strong>ERC-7866 Decentralised Profile Standard</strong> takes the <strong>best aspects of Gravatar</strong> while <strong>eliminating its centralisation flaws</strong>. Instead of relying on an <strong>email-linked database</strong> controlled by a company, CyberSoul Profiles are:</p>\n<p>‚úÖ <strong>Tied to a decentralised identifier (DID), not an email</strong><br>\n‚úÖ <strong>Stored on IPFS/Arweave instead of a centralised server</strong><br>\n‚úÖ <strong>Interoperable across all dApps, metaverses, and chains</strong></p>\n<h3 id=\"how-it-works-in-web3\" tabindex=\"-1\"><strong>How It Works in Web3</strong></h3>\n<ol>\n<li>\n<p><strong>User registers their decentralised profile (CSP) and sets a default avatar</strong></p>\n</li>\n<li>\n<p><strong>They can assign different avatars for specific dApps or keep one universal avatar</strong></p>\n</li>\n<li>\n<p><strong>Any dApp can query the CyberSoulProfile contract to fetch the avatar using CSP</strong></p>\n</li>\n<li>\n<p><strong>If a custom avatar for that dApp exists, it‚Äôs displayed, otherwise, the default avatar is used</strong></p>\n</li>\n</ol>\n<p>This ensures that, just like Gravatar in Web2, users only <strong>set up their avatar once</strong> and it <strong>works everywhere</strong>, but in a <strong>fully decentralised, censorship-resistant, and cross-chain manner</strong>. üöÄ</p>\n<p>A <strong>decentralised profile system</strong> isn‚Äôt just about convenience. It‚Äôs about <strong>user autonomy, security, and ownership</strong> in an increasingly digital world. By moving away from <strong>platform-dependent identities</strong> to a self-sovereign system, users gain <strong>true control over their digital selves</strong>, one profile, usable everywhere.</p>\n<p><img src=\"https://cybersoul.netlify.app/images/landing/avatars.png\" alt=\"\"></p>\n<p>With the right architecture, <strong>Web3 can finally have a standard, chain-agnostic identity layer</strong>, paving the way for an open, decentralised, and user-first internet. üåê Come support this new standard and let‚Äôs step forward into decentralised profiles. üôå</p>\n",
      "date_published": "2025-02-18T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/building-a-cross-chain-bridge-to-cosmos/",
      "url": "https://blog.anirudha.dev/building-a-cross-chain-bridge-to-cosmos/",
      "title": "Building a Cross-Chain Bridge to Cosmos",
      "content_html": "<p>In <a href=\"https://blog.anirudha.dev/building-a-cross-chain-bridge\"><strong>Part 1</strong></a>, we built a <strong>LayerZero-powered bridge</strong> for moving NFTs between <strong>two EVM chains</strong>. But what if we want to <strong>bridge an NFT from Ethereum to Cosmos</strong> (e.g., <a href=\"https://osmosis.zone/\">Osmosis</a>, <a href=\"https://junonetwork.io/\">Juno</a>, or <a href=\"https://www.stargaze.zone/\">Stargaze</a>)?</p>\n<p>For this, let‚Äôs go with the setup:</p>\n<ul>\n<li>\n<p><strong>LayerZero on the EVM side</strong> (Ethereum, Base, Polygon, etc.)</p>\n</li>\n<li>\n<p><strong>IBC (Inter-Blockchain Communication)</strong> on the Cosmos side</p>\n</li>\n</ul>\n<h3 id=\"so%2C-what-are-we-doing%3F\" tabindex=\"-1\"><strong>So, what are we doing?</strong></h3>\n<ol>\n<li>\n<p><strong>EVM Side (Solidity)</strong></p>\n<ul>\n<li>\n<p>Locks the NFT in a Solidity contract</p>\n</li>\n<li>\n<p>Sends a message to the Cosmos chain using LayerZero</p>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>Cosmos Side (Rust-CosmWasm)</strong></p>\n<ul>\n<li>\n<p>Receives the message via an IBC contract</p>\n</li>\n<li>\n<p>Mints a wrapped NFT on the Cosmos chain</p>\n</li>\n</ul>\n</li>\n</ol>\n<p>Similarly, when transferring back:</p>\n<ol>\n<li>\n<p><strong>Burn wrapped NFT on Cosmos</strong></p>\n</li>\n<li>\n<p><strong>Send an IBC message to Ethereum</strong></p>\n</li>\n<li>\n<p><strong>Unlock the original NFT on Ethereum</strong></p>\n</li>\n</ol>\n<p>We‚Äôll extend our previous <code>BridgeA.sol</code> to support <strong>sending messages to Cosmos</strong> via <strong>LayerZero</strong>.</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token comment\">// SPDX-License-Identifier: MIT</span><br><span class=\"token keyword\">pragma</span> <span class=\"token keyword\">solidity</span> <span class=\"token operator\">^</span><span class=\"token version number\">0.8.19</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">import</span> <span class=\"token string\">\"@openzeppelin/contracts/token/ERC721/ERC721.sol\"</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">import</span> <span class=\"token string\">\"@layerzerolabs/solidity-examples/contracts/lzApp/NonblockingLzApp.sol\"</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">contract</span> <span class=\"token class-name\">EVMCosmosBridge</span> <span class=\"token keyword\">is</span> NonblockingLzApp <span class=\"token punctuation\">{</span><br>    ERC721 <span class=\"token keyword\">public</span> nft<span class=\"token punctuation\">;</span><br>    <span class=\"token builtin\">address</span> <span class=\"token keyword\">public</span> admin<span class=\"token punctuation\">;</span><br><br>    <span class=\"token keyword\">event</span> <span class=\"token function\">NFTLocked</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token keyword\">indexed</span> user<span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint256</span> tokenId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> _nft<span class=\"token punctuation\">,</span> <span class=\"token builtin\">address</span> _lzEndpoint<span class=\"token punctuation\">)</span> <span class=\"token function\">NonblockingLzApp</span><span class=\"token punctuation\">(</span>_lzEndpoint<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        admin <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">;</span><br>        nft <span class=\"token operator\">=</span> <span class=\"token function\">ERC721</span><span class=\"token punctuation\">(</span>_nft<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">function</span> <span class=\"token function\">lockNFT</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint256</span> tokenId<span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint16</span> destChainId<span class=\"token punctuation\">,</span> <span class=\"token builtin\">bytes</span> <span class=\"token keyword\">memory</span> receiver<span class=\"token punctuation\">)</span> <span class=\"token keyword\">external</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>nft<span class=\"token punctuation\">.</span><span class=\"token function\">ownerOf</span><span class=\"token punctuation\">(</span>tokenId<span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Not NFT owner\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>        <span class=\"token comment\">// Transfer NFT to the contract</span><br>        nft<span class=\"token punctuation\">.</span><span class=\"token function\">transferFrom</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">,</span> <span class=\"token builtin\">address</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> tokenId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>        <span class=\"token comment\">// Encode user + token ID to send to Cosmos</span><br>        <span class=\"token builtin\">bytes</span> <span class=\"token keyword\">memory</span> payload <span class=\"token operator\">=</span> abi<span class=\"token punctuation\">.</span><span class=\"token function\">encode</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">,</span> tokenId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>        <span class=\"token comment\">// Send message to Cosmos via LayerZero</span><br>        <span class=\"token function\">_lzSend</span><span class=\"token punctuation\">(</span>destChainId<span class=\"token punctuation\">,</span> payload<span class=\"token punctuation\">,</span> <span class=\"token keyword\">payable</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">address</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">bytes</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>        <span class=\"token keyword\">emit</span> <span class=\"token function\">NFTLocked</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">,</span> tokenId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">function</span> <span class=\"token function\">_nonblockingLzReceive</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint16</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">bytes</span> <span class=\"token keyword\">memory</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint64</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">bytes</span> <span class=\"token keyword\">memory</span> payload<span class=\"token punctuation\">)</span> <span class=\"token keyword\">internal</span> override <span class=\"token punctuation\">{</span><br>        <span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> user<span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint256</span> tokenId<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> abi<span class=\"token punctuation\">.</span><span class=\"token function\">decode</span><span class=\"token punctuation\">(</span>payload<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint256</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>        <span class=\"token comment\">// Unlock NFT on EVM when receiving from Cosmos</span><br>        nft<span class=\"token punctuation\">.</span><span class=\"token function\">transferFrom</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> user<span class=\"token punctuation\">,</span> tokenId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>So, what‚Äôs happening here?</p>\n<ol>\n<li>\n<p>The user initiates the process by calling the <code>lockNFT(tokenId, destChainId, receiver)</code> function. This function requires the user to specify the token ID of the NFT they want to lock, the destination chain ID where the NFT will be sent, and the receiver‚Äôs address on the destination chain.</p>\n</li>\n<li>\n<p>Once the function is called, the specified NFT is <strong>transferred to the smart contract</strong> and effectively <strong>locked</strong> within it. This means the user no longer has direct control over the NFT, as it is held securely by the contract.</p>\n</li>\n<li>\n<p>After locking the NFT, a <strong>LayerZero message</strong> is created and sent to the Cosmos contract. This message contains encoded information about the user and the token ID, allowing the Cosmos network to understand which NFT is being transferred and who it belongs to.</p>\n</li>\n<li>\n<p>Upon receiving the message, the Cosmos contract processes it and <strong>mints a wrapped NFT</strong> for the user. This wrapped NFT represents the original NFT on the Cosmos network, allowing the user to interact with it as if it were the original NFT, while the real NFT remains locked in the EVM contract.</p>\n</li>\n</ol>\n<p>Now, lets move to cosmos side. We need to receive IBC messages from Ethereum, mints a <strong>wrapped NFT, and finally</strong> burn the wrapped NFT when sending back to Ethereum.</p>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">use</span> <span class=\"token namespace\">cosmwasm_std<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">{</span><br>    entry_point<span class=\"token punctuation\">,</span> to_binary<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Binary</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Deps</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">DepsMut</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Env</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">MessageInfo</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Response</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">StdResult</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">SubMsg</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">WasmMsg</span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">use</span> <span class=\"token namespace\">cw721<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">{</span><span class=\"token class-name\">Cw721ExecuteMsg</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">MintMsg</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">use</span> <span class=\"token keyword\">crate</span><span class=\"token module-declaration namespace\"><span class=\"token punctuation\">::</span>msg<span class=\"token punctuation\">::</span></span><span class=\"token punctuation\">{</span><span class=\"token class-name\">ExecuteMsg</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">InstantiateMsg</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br><br><span class=\"token comment\">// NFT Bridge Contract</span><br><span class=\"token attribute attr-name\">#[entry_point]</span><br><span class=\"token keyword\">pub</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">instantiate</span><span class=\"token punctuation\">(</span><br>    deps<span class=\"token punctuation\">:</span> <span class=\"token class-name\">DepsMut</span><span class=\"token punctuation\">,</span><br>    _env<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Env</span><span class=\"token punctuation\">,</span><br>    _info<span class=\"token punctuation\">:</span> <span class=\"token class-name\">MessageInfo</span><span class=\"token punctuation\">,</span><br>    msg<span class=\"token punctuation\">:</span> <span class=\"token class-name\">InstantiateMsg</span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">StdResult</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Response</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><br>    <span class=\"token comment\">// Store NFT contract address in state</span><br>    <span class=\"token keyword\">let</span> state <span class=\"token operator\">=</span> <span class=\"token class-name\">State</span> <span class=\"token punctuation\">{</span> nft_contract<span class=\"token punctuation\">:</span> msg<span class=\"token punctuation\">.</span>nft_contract <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br>    <span class=\"token constant\">CONFIG</span><span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>deps<span class=\"token punctuation\">.</span>storage<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>state<span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Response</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token attribute attr-name\">#[entry_point]</span><br><span class=\"token keyword\">pub</span> <span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">execute</span><span class=\"token punctuation\">(</span><br>    deps<span class=\"token punctuation\">:</span> <span class=\"token class-name\">DepsMut</span><span class=\"token punctuation\">,</span><br>    env<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Env</span><span class=\"token punctuation\">,</span><br>    info<span class=\"token punctuation\">:</span> <span class=\"token class-name\">MessageInfo</span><span class=\"token punctuation\">,</span><br>    msg<span class=\"token punctuation\">:</span> <span class=\"token class-name\">ExecuteMsg</span><span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">StdResult</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Response</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">match</span> msg <span class=\"token punctuation\">{</span><br>        <span class=\"token class-name\">ExecuteMsg</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">ReceiveNFT</span> <span class=\"token punctuation\">{</span> sender<span class=\"token punctuation\">,</span> token_id <span class=\"token punctuation\">}</span> <span class=\"token operator\">=></span> <span class=\"token function\">receive_nft</span><span class=\"token punctuation\">(</span>deps<span class=\"token punctuation\">,</span> env<span class=\"token punctuation\">,</span> sender<span class=\"token punctuation\">,</span> token_id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>        <span class=\"token class-name\">ExecuteMsg</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">BurnAndSend</span> <span class=\"token punctuation\">{</span> token_id<span class=\"token punctuation\">,</span> dest_chain_id <span class=\"token punctuation\">}</span> <span class=\"token operator\">=></span> <span class=\"token function\">burn_and_send</span><span class=\"token punctuation\">(</span>deps<span class=\"token punctuation\">,</span> env<span class=\"token punctuation\">,</span> info<span class=\"token punctuation\">,</span> token_id<span class=\"token punctuation\">,</span> dest_chain_id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token comment\">// Receive NFT from Ethereum</span><br><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">receive_nft</span><span class=\"token punctuation\">(</span>deps<span class=\"token punctuation\">:</span> <span class=\"token class-name\">DepsMut</span><span class=\"token punctuation\">,</span> env<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Env</span><span class=\"token punctuation\">,</span> sender<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> token_id<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">StdResult</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Response</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">let</span> state <span class=\"token operator\">=</span> <span class=\"token constant\">CONFIG</span><span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span>deps<span class=\"token punctuation\">.</span>storage<span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token keyword\">let</span> mint_msg <span class=\"token operator\">=</span> <span class=\"token class-name\">WasmMsg</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Execute</span> <span class=\"token punctuation\">{</span><br>        contract_addr<span class=\"token punctuation\">:</span> state<span class=\"token punctuation\">.</span>nft_contract<span class=\"token punctuation\">.</span><span class=\"token function\">clone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>        msg<span class=\"token punctuation\">:</span> <span class=\"token function\">to_binary</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token class-name\">Cw721ExecuteMsg</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Mint</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">MintMsg</span> <span class=\"token punctuation\">{</span><br>            token_id<span class=\"token punctuation\">:</span> token_id<span class=\"token punctuation\">.</span><span class=\"token function\">clone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>            owner<span class=\"token punctuation\">:</span> sender<span class=\"token punctuation\">.</span><span class=\"token function\">clone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>            token_uri<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Some</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"https://metadata-url\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">,</span><br>        funds<span class=\"token punctuation\">:</span> <span class=\"token macro property\">vec!</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Response</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">add_message</span><span class=\"token punctuation\">(</span>mint_msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token comment\">// Burn and Send Back to Ethereum</span><br><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">burn_and_send</span><span class=\"token punctuation\">(</span>deps<span class=\"token punctuation\">:</span> <span class=\"token class-name\">DepsMut</span><span class=\"token punctuation\">,</span> env<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Env</span><span class=\"token punctuation\">,</span> info<span class=\"token punctuation\">:</span> <span class=\"token class-name\">MessageInfo</span><span class=\"token punctuation\">,</span> token_id<span class=\"token punctuation\">:</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> dest_chain_id<span class=\"token punctuation\">:</span> <span class=\"token keyword\">u16</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> <span class=\"token class-name\">StdResult</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Response</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">let</span> state <span class=\"token operator\">=</span> <span class=\"token constant\">CONFIG</span><span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span>deps<span class=\"token punctuation\">.</span>storage<span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token keyword\">let</span> burn_msg <span class=\"token operator\">=</span> <span class=\"token class-name\">WasmMsg</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Execute</span> <span class=\"token punctuation\">{</span><br>        contract_addr<span class=\"token punctuation\">:</span> state<span class=\"token punctuation\">.</span>nft_contract<span class=\"token punctuation\">.</span><span class=\"token function\">clone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>        msg<span class=\"token punctuation\">:</span> <span class=\"token function\">to_binary</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token class-name\">Cw721ExecuteMsg</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">Burn</span> <span class=\"token punctuation\">{</span> token_id<span class=\"token punctuation\">:</span> token_id<span class=\"token punctuation\">.</span><span class=\"token function\">clone</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">,</span><br>        funds<span class=\"token punctuation\">:</span> <span class=\"token macro property\">vec!</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token comment\">// Send IBC message back to Ethereum</span><br>    <span class=\"token keyword\">let</span> ibc_msg <span class=\"token operator\">=</span> <span class=\"token class-name\">IbcMsg</span><span class=\"token punctuation\">::</span><span class=\"token class-name\">SendPacket</span> <span class=\"token punctuation\">{</span><br>        channel_id<span class=\"token punctuation\">:</span> <span class=\"token string\">\"channel-0\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>        data<span class=\"token punctuation\">:</span> <span class=\"token function\">to_binary</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span><span class=\"token class-name\">CrossChainPayload</span> <span class=\"token punctuation\">{</span> sender<span class=\"token punctuation\">:</span> info<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> token_id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">,</span><br>        timeout<span class=\"token punctuation\">:</span> <span class=\"token class-name\">IbcTimeout</span><span class=\"token punctuation\">::</span><span class=\"token function\">with_timestamp</span><span class=\"token punctuation\">(</span>env<span class=\"token punctuation\">.</span>block<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">.</span><span class=\"token function\">plus_seconds</span><span class=\"token punctuation\">(</span><span class=\"token number\">300</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token class-name\">Ok</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Response</span><span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">add_message</span><span class=\"token punctuation\">(</span>burn_msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">add_message</span><span class=\"token punctuation\">(</span>ibc_msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>So, what‚Äôs happening here?</p>\n<ol>\n<li>\n<p><strong>Receive Message</strong> from Ethereum ‚Üí This step involves receiving a message from the Ethereum blockchain, which triggers the process of creating a new wrapped NFT on the current blockchain. This NFT represents the original asset from Ethereum.</p>\n</li>\n<li>\n<p><strong>Mint Wrapped NFT</strong> ‚Üí After receiving the message, the system mints a new wrapped NFT. This involves executing a minting function that creates a token with a unique ID and assigns it to the specified owner, linking it to metadata that describes the asset.</p>\n</li>\n<li>\n<p><strong>Burn Wrapped NFT</strong> when sending back ‚Üí When the wrapped NFT needs to be returned to Ethereum, it is first burned. This means the token is destroyed on the current blockchain to ensure it cannot be used again, maintaining the integrity of the asset‚Äôs representation.</p>\n</li>\n<li>\n<p><strong>Send IBC Message</strong> back to Ethereum ‚Üí Finally, an Inter-Blockchain Communication (IBC) message is sent back to Ethereum. This message includes details about the burned token and the intended recipient on Ethereum, ensuring the asset can be accurately reconstructed on its original chain.</p>\n</li>\n</ol>\n<p>A bigger problem in cosmos ecosystem is that each project uses their custom developed cw-standard. It‚Äôs not a problem per-say but it poses higher risks towards interoperability, vulnerability risks and so on.</p>\n<h2 id=\"%F0%9F%94%91-best-practices-%26-optimisations\" tabindex=\"-1\"><strong>üîë Best Practices &amp; Optimisations</strong></h2>\n<p>‚úÖ <strong>Security First:</strong></p>\n<ul>\n<li>\n<p>Add <strong>role-based access</strong> for admins.</p>\n</li>\n<li>\n<p>Ensure <strong>proper NFT ownership checks</strong> before burning/minting.</p>\n</li>\n</ul>\n<p>‚úÖ <strong>Gas Optimisation:</strong></p>\n<ul>\n<li>\n<p>Use <strong>batch transactions</strong> for handling multiple NFTs.</p>\n</li>\n<li>\n<p>Compress payload data before sending cross-chain.</p>\n</li>\n</ul>\n<p>‚úÖ <strong>Scalability:</strong></p>\n<ul>\n<li>Support multiple <strong>Cosmos chains</strong> by using <strong>ICS-721 (NFT standard for Cosmos IBC)</strong>.</li>\n</ul>\n<p><img src=\"/images/posts/26f8ca87-06af-47d8-8cbc-a6d68fd02a6f.webp\" alt=\"\"></p>\n<p>There‚Äôs a few token bridges that operate today. Haven‚Äôt tested them all myself but they seem reliable.</p>\n<ul>\n<li>\n<p><a href=\"https://www.axelar.network/blog/cosmos-bridge-explained\">Axelar</a></p>\n</li>\n<li>\n<p><a href=\"https://blog.cosmos.network/gravity-is-an-essential-force-of-the-cosmos-aligning-all-planets-in-orbits-in-the-composable-b1ca17de18cc\">Gravity bridge</a></p>\n</li>\n<li>\n<p><a href=\"https://www.squidrouter.com/squid-school/Cosmos-to-EVM-swap-guide#section-1\">Squid router</a></p>\n</li>\n<li>\n<p><a href=\"https://docs.evmos.org/protocol\">Evmos</a></p>\n</li>\n</ul>\n<p>There might be more.</p>\n<p>The future of Cosmos‚ÄìEVM bridges is shaping up to be a game-changer, not just for developers but for the entire blockchain space. Right now, we see fragmented ecosystems, Ethereum, with its massive DeFi and NFT markets, and Cosmos, with its modular, interoperable chains. Bridging these two worlds is more than just about moving assets, it‚Äôs about unlocking new possibilities for seamless cross-chain interactions. Imagine a future where an NFT minted on Ethereum can be used in a Cosmos-based game, or where DeFi users on Cosmos can access Ethereum‚Äôs liquidity pools without even realising they‚Äôre using two different chains. That‚Äôs the kind of frictionless experience these bridges are working toward.</p>\n<p>One of the biggest shifts we‚Äôre likely to see is the rise of generalised cross-chain smart contracts. Right now, most bridges focus on asset transfers. Locking tokens on one side and minting wrapped versions on the other. But what if dApps could execute Solidity contracts from Cosmos-based chains or trigger CosmWasm contracts from Ethereum? That would mean truly decentralised applications that function across multiple chains, rather than being siloed into one ecosystem. We‚Äôre already seeing early versions of this with Axelar‚Äôs General Message Passing and Cosmos Interchain Accounts, but the technology is still in its early days. Once these solutions become more mature, developers will no longer have to build separate versions of their dApps for different chains. Just build once and let the bridge handle the communication.</p>\n<p>Security is another major aspect that‚Äôs bound to improve. Traditional bridges have been some of the biggest targets for hacks, often due to their reliance on trusted relayers or multi-sig setups. The future will likely bring more trustless designs, possibly using zk-SNARKs or other cryptographic proofs to validate transactions across chains without needing intermediaries. This will not only make bridges safer but also reduce centralisation risks. Additionally, optimised gas fee mechanisms could make cross-chain transactions more affordable, encouraging wider adoption.</p>\n<p>Ultimately, the future of Cosmos‚ÄìEVM bridges is about making blockchain technology feel invisible. Users shouldn‚Äôt have to think about which chain they‚Äôre on, they should just be able to interact with applications, own assets, and move seamlessly across networks. The end goal isn‚Äôt just interoperability, it‚Äôs a fully decentralised, interconnected metaverse where blockchains function as one unified system rather than competing silos.</p>\n",
      "date_published": "2025-02-13T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/building-a-cross-chain-bridge/",
      "url": "https://blog.anirudha.dev/building-a-cross-chain-bridge/",
      "title": "Building a Cross-Chain Bridge",
      "content_html": "<blockquote>\n<p>A <strong>cross-chain bridge</strong> is a protocol that allows assets, data, or smart contract states to be transferred between two or more decentralised networks. It enables interoperability between different blockchains, ensuring seamless movement of tokens, NFTs, and other digital assets across ecosystems.</p>\n</blockquote>\n<p>So, how about we learn how to build a <strong>cross-chain bridge</strong> that allows NFTs to move between two <strong>EVM-compatible chains</strong> (e.g., Ethereum &amp; Base, Arbitrum, Optimism &amp; Polygon). Unlike traditional bridges, which use an <strong>off-chain relayer</strong>, we will implement an <strong>on-chain gateway</strong> using <a href=\"https://layerzero.network/\">LayerZero</a>, making the process <strong>fully decentralised and trustless</strong>.</p>\n<p><a href=\"https://blog.anirudha.dev/decentralising-bridges\"><em>If you want to read more about decentralised bridges, check out my previously posted article.</em></a></p>\n<p>NFTs and assets are often confined to their originating blockchain, limiting their interoperability and liquidity. A <strong>cross-chain bridge</strong> enables users to transfer NFTs between different chains, enhancing:</p>\n<ul>\n<li>\n<p><strong>Liquidity</strong> ‚Äì NFTs can be traded across multiple ecosystems.</p>\n</li>\n<li>\n<p><strong>Utility</strong> ‚Äì Users can access different dApps on multiple chains.</p>\n</li>\n<li>\n<p><strong>Scalability</strong> ‚Äì Avoid congestion on expensive chains like Ethereum.</p>\n</li>\n</ul>\n<p>The base chain, where an NFT collection originates, plays a crucial role in determining the overall value and functionality of the NFTs.</p>\n<ol>\n<li>\n<p><strong>Security and Trust</strong>: The base chain provides the foundational security for the NFT collection. A well-established chain like Ethereum offers robust security features, which can enhance the trustworthiness of the NFTs. While an L2 like Base can offer lower gas fee. There‚Äôs several factors that you can think of while deciding the base chain for your NFT collection.</p>\n</li>\n<li>\n<p><strong>Network Effects</strong>: The popularity and user base of the base chain can significantly impact the visibility and adoption of the NFT collection. A chain with a large community can drive more engagement and transactions.</p>\n</li>\n<li>\n<p><strong>Ecosystem and Tools</strong>: The base chain often dictates the available development tools and ecosystem support. A rich ecosystem with various dApps and services can add more utility to the NFTs, allowing them to be used in diverse applications.</p>\n</li>\n<li>\n<p><strong>Transaction Costs</strong>: The cost of transactions on the base chain can affect the affordability and frequency of NFT trades. Chains with lower fees can encourage more trading activity, while high fees might deter users.</p>\n</li>\n<li>\n<p><strong>Interoperability</strong>: The base chain‚Äôs compatibility with other chains can determine how easily NFTs can be transferred across different networks. A chain that supports cross-chain protocols can enhance the liquidity and utility of the NFTs. It‚Äôs very important that you do not choose a chain which doesn‚Äôt allow access to outside network at all.</p>\n</li>\n<li>\n<p><strong>Innovation and Upgrades</strong>: The pace of innovation and the ability to implement upgrades on the base chain can influence the long-term viability and features of the NFT collection. Chains that are actively developed and improved can offer more advanced capabilities over time. Never go for a chain, which has stangant development or takes too long to iterate.</p>\n</li>\n</ol>\n<p>However, we can not expect all the users to remain on any single network. So, we need to prepare for the seemless moving around of assets cross-chain, thereby improving interoperability.</p>\n<p>And of course, there are several approaches to achieve bridging, depending on how you structure your product. Let‚Äôs go ahead with a classic approach this time.</p>\n<p><img src=\"https://cdn.prod.website-files.com/5f75fe1dce99248be5a892db/65675d979a0831972f6df33a_65525236ec04b0422258c81d_6537cb2e61b41e734eb82148_What-Are-Cross-Chain-NFTs__2-V1.png\" alt=\"\"></p>\n<h2 id=\"how-it-works\" tabindex=\"-1\">How It Works</h2>\n<ol>\n<li>\n<p><strong>Lock the NFT</strong> on <strong>Chain A</strong> (BridgeA contract).</p>\n</li>\n<li>\n<p><strong>Send a cross-chain message</strong> using LayerZero to <strong>Chain B</strong>.</p>\n</li>\n<li>\n<p><strong>BridgeB contract receives the message</strong> and <strong>mints a wrapped NFT</strong> on Chain B.</p>\n</li>\n<li>\n<p>To <strong>return the NFT</strong>, the wrapped NFT is <strong>burned</strong> on Chain B, and a <strong>message is sent back</strong> to unlock the original NFT.</p>\n</li>\n</ol>\n<h3 id=\"%F0%9F%8F%9B-on-chain-relayer-(our-approach)\" tabindex=\"-1\">üèõ On-Chain Relayer (Our Approach)</h3>\n<p>‚úÖ Fully decentralised, no external trust required.<br>\n‚úÖ All logic is enforced via smart contracts.<br>\n‚úÖ Works with protocols like LayerZero or Axelar.</p>\n<h3 id=\"%E2%9A%A1-off-chain-relayer\" tabindex=\"-1\">‚ö° Off-Chain Relayer</h3>\n<p>‚ùå Requires external nodes/validators to confirm transactions.<br>\n‚ùå Can introduce centralisation and trust assumptions.<br>\n‚ùå Relayers may become a point of failure.</p>\n<p>Our <strong>on-chain approach</strong> ensures security and trustlessness by leveraging smart contracts for message passing. We‚Äôre using EVM chains for this example so the contracts preferrably written in solidity.</p>\n<h3 id=\"nft-contract\" tabindex=\"-1\">NFT Contract</h3>\n<p>First, deploy an <strong>ERC-721 NFT</strong> contract on <strong>both chains</strong>:</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token comment\">// SPDX-License-Identifier: MIT</span><br><span class=\"token keyword\">pragma</span> <span class=\"token keyword\">solidity</span> <span class=\"token operator\">^</span><span class=\"token version number\">0.8.19</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">import</span> <span class=\"token string\">\"@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol\"</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">import</span> <span class=\"token string\">\"@openzeppelin/contracts/access/Ownable.sol\"</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">contract</span> <span class=\"token class-name\">MyNFT</span> <span class=\"token keyword\">is</span> ERC721URIStorage<span class=\"token punctuation\">,</span> Ownable <span class=\"token punctuation\">{</span><br>    <span class=\"token builtin\">uint256</span> <span class=\"token keyword\">public</span> nextTokenId<span class=\"token punctuation\">;</span><br>    <br>    <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token function\">ERC721</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"MyNFT\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"MNFT\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><br>    <br>    <span class=\"token keyword\">function</span> <span class=\"token function\">mint</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">string</span> <span class=\"token keyword\">memory</span> tokenURI<span class=\"token punctuation\">)</span> <span class=\"token keyword\">external</span> onlyOwner <span class=\"token punctuation\">{</span><br>        <span class=\"token function\">_safeMint</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">,</span> nextTokenId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token function\">_setTokenURI</span><span class=\"token punctuation\">(</span>nextTokenId<span class=\"token punctuation\">,</span> tokenURI<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        nextTokenId<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"bridge-contract-(chain-a)-%E2%80%93-lock-nft-%26-send-message\" tabindex=\"-1\">Bridge Contract (Chain A) ‚Äì <strong>Lock NFT &amp; Send Message</strong></h3>\n<p>Create <code>BridgeA.sol</code> on <strong>Chain A</strong>:</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token comment\">// SPDX-License-Identifier: MIT</span><br><span class=\"token keyword\">pragma</span> <span class=\"token keyword\">solidity</span> <span class=\"token operator\">^</span><span class=\"token version number\">0.8.19</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">import</span> <span class=\"token string\">\"@openzeppelin/contracts/token/ERC721/ERC721.sol\"</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">import</span> <span class=\"token string\">\"@layerzerolabs/solidity-examples/contracts/lzApp/NonblockingLzApp.sol\"</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">contract</span> <span class=\"token class-name\">BridgeA</span> <span class=\"token keyword\">is</span> NonblockingLzApp <span class=\"token punctuation\">{</span><br>    ERC721 <span class=\"token keyword\">public</span> nft<span class=\"token punctuation\">;</span><br>    <span class=\"token builtin\">address</span> <span class=\"token keyword\">public</span> admin<span class=\"token punctuation\">;</span><br><br>    <span class=\"token keyword\">event</span> <span class=\"token function\">NFTLocked</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token keyword\">indexed</span> user<span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint256</span> tokenId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> _nft<span class=\"token punctuation\">,</span> <span class=\"token builtin\">address</span> _lzEndpoint<span class=\"token punctuation\">)</span> <span class=\"token function\">NonblockingLzApp</span><span class=\"token punctuation\">(</span>_lzEndpoint<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        admin <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">;</span><br>        nft <span class=\"token operator\">=</span> <span class=\"token function\">ERC721</span><span class=\"token punctuation\">(</span>_nft<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">function</span> <span class=\"token function\">lockNFT</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint256</span> tokenId<span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint16</span> destChainId<span class=\"token punctuation\">,</span> <span class=\"token builtin\">bytes</span> <span class=\"token keyword\">memory</span> receiver<span class=\"token punctuation\">)</span> <span class=\"token keyword\">external</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>nft<span class=\"token punctuation\">.</span><span class=\"token function\">ownerOf</span><span class=\"token punctuation\">(</span>tokenId<span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Not NFT owner\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        nft<span class=\"token punctuation\">.</span><span class=\"token function\">transferFrom</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">,</span> <span class=\"token builtin\">address</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> tokenId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token builtin\">bytes</span> <span class=\"token keyword\">memory</span> payload <span class=\"token operator\">=</span> abi<span class=\"token punctuation\">.</span><span class=\"token function\">encode</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">,</span> tokenId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token function\">_lzSend</span><span class=\"token punctuation\">(</span>destChainId<span class=\"token punctuation\">,</span> payload<span class=\"token punctuation\">,</span> <span class=\"token keyword\">payable</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">address</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">bytes</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">emit</span> <span class=\"token function\">NFTLocked</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">,</span> tokenId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">function</span> <span class=\"token function\">_nonblockingLzReceive</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint16</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">bytes</span> <span class=\"token keyword\">memory</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint64</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">bytes</span> <span class=\"token keyword\">memory</span> payload<span class=\"token punctuation\">)</span> <span class=\"token keyword\">internal</span> override <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"bridge-contract-(chain-b)-%E2%80%93-receive-%26-mint-wrapped-nft\" tabindex=\"-1\">Bridge Contract (Chain B) ‚Äì <strong>Receive &amp; Mint Wrapped NFT</strong></h3>\n<p>Create <code>BridgeB.sol</code> on <strong>Chain B</strong>:</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token comment\">// SPDX-License-Identifier: MIT</span><br><span class=\"token keyword\">pragma</span> <span class=\"token keyword\">solidity</span> <span class=\"token operator\">^</span><span class=\"token version number\">0.8.19</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">import</span> <span class=\"token string\">\"@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol\"</span><span class=\"token punctuation\">;</span><br><span class=\"token keyword\">import</span> <span class=\"token string\">\"@layerzerolabs/solidity-examples/contracts/lzApp/NonblockingLzApp.sol\"</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">contract</span> <span class=\"token class-name\">BridgeB</span> <span class=\"token keyword\">is</span> ERC721URIStorage<span class=\"token punctuation\">,</span> NonblockingLzApp <span class=\"token punctuation\">{</span><br>    <span class=\"token builtin\">address</span> <span class=\"token keyword\">public</span> admin<span class=\"token punctuation\">;</span><br>    <span class=\"token builtin\">uint256</span> <span class=\"token keyword\">public</span> nextTokenId<span class=\"token punctuation\">;</span><br><br>    <span class=\"token keyword\">event</span> <span class=\"token function\">NFTMinted</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token keyword\">indexed</span> user<span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint256</span> tokenId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> _lzEndpoint<span class=\"token punctuation\">)</span> <span class=\"token function\">ERC721</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"WrappedNFT\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"WNFT\"</span><span class=\"token punctuation\">)</span> <span class=\"token function\">NonblockingLzApp</span><span class=\"token punctuation\">(</span>_lzEndpoint<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        admin <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">function</span> <span class=\"token function\">_nonblockingLzReceive</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint16</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">bytes</span> <span class=\"token keyword\">memory</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint64</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">bytes</span> <span class=\"token keyword\">memory</span> payload<span class=\"token punctuation\">)</span> <span class=\"token keyword\">internal</span> override <span class=\"token punctuation\">{</span><br>        <span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> user<span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint256</span> tokenId<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> abi<span class=\"token punctuation\">.</span><span class=\"token function\">decode</span><span class=\"token punctuation\">(</span>payload<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint256</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token function\">_safeMint</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">,</span> nextTokenId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token function\">_setTokenURI</span><span class=\"token punctuation\">(</span>nextTokenId<span class=\"token punctuation\">,</span> <span class=\"token string\">\"https://metadata-url\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">emit</span> <span class=\"token function\">NFTMinted</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">,</span> nextTokenId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        nextTokenId<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"unlocking-nfts-(return-to-chain-a)\" tabindex=\"-1\">Unlocking NFTs (Return to Chain A)</h3>\n<p>Modify <code>BridgeB.sol</code> to <strong>burn the wrapped NFT and send it back</strong>:</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">function</span> <span class=\"token function\">burnNFT</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint256</span> tokenId<span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint16</span> destChainId<span class=\"token punctuation\">)</span> <span class=\"token keyword\">external</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span><span class=\"token function\">ownerOf</span><span class=\"token punctuation\">(</span>tokenId<span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Not NFT owner\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token function\">_burn</span><span class=\"token punctuation\">(</span>tokenId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token builtin\">bytes</span> <span class=\"token keyword\">memory</span> payload <span class=\"token operator\">=</span> abi<span class=\"token punctuation\">.</span><span class=\"token function\">encode</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">,</span> tokenId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token function\">_lzSend</span><span class=\"token punctuation\">(</span>destChainId<span class=\"token punctuation\">,</span> payload<span class=\"token punctuation\">,</span> <span class=\"token keyword\">payable</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">address</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">bytes</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>Modify <code>BridgeA.sol</code> to <strong>release the original NFT</strong>:</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">function</span> <span class=\"token function\">_nonblockingLzReceive</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint16</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">bytes</span> <span class=\"token keyword\">memory</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint64</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">bytes</span> <span class=\"token keyword\">memory</span> payload<span class=\"token punctuation\">)</span> <span class=\"token keyword\">internal</span> override <span class=\"token punctuation\">{</span><br>    <span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> user<span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint256</span> tokenId<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> abi<span class=\"token punctuation\">.</span><span class=\"token function\">decode</span><span class=\"token punctuation\">(</span>payload<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint256</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    nft<span class=\"token punctuation\">.</span><span class=\"token function\">transferFrom</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> user<span class=\"token punctuation\">,</span> tokenId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"let%E2%80%99s-test-our-bridge%3A\" tabindex=\"-1\">Let‚Äôs test our Bridge:</h2>\n<ol>\n<li>\n<p><strong>Deploy contracts</strong> on two testnets (say, Base Sepolia &amp; Polygon Amoy).</p>\n</li>\n<li>\n<p><strong>Mint an NFT</strong> on Chain A.</p>\n</li>\n<li>\n<p><strong>Lock &amp; transfer the NFT</strong> using the bridge.</p>\n</li>\n<li>\n<p><strong>Verify minting of wrapped NFT</strong> on Chain B.</p>\n</li>\n<li>\n<p><strong>Burn wrapped NFT</strong> to return to Chain A.</p>\n</li>\n</ol>\n<h2 id=\"future-improvements-that-can-be-made%3A\" tabindex=\"-1\">Future Improvements that can be made:</h2>\n<h3 id=\"multi-chain-support\" tabindex=\"-1\"><strong>Multi-Chain Support</strong></h3>\n<p>To enhance the functionality and reach of our bridge, we can consider adding support for additional EVM-compatible chains. This would involve integrating with popular networks like Binance Smart Chain, Avalanche, and Fantom, which would allow users to transfer NFTs across a wider range of platforms. Furthermore, expanding beyond EVM-compatible chains to include other blockchain ecosystems, such as Solana, Cosmos, and Polkadot, could significantly broaden the bridge‚Äôs capabilities. This expansion would require developing interoperability solutions to handle the unique characteristics and consensus mechanisms of these different blockchains. By doing so, we would enable seamless NFT transfers across a diverse array of blockchain networks, providing users with greater flexibility and access to a wider audience. This strategic enhancement could position our bridge as a leading solution in the rapidly evolving multi-chain NFT landscape.</p>\n<h3 id=\"cross-chain-fees\" tabindex=\"-1\"><strong>Cross-Chain Fees</strong></h3>\n<p>Implementing gas abstraction can significantly enhance the user experience by making transactions more seamless and user-friendly. Gas abstraction involves creating a system where users do not need to worry about paying gas fees directly in cryptocurrency. Instead, the system can handle these fees on behalf of the users, possibly by integrating a third-party service or using a relayer network. This approach can simplify the transaction process, especially for users who are not familiar with blockchain technology or do not hold the native cryptocurrency required for gas fees. By abstracting gas fees, developers can create a more intuitive and accessible platform, encouraging broader adoption and reducing barriers for entry into the blockchain ecosystem. Additionally, this can be particularly beneficial in scenarios involving cross-chain interactions, where users might otherwise need to manage multiple cryptocurrencies for gas fees on different chains.</p>\n<h3 id=\"decentralised-governance\" tabindex=\"-1\"><strong>Decentralised Governance</strong></h3>\n<p>Decentralised Autonomous Organisations (DAOs) can play a crucial role in managing and governing bridge policies. By introducing DAO-controlled bridge policies, we can ensure that the decision-making process is transparent, democratic, and community-driven. This means that all stakeholders, including developers, users, and investors, can participate in proposing, discussing, and voting on changes to the bridge‚Äôs operational rules and guidelines. Such a system can enhance trust and accountability, as decisions are made collectively rather than by a centralised authority. Additionally, DAO governance can adapt more quickly to the evolving needs of the community and the market, allowing for more responsive and flexible policy adjustments. By leveraging the power of DAOs, we can create a more resilient and adaptable bridge infrastructure that aligns with the interests and values of its users.</p>\n<blockquote>\n<p>Note that this was for learning purposes only. The real contracts will have to consider several security issues and vulnerabilities which we‚Äôve assumed here, as part of the happy path. But it‚Äôs a start and would love to see at least some of you try it out and build more decentralised bridges. The bridges ecosystem is both quickly evolving and stagnant at the same time. Cross-chain messaging protocols have certainly pulled in a pin off the race for building decent decentralised bridges, but we‚Äôve quite a few improvement yet to be made to achieve true trustless systems.</p>\n</blockquote>\n<p><img src=\"/images/posts/4478b09b-d6bd-41b6-bb44-eb8c84b82d53.jpeg\" alt=\"\"></p>\n",
      "date_published": "2025-02-09T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/wasm-py-ecosystem/",
      "url": "https://blog.anirudha.dev/wasm-py-ecosystem/",
      "title": "WebAssembly and Python Ecosystem",
      "content_html": "<p>WebAssembly (WASM) is transforming how we run code in lightweight, secure, and cross-platform environments. Initially designed for browsers, WASM has now expanded into <strong>serverless computing</strong> and <strong>sandboxed environments</strong>. While languages like Rust and Go have robust WASM support, Python‚Äôs dynamic nature makes it challenging to run efficiently in WASM today.</p>\n<h2 id=\"why-webassembly-for-serverless-computing%3F\" tabindex=\"-1\"><strong>Why WebAssembly for Serverless Computing?</strong></h2>\n<ul>\n<li>\n<p><strong>Near-Instant Startup</strong>: WASM executes with minimal cold-start time, unlike containers.</p>\n</li>\n<li>\n<p><strong>Enhanced Security</strong>: WASM runs in a sandboxed environment, preventing unauthorised system access.</p>\n</li>\n<li>\n<p><strong>Compact Footprint</strong>: WASM modules are lightweight and easy to distribute.</p>\n</li>\n<li>\n<p><strong>Platform Agnostic</strong>: Runs seamlessly in browsers, cloud environments, and edge devices.</p>\n</li>\n<li>\n<p><strong>Network Agnostic</strong>: WASM can easily run on private clusters and secondary networks, making it the best choice even in Web3.0 ecosystem.</p>\n</li>\n</ul>\n<p>Despite these advantages, running Python efficiently in WASM poses unique challenges. So, let‚Äôs explore a few nuances and the current ecosystem looks like. We will then explore how we can work towards improving the current situation taking learnings from rust and go ecosystems.</p>\n<p><img src=\"https://hacks.mozilla.org/wp-content/uploads/2019/08/04-01-star-diagram.png\" alt=\"\"></p>\n<h2 id=\"running-python-in-webassembly\" tabindex=\"-1\"><strong>Running Python in WebAssembly</strong></h2>\n<h3 id=\"1.-using-pyodide-(cpython-in-wasm)\" tabindex=\"-1\"><strong>1. Using Pyodide (CPython in WASM)</strong></h3>\n<p>Pyodide compiles CPython to WASM, allowing Python to run in browsers and serverless environments.</p>\n<h4 id=\"install-pyodide%3A\" tabindex=\"-1\"><strong>Install Pyodide:</strong></h4>\n<pre class=\"language-bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> pyodide</code></pre>\n<h4 id=\"run-a-python-script-in-pyodide%3A\" tabindex=\"-1\"><strong>Run a Python Script in Pyodide:</strong></h4>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pyodide<br><br><span class=\"token keyword\">async</span> <span class=\"token keyword\">def</span> <span class=\"token function\">run_python_code</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>    py <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> pyodide<span class=\"token punctuation\">.</span>loadPyodide<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>    result <span class=\"token operator\">=</span> py<span class=\"token punctuation\">.</span>runPython<span class=\"token punctuation\">(</span><span class=\"token string\">\"print('Hello from Pyodide!')\"</span><span class=\"token punctuation\">)</span><br>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><br><br><span class=\"token keyword\">await</span> run_python_code<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre>\n<h3 id=\"2.-using-pyscript-(python-in-the-browser-with-wasm)\" tabindex=\"-1\"><strong>2. Using PyScript (Python in the Browser with WASM)</strong></h3>\n<p>PyScript simplifies running Python in the browser via Pyodide.</p>\n<h4 id=\"run-python-in-html%3A\" tabindex=\"-1\"><strong>Run Python in HTML:</strong></h4>\n<pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">html</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span> <span class=\"token attr-name\">lang</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>en<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">defer</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://pyscript.net/latest/pyscript.js<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span><br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>py-script</span><span class=\"token punctuation\">></span></span><br>        print(\"Hello from PyScript!\")<br>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>py-script</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span><br><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code></pre>\n<h3 id=\"3.-using-rustpython-(a-rust-based-python-interpreter-in-wasm)\" tabindex=\"-1\"><strong>3. Using RustPython (A Rust-based Python Interpreter in WASM)</strong></h3>\n<p>RustPython, a Python interpreter written in Rust, is optimised for WASM.</p>\n<h4 id=\"install-rustpython%3A\" tabindex=\"-1\"><strong>Install RustPython:</strong></h4>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone https://github.com/RustPython/RustPython.git<br><span class=\"token builtin class-name\">cd</span> RustPython<br><span class=\"token function\">cargo</span> build <span class=\"token parameter variable\">--release</span> <span class=\"token parameter variable\">--target</span> wasm32-wasi</code></pre>\n<h4 id=\"run-python-in-rustpython-(wasm)%3A\" tabindex=\"-1\"><strong>Run Python in RustPython (WASM):</strong></h4>\n<pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">use</span> <span class=\"token namespace\">rustpython_vm<span class=\"token punctuation\">::</span></span><span class=\"token class-name\">Interpreter</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">fn</span> <span class=\"token function-definition function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">let</span> interpreter <span class=\"token operator\">=</span> <span class=\"token class-name\">Interpreter</span><span class=\"token punctuation\">::</span><span class=\"token function\">default</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    interpreter<span class=\"token punctuation\">.</span><span class=\"token function\">enter</span><span class=\"token punctuation\">(</span><span class=\"token closure-params\"><span class=\"token closure-punctuation punctuation\">|</span>vm<span class=\"token closure-punctuation punctuation\">|</span></span> <span class=\"token punctuation\">{</span><br>        vm<span class=\"token punctuation\">.</span><span class=\"token function\">run_code</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"print('Hello from RustPython!')\"</span><span class=\"token punctuation\">,</span> vm<span class=\"token punctuation\">.</span>ctx<span class=\"token punctuation\">.</span><span class=\"token function\">new_scope</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">unwrap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p><img src=\"https://wasmlabs.dev/static/images/opt/wG1A9IWdyv-757.webp\" alt=\"\"></p>\n<p>Run using WASI runtime:</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">wasmtime rustpython.wasm</code></pre>\n<h2 id=\"deploying-a-fastapi-serverless-function-in-wasm\" tabindex=\"-1\"><strong>Deploying a FastAPI Serverless Function in WASM</strong></h2>\n<h3 id=\"install-fastapi-and-uvicorn\" tabindex=\"-1\"><strong>Install FastAPI and Uvicorn</strong></h3>\n<pre class=\"language-bash\"><code class=\"language-bash\">pip <span class=\"token function\">install</span> fastapi uvicorn pyodide</code></pre>\n<h3 id=\"create-a-main.py\" tabindex=\"-1\"><strong>Create a</strong> <code>main.py</code></h3>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> fastapi <span class=\"token keyword\">import</span> FastAPI<br><br>app <span class=\"token operator\">=</span> FastAPI<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br><br><span class=\"token decorator annotation punctuation\">@app<span class=\"token punctuation\">.</span>get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/\"</span><span class=\"token punctuation\">)</span><br><span class=\"token keyword\">async</span> <span class=\"token keyword\">def</span> <span class=\"token function\">read_root</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><span class=\"token string\">\"message\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Hello from WASM!\"</span><span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"run-in-pyodide-(wasm-runtime)\" tabindex=\"-1\"><strong>Run in Pyodide (WASM Runtime)</strong></h3>\n<pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pyodide<br><span class=\"token keyword\">async</span> <span class=\"token keyword\">def</span> <span class=\"token function\">run_wasm</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><br>    py <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> pyodide<span class=\"token punctuation\">.</span>loadPyodide<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>    <span class=\"token keyword\">await</span> py<span class=\"token punctuation\">.</span>runPythonAsync<span class=\"token punctuation\">(</span><span class=\"token string\">\"from main import app\"</span><span class=\"token punctuation\">)</span><br>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"FastAPI running in WebAssembly\"</span><span class=\"token punctuation\">)</span><br><span class=\"token keyword\">await</span> run_wasm<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"performance-benchmark%3A-wasm-vs.-traditional-containers-vs.-rust%2Fgo-wasm\" tabindex=\"-1\"><strong>Performance Benchmark: WASM vs. Traditional Containers vs. Rust/Go WASM</strong></h2>\n<p><img src=\"https://kodekloud.com/blog/content/images/2023/03/Screenshot-2023-03-16-at-23.46.54.png\" alt=\"\"></p>\n<p>We benchmark <strong>FastAPI deployed in:</strong></p>\n<ol>\n<li>\n<p><strong>WASM (Pyodide)</strong></p>\n</li>\n<li>\n<p><strong>Docker (Traditional Serverless Container)</strong></p>\n</li>\n<li>\n<p><strong>WASM (RustPython)</strong></p>\n</li>\n</ol>\n<p>For fair comparision, we need to also look at wasm ecosystem in rust and go. As the current python wasm ecosystem is lacking, we should also take a look at what‚Äôs happening with our neighboring language ecosystems.</p>\n<h3 id=\"benchmarking-with-wrk%3A\" tabindex=\"-1\"><strong>Benchmarking with</strong> <a href=\"https://github.com/wg/wrk\">wrk</a>:</h3>\n<pre class=\"language-solidity\"><code class=\"language-solidity\">wrk <span class=\"token operator\">-</span>t4 <span class=\"token operator\">-</span>c100 <span class=\"token operator\">-</span>d30s http<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>localhost<span class=\"token punctuation\">:</span><span class=\"token number\">8000</span><span class=\"token operator\">/</span></code></pre>\n<h3 id=\"approx-results%3A\" tabindex=\"-1\"><strong>Approx Results:</strong></h3>\n<table>\n<thead>\n<tr>\n<th>Environment</th>\n<th>Requests/sec</th>\n<th>Avg Latency</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>WASM (Pyodide)</td>\n<td>~500</td>\n<td>10-30ms</td>\n</tr>\n<tr>\n<td>Docker (FastAPI)</td>\n<td>~2000+</td>\n<td>3-5ms</td>\n</tr>\n<tr>\n<td>WASM (RustPython)</td>\n<td>~800</td>\n<td>7-15ms</td>\n</tr>\n<tr>\n<td>WASM (Rust)</td>\n<td>~5000+</td>\n<td>&lt;1ms</td>\n</tr>\n<tr>\n<td>WASM (Go)</td>\n<td>~4000+</td>\n<td>&lt;2ms</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"so%2C-what-can-be-conclude%3A\" tabindex=\"-1\"><strong>So, what can be conclude:</strong></h3>\n<ul>\n<li>\n<p><strong>Rust and Go compiled to WASM vastly outperform Python-based WASM implementations.</strong></p>\n</li>\n<li>\n<p><strong>Docker offers the best throughput for Python applications, making it ideal for high-performance APIs.</strong></p>\n</li>\n<li>\n<p><strong>RustPython outperforms Pyodide but remains slower than Rust/Go.</strong></p>\n</li>\n<li>\n<p><strong>Pyodide is more portable but has higher latency, making it ideal for browser-based execution.</strong></p>\n</li>\n<li>\n<p><strong>WASM offers greater security and portability but exhibits slightly higher latency than Docker.</strong></p>\n</li>\n</ul>\n<p>WebAssembly is an exciting technology for <strong>serverless Python computing</strong>, offering:<br>\n‚úÖ <strong>Faster startup times</strong><br>\n‚úÖ <strong>Enhanced security</strong><br>\n‚úÖ <strong>Improved portability</strong></p>\n<p><img src=\"https://www.docker.com/wp-content/uploads/2024/04/2400x1260_wasm-vs-docker_diagram-01.png\" alt=\"\"></p>\n<p>However, for high-performance applications, <strong>Rust and Go WASM implementations</strong> significantly outperform Python-based approaches. Python WASM is improving rapidly, and as tools like <strong>Pyodide, PyScript, and RustPython</strong> advance, Python‚Äôs role in <strong>serverless WASM environments</strong> will continue to expand. üöÄ</p>\n",
      "date_published": "2025-02-05T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/cyberspace-os/",
      "url": "https://blog.anirudha.dev/cyberspace-os/",
      "title": "Minimising Dependencies",
      "content_html": "<p>In today‚Äôs world, technology is often seen as a tool for efficiency, but in reality, it has become a structure of control. Operating systems dictate how we interact with software, app stores determine what we can access, and centralised networks govern our digital presence. The prevailing belief is that these structures are necessary for stability, security, and usability. However, don‚Äôt you think that technology should minimise dependencies rather than create them. Instead of being locked into specific platforms, users and developers should be free to interact, build, and own their digital experiences without artificial barriers.</p>\n<p>The future of computing and web can not be walled gardens but open, permissionless, and decentralised protocols. We need to rethink the fundamental design of digital ecosystems, not as closed systems but as universal environments where applications and services are accessible to all, without intermediaries.</p>\n<p>Currently, the digital world is built on a fragmented ecosystem of operating systems, Windows, MacOS, and Linux, each with its own architecture, software packaging formats, and compatibility constraints. Even within Linux, the presence of multiple distributions (Ubuntu, Fedora, Arch, etc.) means that software developers must support various package managers like DEB, RPM, AppImage, Flatpak, Homebrew and Snap. This creates unnecessary complexity and overhead, forcing developers to maintain multiple versions of their applications, resolve dependency conflicts, and manage frequent updates for each platform.</p>\n<p>Beyond operating systems, cloud services and centralised application marketplaces have further deepened our dependence on proprietary infrastructures. Most modern applications rely on centralised servers for authentication, data storage, and computing resources, making them vulnerable to downtime, censorship, and high costs. This centralised model not only limits innovation but also creates gatekeepers who control access to digital services.</p>\n<p>Remeber <a href=\"https://www.torproject.org/\">Tor</a>? ‚ÄúThe Onion Router‚Äù, an open-source privacy network designed to enable anonymous web browsing. It employs a technique called onion routing, which encrypts user data and bounces it through a series of volunteer-operated servers, or nodes, making it difficult to trace the origin of the traffic. It‚Äôs quite popular amongst tech audience but not so much known in the newer generation and is slowly fading away yet still. Why? It‚Äôs an incredible network and project.</p>\n<p><img src=\"/images/posts/a444845f-a92f-465e-9af2-ada7b82d5084.webp\" alt=\"\"></p>\n<p>Because, it several challenges for regular users, primarily related to access, security, performance, and user experience. Many websites block traffic from Tor exit nodes, leading to difficulties accessing certain sites and frequent CAPTCHA prompts. Additionally, users face security risks from potentially malicious exit nodes that could intercept unencrypted traffic. Performance can also be an issue, as Tor often results in slower internet speeds and connection problems due to its complex routing process. Furthermore, the setup of Tor can be complicated for less tech-savvy individuals, which may discourage them from using the network effectively. The association of Tor with illegal activities can also create negative perceptions, impacting users‚Äô willingness to utilise it for legitimate purposes. Overall, while Tor offers enhanced privacy, these challenges can significantly affect the user experience.</p>\n<p>Do we need a network then? No, we already got the tech. Started with TOR, but current web3 vibrant and somewhat crazy ecosystem is already making it‚Äôs mark. So, what do we need?</p>\n<h3 id=\"how-about-a-new-os%3F\" tabindex=\"-1\"><strong>How about a new OS?</strong></h3>\n<p>This is where CyberSpace OS comes in. A fully decentralised operating system that exists entirely on Web3 networks, offering a new way to interact with technology that is free from the constraints of traditional software and hardware ecosystems. CyberSpace OS, designed to break free from these limitations by offering a truly universal execution environment where applications are deployed directly on-chain as smart contracts or Web3-native dApps. Instead of being tied to a specific OS or hardware architecture, software would exist independently on a decentralised network, accessible from any device.</p>\n<p>With CyberSpace OS:</p>\n<ul>\n<li>\n<p>Developers <strong>deploy once</strong> on a blockchain and make their applications universally accessible.</p>\n</li>\n<li>\n<p>Users interact with applications <strong>without requiring installations, updates, or dependencies</strong> on traditional OS platforms.</p>\n</li>\n<li>\n<p>The operating system itself is <strong>not a software package but a network protocol</strong>, meaning that access to applications is fluid, borderless, and truly open.</p>\n</li>\n<li>\n<p>The storage is partially distributed and partially **InterPlanetary File System (**IPFS) based.</p>\n</li>\n</ul>\n<p>This approach eliminates the need for package managers, compatibility layers, or centralised repositories. Instead of apps being tied to Windows, MacOS, or Linux distributions, they become accessible through decentralised execution environments that are maintained across a distributed network. With smart contract-driven applications, developers no longer need to worry about distribution logistics or maintenance across multiple platforms. Everything is handled in a trustless, automated manner on the blockchain.</p>\n<p>The benefits of a Web3-native OS extend far beyond decentralisation for its own sake. By eliminating dependencies on traditional operating systems and cloud infrastructure, CyberSpace OS drastically reduces costs associated with software development, distribution, and hosting.</p>\n<ul>\n<li>\n<p><strong>Cost Efficiency:</strong> Cloud services are expensive, requiring developers to pay for hosting, maintenance, and bandwidth. With a decentralised network, computing resources can be distributed across nodes, reducing infrastructure costs while ensuring redundancy and uptime.</p>\n</li>\n<li>\n<p><strong>Performance Gains:</strong> Instead of routing traffic through centralised data centers, decentralised execution allows applications to run closer to the end user, reducing latency and improving performance. By utilising Layer 2 scaling solutions, zk-rollups, and distributed computing, CyberSpace OS ensures high efficiency without sacrificing security.</p>\n</li>\n<li>\n<p><strong>Simplified Development:</strong> Developers no longer need to manage different OS versions, dependencies, or update cycles. A single deployment on CyberSpace OS ensures their application is always accessible and up to date.</p>\n</li>\n</ul>\n<h3 id=\"building-towards-a-truly-open-cyberspace\" tabindex=\"-1\"><strong>Building Towards a Truly Open CyberSpace</strong></h3>\n<p>The long-term vision of CyberSpace OS is to create a <strong>self-sustaining digital world</strong>, where users are not just consumers but active participants in an open, decentralised economy. Instead of relying on tech giants for software, storage, and computing, individuals and communities can collectively own and govern the infrastructure they depend on.</p>\n<p>In this world:</p>\n<ul>\n<li>\n<p>Users own their data and identity, free from the control of centralised platforms.</p>\n</li>\n<li>\n<p>Applications run on decentralised networks, ensuring resilience and censorship resistance.</p>\n</li>\n<li>\n<p>The operating system itself is <strong>not an installable product</strong> but an evolving, trustless environment that runs across the blockchain.</p>\n</li>\n</ul>\n<p><img src=\"/images/posts/e95fe58b-83ec-4cb6-9b90-0632fc15ce69.jpeg\" alt=\"\"></p>\n<h3 id=\"the-future-is-protocol-based%2C-not-platform-based\" tabindex=\"-1\"><strong>The Future is Protocol-Based, Not Platform-Based</strong></h3>\n<p>For decades, the digital landscape has been dominated by platforms. Closed systems that dictate how technology is used, who has access, and how data flows. CyberSpace OS proposes an alternative: a world where <strong>protocols</strong> replace platforms, ensuring that applications, services, and digital interactions remain open, permissionless, and universally accessible.</p>\n<p>This is not just an evolution of computing, it‚Äôs a fundamental shift in how we think about technology. By removing artificial dependencies and embracing decentralised, trustless networks, we can build a truly open CyberSpace. One where innovation is unhindered, costs are minimised, and users have complete control over their digital lives.</p>\n<p>The time has come to break free from outdated models and build an operating system for the future. CyberSpace OS is not just another alternative. It is the foundation for a new digital era!</p>\n",
      "date_published": "2025-02-01T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/did/",
      "url": "https://blog.anirudha.dev/did/",
      "title": "Decentralised Identity",
      "content_html": "<p>As the digital world transitions to Web3, decentralisation promises to redefine how we interact online securely, privately, and without intermediaries. At the heart of this revolution lies <strong>Decentralised Identity (DID)</strong>, a technology aimed at giving users complete control over their identity and interactions in the decentralised ecosystem. Let‚Äôs explore the world of DIDs and the impact it can have on our day-to-day life.</p>\n<p>In the Web2 paradigm, identity is centralised. Platforms like Google, Facebook, and Apple dominate authentication and identity management. A typical Web2 authentication flow involves:</p>\n<ol>\n<li>\n<p><strong>User Credential Storage:</strong> Users create accounts on each platform, storing sensitive information like passwords and personal data.</p>\n</li>\n<li>\n<p><strong>Centralised Control:</strong> Platforms manage, validate, and store user identities, often sharing data with third parties.</p>\n</li>\n<li>\n<p><strong>Security and Privacy Risks:</strong> These centralised models are prone to breaches, data misuse, and lack transparency.</p>\n</li>\n</ol>\n<p>This fragmented and insecure approach calls for a shift toward a decentralised and user-controlled identity system.</p>\n<h1 id=\"what-is-did%3F\" tabindex=\"-1\"><strong>What is DID?</strong></h1>\n<p>DID is a self-sovereign identity system that allows users to create and control their identity without relying on centralised entities. A DID is a unique identifier tied to a cryptographic key, resolving to a DID Document stored on decentralised networks.</p>\n<p><img src=\"https://www.w3.org/TR/did-core/diagrams/parts-of-a-did.svg\" alt=\"\"></p>\n<p>For example:</p>\n<ul>\n<li>\n<p>A DID might look like <code>did:ethr:0x1234...abcd</code>.</p>\n</li>\n<li>\n<p>It is portable, privacy-preserving, and interoperable across platforms and chains.</p>\n</li>\n</ul>\n<p><img src=\"/images/posts/1adfb744-0c51-4627-8344-af0edcaad35b.webp\" alt=\"\"></p>\n<p>DIDs significantly improve user experience by addressing critical pain points.</p>\n<ol>\n<li>\n<p><strong>Unified Identity Across Platforms:</strong> A single DID replaces the need for multiple accounts. Users can log in to various apps using the same identity.</p>\n</li>\n<li>\n<p><strong>Enhanced Privacy:</strong> DIDs minimise data sharing. Users can verify their identity without exposing personal information using verifiable credentials.</p>\n</li>\n<li>\n<p><strong>True Ownership:</strong> Unlike centralised accounts, users own their DID, data, and assets.</p>\n</li>\n<li>\n<p><strong>Cross-Chain Interoperability:</strong> DIDs work seamlessly across blockchains, enabling a consistent user experience.</p>\n</li>\n<li>\n<p><strong>Gasless Transactions:</strong> Relayers linked to a DID can abstract gas fees, improving accessibility.</p>\n</li>\n</ol>\n<p><img src=\"/images/posts/15389678-f607-4b53-b129-42af53ee15a7.webp\" alt=\"\"></p>\n<h1 id=\"creating-and-using-a-did\" tabindex=\"-1\">Creating and Using a DID</h1>\n<p>Users connect their Ethereum wallet (e.g., MetaMask) to a service that registers a DID, like a smart contract-based DID Registry.</p>\n<p>Here‚Äôs a basic smart contract for an Ethereum-based DID Registry:</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token comment\">// SPDX-License-Identifier: MIT</span><br><span class=\"token keyword\">pragma</span> <span class=\"token keyword\">solidity</span> <span class=\"token operator\">^</span><span class=\"token version number\">0.8.0</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">contract</span> <span class=\"token class-name\">DIDRegistry</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">mapping</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">private</span> dids<span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">event</span> <span class=\"token function\">DIDRegistered</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token keyword\">indexed</span> user<span class=\"token punctuation\">,</span> <span class=\"token builtin\">string</span> did<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token keyword\">function</span> <span class=\"token function\">registerDID</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">string</span> <span class=\"token keyword\">memory</span> _did<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">bytes</span><span class=\"token punctuation\">(</span>dids<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>length <span class=\"token operator\">==</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"DID already exists\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        dids<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> _did<span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">emit</span> <span class=\"token function\">DIDRegistered</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">,</span> _did<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">function</span> <span class=\"token function\">getDID</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> _user<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">view</span> <span class=\"token keyword\">returns</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">string</span> <span class=\"token keyword\">memory</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">return</span> dids<span class=\"token punctuation\">[</span>_user<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>Applications resolve your DID to verify your identity and retrieve associated credentials, ensuring secure, password-free login.</p>\n<p>Your DID‚Äôs associated data, like profile information, is stored on decentralised networks such as Ceramic or IPFS, ensuring ownership and privacy.</p>\n<p>Imagine a gaming app, that integrates DID for seamless user experiences:</p>\n<ol>\n<li>\n<p><strong>Onboarding:</strong> Users log in with their Ethereum wallet, and the app generates their DID (<code>did:ethr:0x123...</code>).</p>\n</li>\n<li>\n<p><strong>Cross-Platform Interactions:</strong> Achievements earned in one game are verifiable credentials usable across other games.</p>\n</li>\n<li>\n<p><strong>Social Features:</strong> Users add friends via their DID or ENS name (e.g., <code>GamerX.eth</code>) and engage in encrypted chats using DIDComm.</p>\n</li>\n<li>\n<p><strong>Gasless Play:</strong> The app abstracts gas fees, ensuring smooth gameplay.</p>\n</li>\n</ol>\n<h2 id=\"ens-and-.eth-domains%3A-simplifying-did\" tabindex=\"-1\"><strong>ENS and .eth Domains: Simplifying DID</strong></h2>\n<p><strong>Ethereum Name Service (ENS)</strong> bridges DIDs and user-friendliness. ENS translates long wallet addresses or DIDs into readable names like <code>john.eth</code>.</p>\n<ul>\n<li>\n<p><strong>What .eth Means:</strong> It‚Äôs a human-readable domain linked to a DID or wallet.</p>\n</li>\n<li>\n<p><strong>How It Works:</strong> ENS uses smart contracts to map <code>john.eth</code> to an Ethereum address, which can be further linked to a DID for interoperability.</p>\n</li>\n</ul>\n<h2 id=\"evolution-of-dids\" tabindex=\"-1\"><strong>Evolution of DIDs</strong></h2>\n<p>DIDs make interacting with multiple blockchains simple by providing a unified identity layer. Regardless of whether an app runs on Ethereum, Polygon, or another chain, users only need one DID.</p>\n<p><strong>Example Use Case:</strong><br>\nIn a gaming app, a DID enables:</p>\n<ul>\n<li>\n<p>Asset purchases on Ethereum.</p>\n</li>\n<li>\n<p>Gameplay interactions on Polygon.</p>\n</li>\n<li>\n<p>A unified user profile across both chains.</p>\n</li>\n</ul>\n<p><img src=\"https://www.w3.org/TR/did-core/diagrams/did_detailed_architecture_overview.svg\" alt=\"\"></p>\n<p>Account abstraction turns wallets into programmable entities. When paired with a DID, users gain access to features like:</p>\n<ul>\n<li>\n<p><strong>Gasless Transactions</strong> via relayer services.</p>\n</li>\n<li>\n<p><strong>Custom Authentication</strong> with biometrics or social recovery.</p>\n</li>\n<li>\n<p><strong>Programmable Wallets</strong> tied to their DID for automated actions.</p>\n</li>\n</ul>\n<p>Several active works going on in the field of DIDs:</p>\n<ol>\n<li>\n<p><strong>W3C Standards:</strong> Ongoing efforts to standardise DID and Verifiable Credentials. <a href=\"https://www.w3.org/TR/did-core/\">Read more here.</a></p>\n</li>\n<li>\n<p><strong>Layer 2 Scaling:</strong> Optimising DID operations with zk-Rollups and optimistic rollups.</p>\n</li>\n<li>\n<p><strong>Social Recovery Models:</strong> Community-based wallet recovery mechanisms tied to DIDs.</p>\n</li>\n<li>\n<p><strong>Cross-Chain Abstraction:</strong> Projects like Axelar and LayerZero are exploring DID integration for seamless multichain interoperability.</p>\n</li>\n</ol>\n<h3 id=\"challenges%3A\" tabindex=\"-1\"><strong>Challenges:</strong></h3>\n<ol>\n<li>\n<p><strong>Adoption:</strong> Many apps still rely on centralised account systems.</p>\n</li>\n<li>\n<p><strong>Standardisation:</strong> Consistent DID implementation across platforms and chains is essential.</p>\n</li>\n</ol>\n<p><img src=\"/images/posts/75899c94-d88d-4b11-b37b-77c66aff285f.webp\" alt=\"\"></p>\n<p>As Web3 evolves, DIDs will play a pivotal role in bridging the gap between user experience and decentralisation. By abstracting away the complexities of blockchain interactions, DIDs empower users with control over their identities, assets, and data while enabling cross-platform interoperability.</p>\n<p>While DID is transformative, its adoption depends on achieving a balance between technical complexity and user experience. The goal is a Web3 ecosystem where users can easily create, use, and manage their decentralised identities without worrying about the underlying technology, a future where identity is truly in the hands of the user.</p>\n",
      "date_published": "2025-01-19T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/liquidity-pool/",
      "url": "https://blog.anirudha.dev/liquidity-pool/",
      "title": "Understanding Liquidity Pools in Web3",
      "content_html": "<p>Liquidity pools in the context of traditional finance evolved over centuries, rooted in mechanisms designed to ensure that buyers and sellers can transact with minimal price volatility and at the right time. These mechanisms laid the foundation for the more modern, decentralized liquidity pools found in today‚Äôs digital finance (DeFi). In the early stages of financial markets, liquidity was primarily provided by market makers, typically wealthy individuals or institutions, who were willing to hold inventories of assets (stocks, bonds, commodities) and facilitate trades by ensuring there were always both buyers and sellers for each asset. In the 17th century, the <a href=\"https://en.wikipedia.org/wiki/Euronext_Amsterdam\"><strong>Amsterdam Stock Exchange</strong></a> (established in 1602) was one of the first venues where market makers helped provide liquidity by buying and selling stocks of the <strong>Dutch East India Company</strong>. This early form of liquidity provision was crucial in establishing stock trading as a viable form of investment. As financial markets grew throughout the 20th century, exchanges like the <strong>New York Stock Exchange (NYSE)</strong> (founded in 1792) and the <strong>London Stock Exchange (LSE)</strong> (founded in 1801) became central hubs for securities trading. These exchanges facilitated liquidity by creating centralized venues where buyers and sellers could meet.</p>\n<p>During the 1960s to 1980s, institutional investors such as mutual funds, pension funds, and hedge funds began playing a more significant role in managing large pools of capital. These funds were used to buy and sell a variety of assets, providing additional liquidity to financial markets. <strong>Mutual funds</strong> and <strong>Exchange-Traded Funds (ETFs)</strong>, for example, pooled capital from individual investors and made it easier for smaller investors to access large-scale liquidity. The creation of the <strong>SPDR S&amp;P 500 ETF</strong> in 1993 by State Street Global Advisors allowed institutional investors to pool their capital and give individual investors access to liquidity through the trading of ETF shares. In the 1970s, <strong>money market funds</strong> emerged as a way for investors to earn interest while providing liquidity to short-term debt markets. These funds pooled capital from many individual investors and invested in low-risk, short-term debt instruments like Treasury bills, certificates of deposit (CDs), and commercial paper. The <strong>Vanguard Prime Money Market Fund</strong>, launched in the 1970s, became one of the largest money market funds, pooling capital and providing liquidity to short-term debt markets.</p>\n<p>In the 1980s and beyond, derivatives markets like <strong>futures</strong>, <strong>options</strong>, and <strong>swaps</strong> created sophisticated ways to hedge risks and add liquidity to underlying assets. These markets allowed traders to take positions on assets without directly buying or selling the asset itself, increasing liquidity and providing more ways to trade. The <strong>Chicago Mercantile Exchange (CME)</strong> became a major hub for the trading of derivatives, offering futures contracts on commodities, financial instruments, and even stock indexes, which provided added liquidity and price discovery. The 2008 global financial crisis highlighted the importance of liquidity in maintaining financial stability. Central banks stepped in to provide liquidity to the banking system through <strong>quantitative easing (QE)</strong> and other monetary policy tools. By buying assets such as government bonds, central banks created ‚Äúliquidity pools‚Äù to stabilize financial markets and prevent a collapse of the banking system. The <strong>U.S. Federal Reserve</strong> implemented <strong>QE</strong> to inject liquidity into the economy by purchasing U.S. Treasury bonds and mortgage-backed securities (MBS). This action helped stabilize the financial system and provided banks with more liquidity to operate.</p>\n<p><img src=\"/images/posts/858bf72f-3446-48b2-b53d-7353f5795a3e.png\" alt=\"\"></p>\n<p>A liquidity pool in Web3 refers to a collection of funds locked into a smart contract to facilitate decentralized trading, lending, and other financial activities on blockchain networks. It‚Äôs a foundational concept in decentralized finance (DeFi), enabling platforms to function without relying on traditional intermediaries like banks or centralized exchanges.</p>\n<p>At its core, a liquidity pool provides liquidity (available assets) for decentralized exchanges (DEXs) or other DeFi protocols, allowing users to trade assets efficiently. Popularized by platforms like Uniswap and Balancer, liquidity pools have become integral to the success of the decentralized ecosystem.</p>\n<p>Liquidity pools eliminate the need for traditional financial intermediaries like banks, brokers, or centralized exchanges. Instead, they use smart contracts to automate transactions and ensure trustless operations. This reduces costs, speeds up processes, and democratizes access to financial tools.</p>\n<ul>\n<li>\n<p><strong>Decentralized Exchanges (DEXs)</strong>: Platforms like Uniswap rely on liquidity pools for trading, replacing the traditional order book model with an automated market maker (AMM).</p>\n</li>\n<li>\n<p><strong>Trustless Transactions</strong>: Users can trade directly from their wallets without trusting a centralized entity with custody of their funds.</p>\n</li>\n</ul>\n<p>Liquidity pools enable 24/7 trading without the constraints of traditional market hours. Unlike centralized systems, which can experience downtime due to technical or operational issues, DeFi platforms operate as long as the blockchain they‚Äôre built on is running. This ensures constant liquidity and access for users worldwide.</p>\n<p>Anyone with internet access and compatible assets can participate in liquidity pools, whether as a trader, liquidity provider, or investor. This inclusivity empowers individuals in regions with limited access to traditional financial systems, fostering global financial inclusion. Liquidity pools provide access to global markets for individuals who may lack bank accounts but have access to cryptocurrency. They allow seamless trading and liquidity provisioning across borders without additional fees or delays.</p>\n<p><img src=\"/images/posts/aadb8770-fa8b-4f6c-a34a-3e7f03eee902.png\" alt=\"\"></p>\n<p>Traditional exchanges rely on order books where buyers and sellers must match their orders. This process can lead to delays, especially for low-volume assets. Liquidity pools eliminate this dependency by enabling instant trades based on the pool‚Äôs available liquidity and AMM pricing model. Even obscure tokens with limited trading activity can find liquidity through pools, fostering a more vibrant and diverse market.</p>\n<p>Liquidity pools offer opportunities for users to earn passive income by becoming liquidity providers (LPs). In return for supplying assets to the pool, LPs earn a share of the transaction fees and, in many cases, additional rewards in the form of governance or incentive tokens.</p>\n<ul>\n<li>\n<p><strong>Yield Farming</strong>: Many DeFi platforms introduce farming programs where LPs can stake their LP tokens to earn even higher rewards.</p>\n</li>\n<li>\n<p><strong>Compounding Rewards</strong>: By reinvesting earnings, LPs can maximize their returns over time.</p>\n</li>\n</ul>\n<p><img src=\"https://m.foolcdn.com/media/dubs/images/yield-farming-infographic.width-600.png\" alt=\"\"></p>\n<p>In traditional finance, centralized entities or whales (large holders of assets) can manipulate markets by controlling liquidity. Liquidity pools, governed by smart contracts and often decentralized communities, mitigate this risk by spreading liquidity among many participants and operating transparently.</p>\n<p>Liquidity pools enable innovative financial products and services that were not feasible in traditional systems, such as:</p>\n<ul>\n<li>\n<p><strong>Token Swaps</strong>: Instant swapping between tokens without needing a counterpart.</p>\n</li>\n<li>\n<p><strong>Synthetic Assets</strong>: Creating and trading assets that mirror real-world commodities, stocks, or other financial instruments.</p>\n</li>\n<li>\n<p><strong>Flash Loans</strong>: Borrowing assets instantly without collateral, provided the loan is repaid within the same transaction block.</p>\n</li>\n</ul>\n<p>Liquidity pools help bootstrap new projects and tokens by providing initial liquidity, enabling seamless trading and adoption from day one. Projects can create liquidity pools to ensure users can easily buy and sell their tokens, fostering early adoption. Many platforms distribute governance tokens to LPs, encouraging decentralized decision-making and long-term community involvement. In centralized systems, trading and financial activities can be restricted by governments or institutions. Liquidity pools, hosted on decentralized blockchains, are resistant to censorship, ensuring that users retain their financial sovereignty. Liquidity pools increase the usability of tokens within an ecosystem. By locking tokens in pools, they gain immediate utility as tradeable and yield-generating assets. Even highly volatile tokens find utility and stability when paired in liquidity pools, as they facilitate trading and incentivize holders to provide liquidity.</p>\n<h2 id=\"how-does-it-work%3F\" tabindex=\"-1\">How does it work?</h2>\n<p>A liquidity pool typically consists of two assets paired together (e.g., ETH/USDT). These pools operate using Automated Market Makers (AMMs), which determine the price of assets within the pool based on supply and demand using mathematical formulas.</p>\n<h4 id=\"example-of-amm-formula%3A\" tabindex=\"-1\">Example of AMM Formula:</h4>\n<p>One common formula is the constant product formula:</p>\n<p>$$x‚ãÖy=k$$</p>\n<p>Where:</p>\n<ul>\n<li>\n<p><em><strong>x</strong></em> and <em><strong>y</strong></em> are the quantities of the two assets in the pool.</p>\n</li>\n<li>\n<p><em><strong>k</strong></em> is a constant.</p>\n</li>\n</ul>\n<p>When a user trades, the AMM adjusts the asset quantities, ensuring the product <em><strong>k</strong></em> remains constant. This model ensures liquidity at any price point.</p>\n<h4 id=\"steps-for-trading%3A\" tabindex=\"-1\">Steps for Trading:</h4>\n<ol>\n<li>\n<p>A user sends one asset (e.g., ETH) to the pool.</p>\n</li>\n<li>\n<p>The pool provides the equivalent value of the other asset (e.g., USDT) based on the AMM formula.</p>\n</li>\n<li>\n<p>The trade is executed instantly via the smart contract.</p>\n</li>\n</ol>\n<h3 id=\"starting-and-participating-in-a-liquidity-pool\" tabindex=\"-1\">Starting and Participating in a Liquidity Pool</h3>\n<ol>\n<li>\n<p><strong>Starting a Pool</strong>:</p>\n<ul>\n<li>\n<p>Identify a platform supporting liquidity pools (e.g., Uniswap, PancakeSwap, Balancer).</p>\n</li>\n<li>\n<p>Choose a pair of assets and decide the initial liquidity ratio.</p>\n</li>\n<li>\n<p>Deposit the assets into the smart contract to initialize the pool.</p>\n</li>\n<li>\n<p>Pay the associated gas fees for the transaction.</p>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>Participating in an Existing Pool</strong>:</p>\n<ul>\n<li>\n<p>Select a pool and review its metrics (e.g., volume, fees, and liquidity).</p>\n</li>\n<li>\n<p>Deposit an equal value of the two assets into the pool.</p>\n</li>\n<li>\n<p>Receive liquidity provider (LP) tokens, which represent your share of the pool.</p>\n</li>\n</ul>\n</li>\n</ol>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:1400/1*PMwLT1BZstsRQ4baV-eMgw.png\" alt=\"\"></p>\n<h2 id=\"risks-associated-with-liquidity-pools\" tabindex=\"-1\">Risks Associated with Liquidity Pools</h2>\n<p>While liquidity pools offer significant opportunities, they also come with inherent risks. Understanding these risks is crucial for anyone looking to participate as a trader, investor, or liquidity provider (LP).</p>\n<h3 id=\"impermanent-loss\" tabindex=\"-1\"><strong>Impermanent Loss</strong></h3>\n<p>Impermanent loss occurs when the price of the assets in a liquidity pool changes relative to their price when you initially deposited them. The loss is ‚Äúimpermanent‚Äù because it only materializes if you withdraw your assets before the prices revert. Suppose you deposit 1 ETH and 100 USDT into a pool (assuming ETH is priced at $100). If ETH‚Äôs price rises to $200, the AMM adjusts the pool‚Äôs asset ratio to maintain balance. When you withdraw, you might receive less ETH than expected, and the value of your holdings may be lower than if you had simply held the assets separately.</p>\n<ul>\n<li>\n<p><strong>Who is Most Affected?</strong>:</p>\n<ul>\n<li>\n<p>LPs in volatile asset pairs are more susceptible.</p>\n</li>\n<li>\n<p>Pools with stablecoins or correlated assets (e.g., USDC/DAI) experience minimal impermanent loss.</p>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>Mitigation</strong>:</p>\n<ul>\n<li>\n<p>Opt for pools with stable or correlated assets.</p>\n</li>\n<li>\n<p>Monitor asset prices and withdraw strategically when the market stabilizes.</p>\n</li>\n</ul>\n<h3 id=\"smart-contract-risks\" tabindex=\"-1\"><strong>Smart Contract Risks</strong></h3>\n<p>Liquidity pools rely on smart contracts, which are vulnerable to bugs, coding errors, or malicious exploits. A single vulnerability can lead to a complete loss of funds in the pool. For example, exploiters can use large, instant loans to manipulate the pool‚Äôs pricing algorithm, draining assets called <strong>Flash Loan Attack</strong>. Another classic vulnerability called <strong>reentrancy attack</strong> where an attacker repeatedly calls a function before its initial execution is completed. In 2020, the Harvest Finance hack exploited an imperfection in the protocol, leading to a loss of over $24 million.</p>\n<p><strong>Mitigation</strong>:</p>\n<ul>\n<li>\n<p>Participate in pools from reputable platforms that undergo regular audits.</p>\n</li>\n<li>\n<p>Diversify your liquidity across multiple pools to reduce exposure.</p>\n</li>\n</ul>\n<h3 id=\"slippage-and-price-impact\" tabindex=\"-1\"><strong>Slippage and Price Impact</strong></h3>\n<p>Large trades can cause significant changes in the price of assets within the pool. This is especially prevalent in pools with low liquidity.</p>\n<ul>\n<li>\n<p><strong>Slippage</strong>: The difference between the expected price of a trade and the actual price executed.</p>\n</li>\n<li>\n<p><strong>Price Impact</strong>: For large trades, the AMM may shift the pool‚Äôs asset ratio significantly, causing unfavorable trading conditions.</p>\n</li>\n</ul>\n<p><strong>Mitigation</strong>:</p>\n<ul>\n<li>\n<p>Trade in high-liquidity pools where slippage is minimal.</p>\n</li>\n<li>\n<p>Break large trades into smaller chunks to reduce price impact.</p>\n</li>\n</ul>\n<h3 id=\"market-volatility-risks\" tabindex=\"-1\"><strong>Market Volatility Risks</strong></h3>\n<p>Crypto markets are notoriously volatile, and sudden price swings can impact the value of your pool holdings or trading activities. A sudden market crash might cause users to withdraw funds all together, depleting liquidity and leading to higher slippage for trades.</p>\n<p><strong>Mitigation</strong>:</p>\n<ul>\n<li>\n<p>Choose pools with stable or less volatile assets if you‚Äôre risk-averse.</p>\n</li>\n<li>\n<p>Keep a close eye on market conditions and adjust your strategy accordingly.</p>\n</li>\n</ul>\n<h3 id=\"regulatory-risks\" tabindex=\"-1\"><strong>Regulatory Risks</strong></h3>\n<p>Regulatory frameworks for DeFi are still evolving. Participating in liquidity pools can expose users to legal and compliance risks, especially in regions with unclear or restrictive crypto regulations.</p>\n<ul>\n<li>\n<p><strong>Potential Issues</strong>:</p>\n<ul>\n<li>\n<p>KYC/AML compliance requirements may conflict with the anonymous nature of DeFi.</p>\n</li>\n<li>\n<p>New laws could classify LP tokens or governance tokens as securities, subjecting participants to additional legal obligations.</p>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>Jurisdictional Risks</strong>:</p>\n<ul>\n<li>Some countries may outright ban or heavily regulate DeFi platforms, leaving users in legal limbo.</li>\n</ul>\n</li>\n</ul>\n<p><strong>Mitigation</strong>:</p>\n<ul>\n<li>\n<p>Stay informed about the regulations in your jurisdiction.</p>\n</li>\n<li>\n<p>Consider using platforms that comply with regional laws and offer transparency.</p>\n</li>\n</ul>\n<h3 id=\"liquidity-mining-risks\" tabindex=\"-1\"><strong>Liquidity Mining Risks</strong></h3>\n<p>Liquidity mining, where platforms offer extra rewards (e.g., governance tokens) to incentivize LPs, can sometimes lead to unsustainable economic models.</p>\n<ul>\n<li>\n<p><strong>Risks</strong>:</p>\n<ul>\n<li>\n<p>High rewards may attract short-term participants, leading to ‚Äúfarm and dump‚Äù behavior where tokens lose value rapidly.</p>\n</li>\n<li>\n<p>Protocols offering unrealistic returns may collapse, leaving LPs with worthless assets.</p>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>Mitigation</strong>:</p>\n<ul>\n<li>\n<p>Focus on protocols with sustainable reward models.</p>\n</li>\n<li>\n<p>Diversify your positions across different pools and platforms.</p>\n</li>\n</ul>\n<h3 id=\"governance-and-protocol-risks\" tabindex=\"-1\"><strong>Governance and Protocol Risks</strong></h3>\n<p>DeFi platforms often allow governance token holders to vote on changes. While this promotes decentralization, it can also introduce risks.</p>\n<ul>\n<li>\n<p><strong>Potential Issues</strong>:</p>\n<ul>\n<li>\n<p>Governance takeovers: A whale or coordinated group could gain control of the protocol and implement self-serving changes.</p>\n</li>\n<li>\n<p>Poor decision-making: Ineffective governance decisions may lead to changes that negatively impact liquidity providers or traders.</p>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>Mitigation</strong>:</p>\n<ul>\n<li>\n<p>Participate in governance if you hold tokens.</p>\n</li>\n<li>\n<p>Choose platforms with robust and active communities.</p>\n</li>\n</ul>\n<h3 id=\"platform-specific-risks\" tabindex=\"-1\"><strong>Platform-Specific Risks</strong></h3>\n<p>Every DeFi platform operates differently, and some may have unique risks.</p>\n<ul>\n<li>\n<p><strong>Unforeseen Risks</strong>:</p>\n<ul>\n<li>\n<p>Algorithmic errors in the AMM formula.</p>\n</li>\n<li>\n<p>Failures in price oracles leading to incorrect pricing.</p>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>Dependency on Blockchain</strong>:</p>\n<ul>\n<li>Congestion or high gas fees on the underlying blockchain (e.g., Ethereum) can make transactions prohibitively expensive.</li>\n</ul>\n</li>\n</ul>\n<p><strong>Mitigation</strong>:</p>\n<ul>\n<li>\n<p>Research the platform thoroughly before depositing assets.</p>\n</li>\n<li>\n<p>Prefer platforms with a proven track record and robust infrastructure.</p>\n</li>\n</ul>\n<h3 id=\"rug-pulls-and-exit-scams\" tabindex=\"-1\"><strong>Rug Pulls and Exit Scams</strong></h3>\n<p>Rug pulls occur when the creators of a liquidity pool or DeFi project withdraw all liquidity or funds, leaving participants with worthless assets. Unscrupulous developers launch a pool with enticing rewards, then drain the funds once liquidity is locked in.</p>\n<ul>\n<li>\n<p><strong>Signs of Potential Rug Pulls</strong>:</p>\n<ul>\n<li>\n<p>Anonymous or unverifiable team members.</p>\n</li>\n<li>\n<p>Lack of audits or transparency about smart contracts.</p>\n</li>\n<li>\n<p>Lack of project expansion and clear roadmap ahead.</p>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>Mitigation</strong>:</p>\n<ul>\n<li>\n<p>Avoid newly launched or unaudited projects.</p>\n</li>\n<li>\n<p>Choose established platforms with strong reputations.</p>\n</li>\n</ul>\n<h2 id=\"governance-of-liquidity-pools\" tabindex=\"-1\">Governance of Liquidity Pools</h2>\n<p>Governance of liquidity pools is crucial for maintaining the integrity, functionality, and adaptability of DeFi ecosystems. By balancing decentralization with effective decision-making structures, liquidity pools can ensure sustainable growth while empowering their communities to shape their future. As such, it‚Äôs a much bigger topic to be covered in this article, so I‚Äôll probably take it up in a following article. Let‚Äôs cover a few case studies in the meantime:</p>\n<p><strong>Uniswap :</strong> Uses UNI tokens for governance, allowing the community to vote on key protocol upgrades and treasury allocations. A highly decentralized model, but participation rates remain a concern.</p>\n<p><img src=\"https://docs.uniswap.org/assets/images/anatomy-d22fb7ab46013a1195f086ee672468c7.jpg\" alt=\"\"></p>\n<p><strong>Balancer</strong>: Balancer‚Äôs governance allows LPs to vote on pool parameters, incentivization strategies, and protocol improvements. Known for its innovative approach to managing multi-asset pools.</p>\n<p><img src=\"/images/posts/91031d3f-e6fa-49b7-99b2-671bc4d52063.jpeg\" alt=\"\"></p>\n<p><strong>SushiSwap</strong>: SushiSwap‚Äôs governance is notable for its community-driven decision-making and frequent use of governance tokens to shape the protocol‚Äôs future.</p>\n<p><img src=\"/images/posts/4c8f7a59-b477-47b0-b951-6e4fdd539701.png\" alt=\"\"></p>\n<h2 id=\"regulations-and-legalities\" tabindex=\"-1\">Regulations and Legalities</h2>\n<p><strong>KYC/AML Compliance</strong>: Some jurisdictions may require Know Your Customer (KYC) and Anti-Money Laundering (AML) measures for liquidity providers and DeFi protocols.</p>\n<p><strong>Taxation</strong>: Earnings from liquidity pools are often classified as taxable income or capital gains.</p>\n<p><strong>Securities Laws</strong>: In certain regions, LP tokens or governance tokens might be classified as securities, subjecting them to stringent regulations.</p>\n<p><strong>Consumer Protection</strong>: Protocols must ensure transparency about risks to protect participants from fraud or misinformation.</p>\n<h2 id=\"use-cases-of-liquidity-pools\" tabindex=\"-1\">Use Cases of Liquidity Pools</h2>\n<h3 id=\"decentralized-exchanges-(dexs)\" tabindex=\"-1\"><strong>Decentralized Exchanges (DEXs)</strong></h3>\n<p>Liquidity pools power automated market makers (AMMs), which are the backbone of decentralized exchanges. Instead of relying on traditional order books, AMMs use liquidity pools to execute trades based on mathematical formulas.</p>\n<p><strong>Uniswap</strong> is one of the most popular DEXs, utilizing liquidity pools for trading various token pairs like ETH/USDT or DAI/USDC. Traders benefit from continuous liquidity, while liquidity providers earn a share of transaction fees. Uniswap‚Äôs innovative AMM model sparked the growth of DeFi and inspired similar platforms. Similar to Uniswap, <strong>Sushiswap</strong> adds features like yield farming and governance participation for liquidity providers. SushiSwap incentivizes liquidity providers through its native token, SUSHI.</p>\n<h3 id=\"yield-farming-and-liquidity-mining\" tabindex=\"-1\"><strong>Yield Farming and Liquidity Mining</strong></h3>\n<p>Liquidity pools enable yield farming, where participants earn rewards by staking their assets in pools. Liquidity mining further incentivizes users by distributing governance tokens to liquidity providers.</p>\n<p><strong>PancakeSwap</strong>, a leading DEX on the Binance Smart Chain, rewards LPs with CAKE tokens. Users can ‚Äúfarm‚Äù additional rewards by staking LP tokens in Syrup Pools, amplifying their earnings. <strong>Curve Finance</strong> specializes in stablecoin pools, allowing users to earn yields by providing liquidity to pairs like USDC/DAI or USDT/USDC. Curve‚Äôs CRV token is distributed as a reward, with higher rewards for users who lock their tokens for governance participation.</p>\n<h3 id=\"cross-chain-swaps\" tabindex=\"-1\"><strong>Cross-Chain Swaps</strong></h3>\n<p>Liquidity pools enable seamless asset transfers across different blockchains, breaking down silos between ecosystems.</p>\n<p><strong>ThorChain</strong> emerged as a cross-chain liquidity protocol that allows users to swap assets like BTC, ETH, and BNB without relying on centralized exchanges. Liquidity pools facilitate swaps by using native assets on both chains, ensuring trustless and efficient transactions. <strong>Multichain (formerly AnySwap)</strong> offers liquidity pools to bridge assets across multiple blockchains, including Ethereum, Binance Smart Chain, and Avalanche.</p>\n<h3 id=\"synthetic-asset-creation\" tabindex=\"-1\"><strong>Synthetic Asset Creation</strong></h3>\n<p>Liquidity pools are used to back synthetic assets, which are tokenized representations of real-world assets like stocks, commodities, or indices.</p>\n<p><strong>Synthetix</strong> enables the creation of synthetic assets (Synths) like sUSD (synthetic USD) and sBTC (synthetic Bitcoin). Liquidity pools ensure the collateralization of these Synths, allowing users to trade them on decentralized platforms. <strong>Mirror Protocol</strong> allows users to mint and trade synthetic assets that track the price of real-world stocks, such as mTSLA (mirrored Tesla). Liquidity pools enable trading and collateralization, providing exposure to traditional markets in a decentralized manner.</p>\n<h3 id=\"lending-and-borrowing-protocols\" tabindex=\"-1\"><strong>Lending and Borrowing Protocols</strong></h3>\n<p>Liquidity pools also support lending and borrowing platforms, where users deposit assets to earn interest or borrow against their deposits.</p>\n<p><strong>Aave</strong> operates liquidity pools where users can lend assets like ETH, DAI, or USDC and earn interest. Borrowers can use their deposits as collateral to borrow other assets, creating a decentralized credit market. <strong>Compound</strong> allows users to supply assets into liquidity pools and earn COMP tokens as rewards. The protocol dynamically adjusts interest rates based on supply and demand in the pool.</p>\n<h3 id=\"token-launchpads-and-initial-dex-offerings-(idos)\" tabindex=\"-1\"><strong>Token Launchpads and Initial DEX Offerings (IDOs)</strong></h3>\n<p>Liquidity pools play a critical role in token launchpads, where new projects launch their tokens and ensure liquidity from day one. <strong>Balancer</strong>‚Äôs liquidity pools are used for token launch events, offering flexible weight configurations for new tokens and stable assets. Projects can set up weighted pools to control price discovery during token launches. <strong>Polkastarter</strong> uses liquidity pools for IDOs, enabling projects to raise funds while providing liquidity for their tokens.</p>\n<h3 id=\"stablecoin-stability-and-arbitrage\" tabindex=\"-1\"><strong>Stablecoin Stability and Arbitrage</strong></h3>\n<p>Liquidity pools help maintain the stability of stablecoins by facilitating arbitrage opportunities and reducing price deviations.</p>\n<p><strong>Curve Finance</strong>‚Äôs stablecoin-focused liquidity pools minimize slippage and impermanent loss, making them ideal for stablecoin trades. Arbitrage traders help keep stablecoin prices aligned across platforms by leveraging Curve‚Äôs efficient pools. <strong>MakerDAO (DAI)</strong>‚Äôs liquidity pools on platforms like Uniswap and Curve ensure stable and efficient trading, helping maintain its peg to the US dollar.</p>\n<h3 id=\"revenue-generation-for-daos-and-protocols\" tabindex=\"-1\"><strong>Revenue Generation for DAOs and Protocols</strong></h3>\n<p>Protocols can create liquidity pools to generate revenue for their treasuries, ensuring sustainable growth and development.</p>\n<p><strong>Yearn Finance</strong>‚Äôs Vaults use liquidity pools to optimize yield farming strategies, generating revenue for the protocol and its users. Governance ensures that funds are reinvested in development and user incentives. <strong>Bancor</strong>‚Äôs liquidity pools not only generate fees but also protect LPs from impermanent loss through its single-sided staking mechanism.</p>\n<h3 id=\"insurance-in-defi\" tabindex=\"-1\"><strong>Insurance in DeFi</strong></h3>\n<p>Liquidity pools are being used to back decentralized insurance protocols, where participants earn rewards by providing collateral for insurance claims.</p>\n<p><strong>Nexus Mutual</strong> uses liquidity pools to underwrite insurance policies for smart contract risks. Liquidity providers earn returns from premiums paid by users seeking coverage. <strong>InsurAce</strong> pools provide coverage for risks like smart contract failures, stablecoin de-pegging, and more, offering diversified risk management options.</p>\n<h3 id=\"gaming-and-nfts\" tabindex=\"-1\"><strong>Gaming and NFTs</strong></h3>\n<p>Liquidity pools are now being integrated into gaming and NFT platforms, enabling new financial models within these ecosystems.</p>\n<p><strong>Axie Infinity</strong>‚Äôs liquidity pools allow users to trade <strong>AXS</strong> and <strong>SLP</strong> tokens, which are core to the game‚Äôs economy. Liquidity providers earn fees from the vibrant trading activity driven by the game‚Äôs popularity. <strong>Rarible</strong> pools facilitate liquidity for trading NFTs, ensuring users can buy and sell digital art seamlessly. The protocol rewards participants with <strong>RARI</strong> tokens for providing liquidity.</p>\n<h2 id=\"variations-of-liquidity-pools\" tabindex=\"-1\">Variations of Liquidity Pools</h2>\n<p>Liquidity pools have evolved beyond the basic structures used in early decentralized finance (DeFi) protocols. Over time, developers and researchers have introduced various innovations, tailoring liquidity pools to specific use cases, improving capital efficiency, and reducing risks.</p>\n<ul>\n<li>\n<p><strong>Dynamic Pools</strong>: Pools like Balancer allow more than two assets and adjust the weight of each asset dynamically.</p>\n</li>\n<li>\n<p><strong>Stablecoin Pools</strong>: Pools such as Curve optimize for minimal slippage when trading stablecoins.</p>\n</li>\n<li>\n<p><strong>Incentivized Pools</strong>: Platforms offer additional token rewards to attract liquidity providers.</p>\n</li>\n</ul>\n<p>The variations of liquidity pools highlight the rapid innovation in the DeFi space. From simple single-asset pools to complex hybrid and concentrated pools, these structures cater to diverse use cases, offering tailored solutions for trading, lending, yield generation, and more. Real-world examples like Uniswap v3, Curve, Bancor, and Balancer demonstrate the growing utility of liquidity pools, while research-driven innovations promise even greater efficiency and functionality in the future. As DeFi evolves, liquidity pools will remain central to its success, driving financial inclusion and innovation.</p>\n<p><img src=\"/images/posts/42769dde-8aa8-41ea-893b-068c79ccc82b.png\" alt=\"\"></p>\n<p>Liquidity pools are a cornerstone of DeFi, driving decentralization and innovation in the financial world. While they offer lucrative opportunities, it‚Äôs crucial to understand the associated risks and navigate the evolving regulatory landscape carefully. By doing so, users can leverage this revolutionary technology to unlock the full potential of decentralized finance.</p>\n",
      "date_published": "2025-01-10T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/decentralising-bridges/",
      "url": "https://blog.anirudha.dev/decentralising-bridges/",
      "title": "Decentralising Bridges",
      "content_html": "<p>In simple terms, bridges are tools that allow the transfer of assets, data, or even smart contract instructions between different blockchain networks. Think of them as the highways connecting isolated blockchain cities. For example, if you have some Ethereum (ETH) but want to use it on the Binance Smart Chain (BSC), you‚Äôd use a bridge to ‚Äúwrap‚Äù your ETH into a token that works on BSC.</p>\n<p>The idea of blockchain bridges emerged as a response to the growing need for interoperability between siloed blockchain ecosystems. In the early days of blockchain, networks like Bitcoin and Ethereum operated in silos, each with its own set of rules, consensus mechanisms, and asset standards. This lack of connectivity limited the potential for innovation and collaboration across ecosystems.</p>\n<p>The first generation of blockchain bridges appeared around 2017‚Äì2018 during the ICO boom, as developers began exploring ways to transfer value and data between Ethereum and other nascent chains like EOS and TRON. These early bridges were mostly centralized, operated by single entities or consortiums. While they were functional, they relied heavily on trust, which contradicted the decentralised ethos of blockchain.</p>\n<p>By 2020, with the rise of DeFi (Decentralised Finance) and multi-chain ecosystems, the demand for more robust and decentralised bridges skyrocketed. Protocols like Polkadot and Cosmos introduced native interoperability solutions, while others like Ren and Thorchain developed bridges focused on specific use cases like Bitcoin-to-Ethereum transfers or decentralised swaps.</p>\n<p>Today, blockchain bridges are a critical part of the Web3 infrastructure. They come in various forms, including:</p>\n<ol>\n<li>\n<p><strong>Asset-Specific Bridges</strong>: Focused on transferring specific tokens (e.g., WBTC for Bitcoin on Ethereum).</p>\n</li>\n<li>\n<p><strong>Generic Message Bridges</strong>: Capable of transferring arbitrary data and instructions between chains (e.g., Axelar).</p>\n</li>\n<li>\n<p><strong>Layer 2 Bridges</strong>: Connecting Ethereum to its rollups (e.g., Arbitrum, Optimism).</p>\n</li>\n</ol>\n<p>The ecosystem now includes both centralized and decentralised options, with billions of dollars locked in bridge protocols. Innovations in bridging technology have also introduced concepts like state proofs and zk-rollups to enhance security and scalability. However, challenges like hacks and inefficiencies remain prevalent, making the decentralization and improvement of bridges more important than ever.</p>\n<h2 id=\"centralised-vs-decentralised-bridges\" tabindex=\"-1\">Centralised vs Decentralised Bridges</h2>\n<p>In general, centralized applications offer simplicity, speed, and easier regulatory compliance but come with risks related to control, security, and privacy. In contrast, decentralized applications provide enhanced security, transparency, and user autonomy, but may face complexities, performance issues, and governance challenges.</p>\n<table>\n<thead>\n<tr>\n<th>Feature</th>\n<th>Centralized Bridges</th>\n<th>Decentralized Bridges</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>Control</strong></td>\n<td>Operated by a single entity or organization.</td>\n<td>Operated by distributed validators or smart contracts.</td>\n</tr>\n<tr>\n<td><strong>Trust Model</strong></td>\n<td>Requires users to trust the central operator to act honestly and securely.</td>\n<td>Trustless. Relies on network consensus and cryptographic security.</td>\n</tr>\n<tr>\n<td><strong>Transparency</strong></td>\n<td>Limited. Users have little visibility into internal operations.</td>\n<td>Fully transparent. Operations are recorded on-chain and governed by open protocols.</td>\n</tr>\n<tr>\n<td><strong>Censorship Resistance</strong></td>\n<td>Vulnerable to censorship. Operators can block or restrict transactions.</td>\n<td>Resistant to censorship. No single entity can manipulate or block transactions.</td>\n</tr>\n<tr>\n<td><strong>Security Risks</strong></td>\n<td>Single point of failure. High risk of hacks or insider fraud.</td>\n<td>Distributed risk. Depending on the robustness of the smart contracts and validator network.</td>\n</tr>\n<tr>\n<td><strong>Scalability</strong></td>\n<td>Often faster, as centralization allows for streamlined operations.</td>\n<td>Can be slower due to the need for network consensus and decentralized verification.</td>\n</tr>\n<tr>\n<td><strong>Examples</strong></td>\n<td>Binance Bridge, Coinbase Wallet</td>\n<td>Wormhole, Polygon Bridge, Axelar, Thorchain</td>\n</tr>\n<tr>\n<td><strong>Innovation Flexibility</strong></td>\n<td>Limited by the capabilities and goals of the operator.</td>\n<td>Open to community-driven improvements and integrations.</td>\n</tr>\n</tbody>\n</table>\n<p><em>There are 70+ bridges available today, distributed across various chains as per they support respectively.</em></p>\n<p><img src=\"/images/posts/81a87548-88a0-46f7-a18d-9c98ac94aace.png\" alt=\"\"></p>\n<p>Let‚Äôs explore some interesting projects amongst them to understand how they work further.</p>\n<h2 id=\"axelar\" tabindex=\"-1\">Axelar</h2>\n<p>Axelar is a decentralized interoperability network designed to facilitate secure communication and asset transfer across multiple blockchains. It operates using a robust, trustless infrastructure that prioritizes security and scalability. However, The multi-step verification process can lead to slightly longer transaction times compared to centralized solutions. Even so, Axelar stands out today as one of the prime go-to cross messaging layer due to some unique componenets:</p>\n<p><strong>Decentralised Validator Network:</strong> A network of validators runs the Axelar protocol, processing cross-chain transactions and maintaining security. Validators use <strong>Byzantine Fault Tolerant</strong> (BFT) consensus to ensure the system remains operational even if a subset of validators act maliciously.</p>\n<p><strong>Gateway Contracts:</strong> Each blockchain integrated with Axelar runs a gateway smart contract. These contracts act as the entry and exit points for messages and assets.</p>\n<p><strong>Cross-Chain Gateway Protocol (CGP):</strong> The CGP enables seamless communication between blockchains by packaging transactions, signing them, and relaying them securely.</p>\n<p><strong>One-Time Addresses:</strong> For each cross-chain transaction, Axelar generates a one-time deposit address. This mechanism simplifies user experience by eliminating the need to deal with complex multi-signature processes.</p>\n<p><strong>How Axelar Works:</strong></p>\n<ol>\n<li>\n<p>A user initiates a transfer from Blockchain A to Blockchain B using Axelar‚Äôs API or SDK.</p>\n</li>\n<li>\n<p>The asset is locked in the gateway contract on Blockchain A.</p>\n</li>\n<li>\n<p>Axelar validators verify the transaction, package it, and relay it to Blockchain B.</p>\n</li>\n<li>\n<p>On Blockchain B, the gateway contract mints or unlocks the equivalent asset, completing the transaction.</p>\n</li>\n</ol>\n<p><img src=\"https://cdn.prod.website-files.com/65f28017eaba8cd1f912fa9f/661ae6d901628457de4c5f5c_DevelopCrossChainApp_GmpDiagram-1.png\" alt=\"\"></p>\n<h2 id=\"wormhole\" tabindex=\"-1\">Wormhole</h2>\n<p>Wormhole is a decentralized bridge designed to connect high-performance blockchains like Solana, Ethereum, Binance Smart Chain, and others. It operates as a message-passing protocol, enabling both asset transfers and other data exchanges between chains. It did however, suffered a $325M exploit in 2022, highlighting the need for ongoing improvements. While decentralized, the relatively small number of Guardians poses a risk of collusion.</p>\n<p><strong>Guardians Network:</strong> A decentralized network of validators known as Guardians monitors multiple chains for events. Guardians verify cross-chain transactions and sign messages to validate them.</p>\n<p><strong>Core Layer:</strong> Handles the core logic for cross-chain messaging and ensures that data integrity is maintained.</p>\n<p><strong>Wrapped Assets:</strong> Tokens transferred via Wormhole are wrapped into equivalent representations on the target chain.</p>\n<p><strong>How Wormhole Works:</strong></p>\n<ol>\n<li>\n<p>A user locks an asset in a smart contract on the source chain (e.g., Ethereum).</p>\n</li>\n<li>\n<p>Guardians detect the lock event and sign a message confirming the transaction.</p>\n</li>\n<li>\n<p>The signed message is relayed to the target chain (e.g., Solana).</p>\n</li>\n<li>\n<p>On the target chain, the Wormhole protocol mints a wrapped version of the locked asset for the user.</p>\n</li>\n</ol>\n<p><img src=\"/images/posts/213f7dcb-7f61-4e35-885c-af6989bbe323.png\" alt=\"\"></p>\n<h2 id=\"connext\" tabindex=\"-1\">Connext</h2>\n<p><strong>Connext</strong> is a decentralized protocol designed to facilitate fast, secure, and cost-effective cross-chain communication. It achieves this by using <strong>state channels</strong> and a unique <strong>xCall architecture</strong> for transferring value and data across Layer 2 networks and Ethereum. Unlike other bridges, Connext is tailored for fast, low-cost communication between Ethereum rollups and other Layer 2 solutions. By leveraging state channels, Connext minimizes on-chain transactions, significantly reducing gas fees. With xCall, developers can integrate cross-chain functionality into their applications without dealing with complex bridging mechanics. Connext‚Äôs router-based liquidity model ensures decentralization and eliminates reliance on a single liquidity provider. However, Connext is primarily designed for Layer 2 scaling solutions and doesn‚Äôt yet support all Layer 1 blockchains. The network relies heavily on router liquidity. Insufficient liquidity can delay or increase the cost of transactions.</p>\n<p><strong>State Channels:</strong> Connext builds on state channels, a Layer 2 scalability solution that allows transactions to occur off-chain while retaining the security guarantees of the underlying blockchain. These channels minimize the number of on-chain interactions, reducing latency and gas costs.</p>\n<p><strong>Routers:</strong> Routers are liquidity providers in the Connext network. They facilitate cross-chain transactions by locking liquidity on one chain and unlocking it on the target chain. They earn fees for their service and must collateralize their positions to ensure security.</p>\n<p><strong>xCall:</strong> Connext‚Äôs xCall is a generic cross-chain communication primitive. It enables developers to build applications that pass messages or assets across chains without needing to handle complex bridging logic. This mechanism abstracts the bridging process for both developers and users, ensuring simplicity.</p>\n<p><strong>Nomad Integration:</strong> Connext uses Nomad‚Äôs optimistic roll-up model to verify and validate cross-chain interactions. This approach reduces trust assumptions and enhances security.</p>\n<h3 id=\"how-connext-works\" tabindex=\"-1\"><strong>How Connext Works</strong></h3>\n<ol>\n<li>\n<p><strong>Transaction Initiation:</strong></p>\n<ul>\n<li>\n<p>A user starts a cross-chain transaction using a Connext-integrated dApp or wallet.</p>\n</li>\n<li>\n<p>For example, a user wants to transfer tokens from Optimism (Layer 2) to Polygon (another Layer 2).</p>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>Liquidity Locking:</strong></p>\n<ul>\n<li>The router locks the required liquidity on the source chain (Optimism) and forwards an off-chain message to the destination chain (Polygon).</li>\n</ul>\n</li>\n<li>\n<p><strong>Off-Chain Message Passing:</strong></p>\n<ul>\n<li>Connext uses the xCall mechanism to relay the message securely and quickly across chains. The message includes transaction details, such as the asset amount and the recipient‚Äôs address.</li>\n</ul>\n</li>\n<li>\n<p><strong>Transaction Finalization:</strong></p>\n<ul>\n<li>On the destination chain (Polygon), the router unlocks equivalent liquidity and sends it to the recipient‚Äôs wallet. This process is verified by the network, ensuring security and integrity.</li>\n</ul>\n</li>\n</ol>\n<p><img src=\"https://images.ctfassets.net/gjyjx7gst9lo/920020418/3575f3ea8c4992520e2e95031e48cffd/UnderTheHood.png\" alt=\"\"></p>\n<h2 id=\"bridges-and-the-future-of-digital-assets\" tabindex=\"-1\">Bridges and the Future of Digital Assets</h2>\n<p>Bridges will play a massive role in making digital assets more usable. Imagine a world where users don‚Äôt need to know which blockchain their assets reside on, they simply transact. For example:</p>\n<ul>\n<li>\n<p><strong>Abstraction</strong>: The average user shouldn‚Äôt need to know technical details about bridging. A good decentralized bridge abstracts complexities like gas fees, token wrapping, and network selection. For instance, a user transferring stablecoins across chains shouldn‚Äôt need to worry about manually configuring gas tokens or selecting intermediary networks. All such intricacies should be handled in the background by the bridge‚Äôs architecture.</p>\n</li>\n<li>\n<p><strong>Enhanced UX</strong>: With smoother cross-chain swaps and wallet integrations, bridging becomes as simple as a single click. Wallets and dApps will incorporate intuitive interfaces that seamlessly execute bridging processes, allowing users to focus on their goals rather than the mechanisms.</p>\n</li>\n<li>\n<p><strong>Interoperability-Driven Applications</strong>: Applications will harness bridges to become truly chain-agnostic. For example, a DeFi app on Ethereum could directly interact with liquidity on Solana or Avalanche without requiring the user to know or manage the underlying mechanics.</p>\n</li>\n</ul>\n<p>This abstraction is key to mainstream adoption. Users care about outcomes, not mechanisms. By simplifying processes, bridges can drive the mass adoption of digital assets for everyday use cases, including payments</p>\n<h2 id=\"security-concerns\" tabindex=\"-1\">Security Concerns</h2>\n<p>Decentralized bridges, while offering a trustless alternative, are not without their challenges.</p>\n<ol>\n<li>\n<p><strong>Smart Contract Vulnerabilities</strong>: Bugs or exploits in the smart contract code can lead to massive losses, as seen in various high-profile hacks.</p>\n<ul>\n<li><strong>Mitigation</strong>: Conduct rigorous audits by reputable firms and incentivize white-hat hackers through bug bounty programs.</li>\n</ul>\n</li>\n<li>\n<p><strong>Sybil Attacks</strong>: Malicious actors can attempt to overwhelm the validator network by creating multiple fake identities.</p>\n<ul>\n<li><strong>Mitigation</strong>: Implement robust mechanisms like Proof of Stake (PoS) or Proof of Authority (PoA) to ensure validators have a vested interest in the network‚Äôs security.</li>\n</ul>\n</li>\n<li>\n<p><strong>Cross-Chain Attack Surface</strong>: Bridging increases the potential attack vectors since multiple chains and protocols are involved.</p>\n<ul>\n<li><strong>Mitigation</strong>: Use cryptographic techniques like zk-rollups and state proofs to secure interactions between chains.</li>\n</ul>\n</li>\n<li>\n<p><strong>Economic Incentive Exploits</strong>: Attackers might manipulate incentives to destabilize the bridge‚Äôs operations.</p>\n<ul>\n<li><strong>Mitigation</strong>: Regularly review and optimize incentive structures to align with security goals.</li>\n</ul>\n</li>\n<li>\n<p><strong>Decentralized Governance Risks</strong>: Poorly designed governance mechanisms can lead to decision-making that compromises security.</p>\n<ul>\n<li><strong>Mitigation</strong>: Ensure governance models are decentralized and resistant to collusion.</li>\n</ul>\n</li>\n</ol>\n<p>Decentralized bridges are set to transform the blockchain ecosystem. Bridges will evolve to provide near-instant, cost-effective transfers, making multi-chain interactions indistinguishable from single-chain experiences. The blockchain industry will likely adopt universal protocols and standards for cross-chain communication, similar to how the internet uses TCP/IP. Advanced cryptographic techniques like zk-proofs and multi-party computation (MPC) will make bridges more secure and scalable. As DeFi and traditional finance converge, bridges will play a crucial role in enabling cross-platform transactions involving both crypto and fiat assets. Projects like Polkadot and Cosmos might pave the way for blockchain ecosystems where bridging is natively integrated, reducing the need for standalone solutions. By abstracting complexities and ensuring security, bridges will drive the mainstream adoption of blockchain technology, empowering users to interact with decentralized applications effortlessly.</p>\n<p>Decentralized bridges are not just a technological innovation, but a necessity for the future of web3. By addressing current challenges and pushing the boundaries of interoperability, they will enable a truly interconnected and user-friendly digital economy.</p>\n",
      "date_published": "2025-01-07T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/token-sale-models/",
      "url": "https://blog.anirudha.dev/token-sale-models/",
      "title": "Token Sale Models",
      "content_html": "<p>Launching a crypto project comes with one big question: <strong>How do you sell your tokens?</strong> Token sales are the lifeblood of most blockchain projects, fueling development, building communities, and driving adoption. But picking the right sales model isn‚Äôt just about raising funds. It‚Äôs about fairness, accessibility, and strategy.</p>\n<p>From simple ‚Äúbuy it now‚Äù pricing to dynamic auctions and even gamified lotteries, there‚Äôs a token sale model for every project. In this article, we‚Äôll explore the most popular token sale mechanisms, breaking down how they work, their pros and cons, and even the math behind them. Whether you‚Äôre an investor curious about how tokens are distributed or a founder choosing the best method for your launch, this guide has you covered.</p>\n<p>Let‚Äôs dive in and decode the world of token sale models!</p>\n<h2 id=\"fixed-price-sale\" tabindex=\"-1\"><strong>Fixed Price Sale</strong></h2>\n<p>You set a fixed price, and participants buy tokens at that price. It‚Äôs like buying groceries. Simple and predictable. Makes it easy for participants to calculate costs. Tokens are sold at a pre-determined price, and participants can purchase as many as they want within their limits. Many token offerings use this model. For instance, <strong>Filecoin‚Äôs presale</strong> was based on a fixed price.</p>\n<p>$$Total¬†Cost = Price¬†Per¬†Token √ó Number¬†Of¬†Tokens¬†Purchased$$</p>\n<p>The cost is directly proportional to the number of tokens purchased. If the price is constant (e.g., $1 per token), buying 10 tokens costs $10. So, if the token price is <strong>0.01 ETH</strong> and you buy 100 tokens:</p>\n<p>$$Total¬†Cost=0.01√ó100=1‚ÄâETH$$</p>\n<p>Here‚Äôs a smart contract snippet for a fixed price sale in Solidity:</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token builtin\">uint256</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">constant</span> PRICE <span class=\"token operator\">=</span> <span class=\"token number\">0.01</span> ether<span class=\"token punctuation\">;</span><br><span class=\"token builtin\">uint256</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">constant</span> MAX_TOKENS <span class=\"token operator\">=</span> <span class=\"token number\">1000000</span><span class=\"token punctuation\">;</span><br><span class=\"token builtin\">uint256</span> <span class=\"token keyword\">public</span> tokensSold<span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">function</span> <span class=\"token function\">buyTokens</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint256</span> amount<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>value <span class=\"token operator\">==</span> amount <span class=\"token operator\">*</span> PRICE<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Incorrect ETH amount\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>tokensSold <span class=\"token operator\">+</span> amount <span class=\"token operator\">&lt;=</span> MAX_TOKENS<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Not enough tokens left\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    tokensSold <span class=\"token operator\">+=</span> amount<span class=\"token punctuation\">;</span><br>    <span class=\"token comment\">// Transfer tokens to buyer</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>It‚Äôs a decent model except it can lead to oversubscription or under-subscription. The risk of unequal distribution.</p>\n<h2 id=\"dutch-auction\" tabindex=\"-1\">Dutch Auction</h2>\n<p>The price starts high and gradually decreases until participants are willing to buy, or a reserve price is met. Think of it like a reverse eBay. <strong>Ethereum‚Äôs initial sale in 2015</strong> used a Dutch auction, where early buyers paid a higher price. It encourages fair market price discovery and prevents ‚Äúfirst-come-first-serve‚Äù unfairness.</p>\n<p>$$PriceT =Start¬†Price‚àí(\\tfrac{Start¬†Price‚àíEnd¬†Price}{Duration} √ót)$$</p>\n<p>The price starts high and decreases linearly over time. At any point <code>t</code>, the price depends on how much time has passed relative to the total auction duration.</p>\n<p>So, if the Start Price was 1 ETH, end price = 0.1 ETH, duration = 10 hours. At t=5‚Äâhours:</p>\n<p>$$Price=1‚àí(\\tfrac{1‚àí0.1}{10} √ó5)=0.55ETH$$</p>\n<p>Here‚Äôs a solidity implementation of a Dutch auction:</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token builtin\">uint256</span> <span class=\"token keyword\">public</span> startTime <span class=\"token operator\">=</span> block<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">;</span><br><span class=\"token builtin\">uint256</span> <span class=\"token keyword\">public</span> startPrice <span class=\"token operator\">=</span> <span class=\"token number\">1</span> ether<span class=\"token punctuation\">;</span><br><span class=\"token builtin\">uint256</span> <span class=\"token keyword\">public</span> endPrice <span class=\"token operator\">=</span> <span class=\"token number\">0.1</span> ether<span class=\"token punctuation\">;</span><br><span class=\"token builtin\">uint256</span> <span class=\"token keyword\">public</span> duration <span class=\"token operator\">=</span> <span class=\"token number\">7</span> days<span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">function</span> <span class=\"token function\">getPrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">view</span> <span class=\"token keyword\">returns</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">uint256</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token builtin\">uint256</span> elapsedTime <span class=\"token operator\">=</span> block<span class=\"token punctuation\">.</span>timestamp <span class=\"token operator\">-</span> startTime<span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>elapsedTime <span class=\"token operator\">>=</span> duration<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> endPrice<span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">return</span> startPrice <span class=\"token operator\">-</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>startPrice <span class=\"token operator\">-</span> endPrice<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> elapsedTime<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> duration<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>It does require participants to monitor prices closely can can be little complex for newcomers.</p>\n<h2 id=\"english-auction\" tabindex=\"-1\">English Auction</h2>\n<p>Participants bid for tokens, with the highest bidder receiving them. Think of Sotheby‚Äôs, but for tokens. One of the most simple auction model. It ensures maximum revenue and the tokens fo to those valuing them the most. <strong>Polkadot‚Äôs DOT token sale</strong> used a modified English auction format.</p>\n<p>$$Winning¬†Bid=max(Bids)$$</p>\n<p>So, if bids are 1 ETH, 1.5 ETH, and 2 ETH, the winning bid is:</p>\n<p>$$max‚Å°(1,1.5,2)=2‚ÄâETH$$</p>\n<p>Fairly straightforward to determine as well as implement:</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">struct</span> <span class=\"token class-name\">Bid</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token builtin\">address</span> bidder<span class=\"token punctuation\">;</span><br>    <span class=\"token builtin\">uint256</span> amount<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><br>Bid<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">public</span> bids<span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">function</span> <span class=\"token function\">placeBid</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span><br>    bids<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token function\">Bid</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token keyword\">function</span> <span class=\"token function\">getHighestBid</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">view</span> <span class=\"token keyword\">returns</span> <span class=\"token punctuation\">(</span>Bid <span class=\"token keyword\">memory</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    Bid <span class=\"token keyword\">memory</span> highest<span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">uint256</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> bids<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>bids<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>amount <span class=\"token operator\">></span> highest<span class=\"token punctuation\">.</span>amount<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>            highest <span class=\"token operator\">=</span> bids<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br>        <span class=\"token punctuation\">}</span><br>    <span class=\"token punctuation\">}</span><br>    <span class=\"token keyword\">return</span> highest<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>Of course, it‚Äôs highly susceptible to bidding wars and might prove to be high barrier for small investors.</p>\n<h2 id=\"lottery-sale\" tabindex=\"-1\">Lottery Sale</h2>\n<p>Participants enter a lottery, and winners are chosen to purchase tokens at a fixed price. It‚Äôs a bit like a raffle. The random allocation ensures fairness and prevents whales from dominating the sale. Binance Launchpad uses lottery-based sales for projects like <strong>WinkLink</strong>.</p>\n<p>$$Probability¬†Of¬†Winning= \\tfrac{Tickets¬†Purchased¬†By¬†User}{Total¬†Tickets} ‚Äã$$</p>\n<p>The more tickets you hold, the higher your chances of winning, but it‚Äôs still random. So, if you buy 5 tickets in a pool of 100 tickets:</p>\n<p>$$Probability=\\tfrac{5}{100}=5%$$</p>\n<p>We all understand basic concept of lottery, so this is also a fairly simple implementation:</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token builtin\">address</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">public</span> participants<span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">function</span> <span class=\"token function\">enterLottery</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token punctuation\">{</span><br>    participants<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><br><span class=\"token keyword\">function</span> <span class=\"token function\">pickWinner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> onlyOwner <span class=\"token punctuation\">{</span><br>    <span class=\"token builtin\">uint256</span> winnerIndex <span class=\"token operator\">=</span> <span class=\"token builtin\">uint256</span><span class=\"token punctuation\">(</span><span class=\"token function\">keccak256</span><span class=\"token punctuation\">(</span>abi<span class=\"token punctuation\">.</span><span class=\"token function\">encodePacked</span><span class=\"token punctuation\">(</span>block<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">,</span> block<span class=\"token punctuation\">.</span>difficulty<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> participants<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span><br>    <span class=\"token builtin\">address</span> winner <span class=\"token operator\">=</span> participants<span class=\"token punctuation\">[</span>winnerIndex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br>    <span class=\"token comment\">// Allocate tokens to winner</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>Although, in this case, some participants might feel excluded and there‚Äôs no guarantee of allocation.</p>\n<h2 id=\"first-come-first-serve-(fcfs)\" tabindex=\"-1\">First-Come-First-Serve (FCFS)</h2>\n<p>Tokens are allocated to participants in the order of their purchases until the supply is exhausted. Think of Black Friday deals. Simple to implement and understand. Motivates early participation which is huge positive for new projects. The <strong>ICO of Brave (BAT)</strong> saw early participants snapping up tokens in seconds.</p>\n<p>$$Tokens¬†Allocated=min(Tokens¬†Requested,Tokens¬†Available)$$</p>\n<p>You can only buy as many tokens as are left when it‚Äôs your turn. Early participants get the most tokens. So, if 1,000 tokens are available and a participant requests 500 tokens:</p>\n<p>$$Tokens¬†Allocated=min(500,1000)=500$$</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">function</span> <span class=\"token function\">buyTokens</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>tokensSold <span class=\"token operator\">&lt;</span> MAX_TOKENS<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Sold out\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    tokensSold<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span><br>    <span class=\"token comment\">// Transfer tokens</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>However, this might create server overload or congestion. May disadvantage slower participants or participants with slower validators or network coverage.</p>\n<h2 id=\"bonding-curve\" tabindex=\"-1\">Bonding Curve</h2>\n<p>The price of tokens increases dynamically based on demand, typically governed by a mathematical curve. t‚Äôs like buying concert tickets. The more demand, the higher the price. <strong>Uniswap‚Äôs liquidity pools</strong> use bonding curves to set token prices dynamically. It incentivises early participation and ensures continuous price discovery. (My personal favourite too if implemented properly.)</p>\n<p>$$Price=Base¬†Price+k√óSupply^n$$</p>\n<p>Where:</p>\n<ul>\n<li>\n<p><em>k</em> is a scaling factor,</p>\n</li>\n<li>\n<p><em>n</em> determines the curve‚Äôs steepness,</p>\n</li>\n<li>\n<p>Supply is the number of tokens sold so far.</p>\n</li>\n</ul>\n<p>As more tokens are sold, the price increases exponentially or quadratically. Let‚Äôs say for <code>Base price = 0.01 ETH</code>, <code>k=0.001</code>, <code>n=2</code>, and <code>100</code> tokens sold:</p>\n<p>$$Price=0.01+0.001√ó100^2=1.01‚ÄâETH$$</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">function</span> <span class=\"token function\">getPrice</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint256</span> supply<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">pure</span> <span class=\"token keyword\">returns</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">uint256</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">return</span> BASE_PRICE <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>supply <span class=\"token operator\">**</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> CURVE_FACTOR<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>Although there‚Äôs quite a strong foundation, It might get complex for users to understand. The early adopters may gain disproportionate advantages as well, which arguably is justified to an extent.</p>\n<h2 id=\"tiered-sale\" tabindex=\"-1\">Tiered Sale</h2>\n<p>Tokens are sold in phases, with each tier having different prices and conditions. It encourages early participation by offering discounts and has a predictable structure. <strong>Polkastarter</strong> often runs tiered sales where early buyers get discounts.</p>\n<p>Different tiers have fixed prices. The tier you‚Äôre in determines the price you pay. So, if <strong>Tier 1</strong> price is <code>0.01 ETH</code> and <strong>Tier 2</strong> price is <code>0.02 ETH</code>, buying during Tier 1 costs:</p>\n<p>$$Price=0.01√óTokens¬†Purchased$$</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token builtin\">uint256</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">public</span> tiers <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0.01</span> ether<span class=\"token punctuation\">,</span> <span class=\"token number\">0.02</span> ether<span class=\"token punctuation\">,</span> <span class=\"token number\">0.03</span> ether<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><br><span class=\"token builtin\">uint256</span> <span class=\"token keyword\">public</span> currentTier<span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">function</span> <span class=\"token function\">buyTokens</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>value <span class=\"token operator\">==</span> tiers<span class=\"token punctuation\">[</span>currentTier<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Incorrect price\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    currentTier<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span><br>    <span class=\"token comment\">// Transfer tokens</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>Simple model. While later participants may feel penalized, the early tiers can be dominated by whales.</p>\n<h2 id=\"batch-auction\" tabindex=\"-1\">Batch Auction</h2>\n<p>All bids are collected in a batch, and the clearing price is determined to allocate tokens to participants proportionally. <strong>Gnosis Protocol</strong> uses batch auctions for price discovery.</p>\n<p>$$Clearing¬†Price = \\tfrac{Total¬†Funds¬†Committed}{Total¬†Tokens¬†Available}$$</p>\n<p>All bids are pooled together. The clearing price is determined by dividing the total funds by the tokens available. If <code>10 ETH</code> is committed for 1,000 tokens:</p>\n<p>$$Clearing¬†Price=\\tfrac{10}{1000}=0.01‚ÄâETH$$</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token builtin\">uint256</span> <span class=\"token keyword\">public</span> clearingPrice<span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">function</span> <span class=\"token function\">finalizeAuction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> onlyOwner <span class=\"token punctuation\">{</span><br>    <span class=\"token comment\">// Calculate clearing price based on bids</span><br>    clearingPrice <span class=\"token operator\">=</span> <span class=\"token function\">calculateClearingPrice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>Apart from the above, there have been Hybrid Models as well which combine one or more of the above models for various factors from fairness, revenue generation, simplying terms, higher market penetration and so on.</p>\n<p>Choosing the right token sale model is a mix of strategy, technical feasibility, and audience understanding. By aligning your model with your goals, tokenomics, and market conditions, you can ensure a successful launch that sets your Web3 project up for long-term growth.</p>\n",
      "date_published": "2025-01-03T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/synthetic-asset-tokens/",
      "url": "https://blog.anirudha.dev/synthetic-asset-tokens/",
      "title": "Synthetic Asset Tokens",
      "content_html": "<p>Imagine having access to the value of an asset, say, Tesla stock, without ever owning it. That‚Äôs essentially what synthetic asset tokens (or just ‚Äúsynthetics‚Äù) do. These are blockchain-based tokens that mimic the value of real-world assets, such as stocks, commodities, or even fiat currencies. Think of them as financial doppelg√§ngers: they look, act, and feel like the original, but they exist entirely in the digital realm.</p>\n<p>In the traditional financial market, synthetic assets are not new. Derivatives like futures and options have been around for decades, allowing traders to bet on the price of an asset without ever owning it. Synthetic tokens simply bring this concept to the blockchain, leveraging smart contracts to handle everything transparently and automatically.</p>\n<p>Derivatives exist in web3 as well already. However, there‚Äôs still lot of scepticism around it. Derivatives like futures, options, and perpetual swaps already exist and are widely used. Both derivatives and synthetic tokens are tied to an underlying asset, such as Bitcoin, Ethereum, or traditional stocks like Tesla. The performance of these assets directly affects the value of the derivative or synthetic token. Just as derivatives allow traders to speculate or hedge risks, synthetic asset tokens let users gain exposure to the price of assets without actually owning them.</p>\n<p>Crypto derivatives have gained significant traction, especially in speculative trading. Futures and perpetual swaps on exchanges like Binance, Bybit, and dYdX dominate trading volumes. They offer high liquidity and enable speculation on crypto prices. Traders and institutions use derivatives to manage risk, especially in highly volatile markets. Many jurisdictions have banned or restricted derivatives trading due to concerns over high leverage and investor risk (e.g., Binance halting derivatives in several countries). The extreme price swings in crypto make derivatives riskier than their traditional counterparts, leading to liquidations for unprepared traders.</p>\n<p><img src=\"https://academy.synfutures.com/content/images/size/w1000/2021/12/1-5-derivatives-1.png\" alt=\"\"></p>\n<p>Traditional finance views synthetics as tools for hedging and speculation. Want to protect yourself from the wild price swings of oil without owning physical barrels? A synthetic derivative could be your best friend. Similarly, traders use them to speculate on price movements, essentially making money out of thin air, if they play their cards right.</p>\n<p>In the tokenized asset market, synthetic tokens serve a similar purpose, but with a blockchain twist. They‚Äôre used for:</p>\n<ol>\n<li>\n<p><strong>Global Accessibility</strong>: You don‚Äôt need a brokerage account to own a synthetic version of Apple stock. Just a crypto wallet will do.</p>\n</li>\n<li>\n<p><strong>Fractional Ownership</strong>: Want exposure to gold but can‚Äôt afford a whole ounce? Synthetic tokens can be fractioned down to tiny denominations.</p>\n</li>\n<li>\n<p><strong>Decentralized Finance (DeFi)</strong>: Platforms like Synthetix allow users to mint synthetic tokens using their crypto as collateral.</p>\n</li>\n</ol>\n<p>Like any financial innovation, synthetic asset tokens come with their own set of advantages and challenges.</p>\n<h4 id=\"pros\" tabindex=\"-1\"><strong>Pros</strong></h4>\n<ul>\n<li>\n<p><strong>Accessibility</strong>: Traditional markets often have barriers, like location, regulations, or account requirements. Synthetic tokens tear those walls down.</p>\n</li>\n<li>\n<p><strong>Efficiency</strong>: Transactions happen on the blockchain, which means they‚Äôre often faster and cheaper than traditional methods.</p>\n</li>\n<li>\n<p><strong>Liquidity Boost</strong>: Synthetic tokens can unlock liquidity by bringing otherwise illiquid assets into a tradable, digital format.</p>\n</li>\n</ul>\n<h4 id=\"cons\" tabindex=\"-1\"><strong>Cons</strong></h4>\n<ul>\n<li>\n<p><strong>Complexity</strong>: They‚Äôre not beginner-friendly. Understanding how synthetics work requires some financial and blockchain literacy.</p>\n</li>\n<li>\n<p><strong>Regulation</strong>: Governments haven‚Äôt fully figured out how to regulate synthetic tokens, which could lead to legal uncertainties. Hell, some governements are yet to figure to crypto itself.</p>\n</li>\n<li>\n<p><strong>Counterparty Risk</strong>: In DeFi, your synthetics depend on smart contracts and oracles. If something goes wrong there, your assets could be at risk.</p>\n</li>\n</ul>\n<p>Here‚Äôs where things get exciting. Synthetic asset tokens can significantly improve liquidity in the crypto and NFT markets by unlocking idle assets, diversification and bridging markets. Imagine converting an NFT, typically illiquid, into a synthetic token that can be freely traded. This opens up an entirely new avenue for liquidity in the NFT space. Traders could gain exposure to other markets (stocks, gold, real estate) without leaving the crypto ecosystem. Synthetic tokens could serve as a bridge between traditional and crypto markets. For example, a synthetic token pegged to the S&amp;P 500 index could attract traditional investors into the blockchain world.<br>\nIn essence, synthetics have the potential to make markets more fluid, more inclusive, and more interconnected.</p>\n<p>A few platforms and projects are already leveraging synthetic asset tokens:</p>\n<ul>\n<li>\n<p><strong>Synthetix</strong>: Synthetix is one of the leading platforms for synthetic assets. It allows users to mint Synths tokens representing real-world assets like sUSD (synthetic USD), sBTC (synthetic Bitcoin), and even synthetic stocks. Synthetix uses Chainlink oracles to ensure accurate pricing.</p>\n</li>\n<li>\n<p><strong>Mirror Protocol</strong>: Built on Terra, Mirror Protocol enabled synthetic versions of stocks like mAAPL (synthetic Apple stock) and mGOOGL (synthetic Google stock). It gained popularity for allowing users outside the U.S. to trade synthetic U.S. stocks. However, Terra‚Äôs collapse affected its adoption.</p>\n</li>\n<li>\n<p><strong>NFTy</strong> <em>(üëÄ)</em>: Imagine a platform where synthetic tokens represent a basket of the top 500 NFT collections. It creates a new layer of liquidity and market exposure for NFT enthusiasts.</p>\n</li>\n</ul>\n<p>Let‚Äôs skip to look into code for a bit.</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token comment\">// SPDX-License-Identifier: MIT</span><br><span class=\"token keyword\">pragma</span> <span class=\"token keyword\">solidity</span> <span class=\"token operator\">^</span><span class=\"token version number\">0.8.0</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">contract</span> <span class=\"token class-name\">SyntheticAssetToken</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token builtin\">string</span> <span class=\"token keyword\">public</span> name <span class=\"token operator\">=</span> <span class=\"token string\">\"SyntheticAssetToken\"</span><span class=\"token punctuation\">;</span><br>    <span class=\"token builtin\">string</span> <span class=\"token keyword\">public</span> symbol <span class=\"token operator\">=</span> <span class=\"token string\">\"SAT\"</span><span class=\"token punctuation\">;</span><br>    <span class=\"token builtin\">uint8</span> <span class=\"token keyword\">public</span> decimals <span class=\"token operator\">=</span> <span class=\"token number\">18</span><span class=\"token punctuation\">;</span><br>    <span class=\"token builtin\">uint256</span> <span class=\"token keyword\">public</span> totalSupply<span class=\"token punctuation\">;</span><br><br>    <span class=\"token keyword\">mapping</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">uint256</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> balanceOf<span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">mapping</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">mapping</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">uint256</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> allowance<span class=\"token punctuation\">;</span><br><br>    <span class=\"token builtin\">uint256</span> <span class=\"token keyword\">public</span> collateralRatio <span class=\"token operator\">=</span> <span class=\"token number\">200</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 200% collateral required</span><br>    <span class=\"token builtin\">uint256</span> <span class=\"token keyword\">public</span> collateralLocked<span class=\"token punctuation\">;</span><br><br>    <span class=\"token keyword\">mapping</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">uint256</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> collateral<span class=\"token punctuation\">;</span><br><br>    <span class=\"token builtin\">address</span> <span class=\"token keyword\">public</span> owner<span class=\"token punctuation\">;</span><br><br>    <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        owner <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">modifier</span> <span class=\"token function\">onlyOwner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender <span class=\"token operator\">==</span> owner<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Only the owner can perform this action\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">_</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token comment\">// Events</span><br>    <span class=\"token keyword\">event</span> <span class=\"token function\">Transfer</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token keyword\">indexed</span> <span class=\"token keyword\">from</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">address</span> <span class=\"token keyword\">indexed</span> to<span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint256</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">event</span> <span class=\"token function\">Approval</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token keyword\">indexed</span> owner<span class=\"token punctuation\">,</span> <span class=\"token builtin\">address</span> <span class=\"token keyword\">indexed</span> spender<span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint256</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">event</span> <span class=\"token function\">Mint</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token keyword\">indexed</span> user<span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint256</span> amount<span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint256</span> collateral<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">event</span> <span class=\"token function\">Burn</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token keyword\">indexed</span> user<span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint256</span> amount<span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint256</span> collateralReturned<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token comment\">// Transfer tokens</span><br>    <span class=\"token keyword\">function</span> <span class=\"token function\">transfer</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> to<span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint256</span> value<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">returns</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">bool</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>balanceOf<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">>=</span> value<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Insufficient balance\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        balanceOf<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">-=</span> value<span class=\"token punctuation\">;</span><br>        balanceOf<span class=\"token punctuation\">[</span>to<span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> value<span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">emit</span> <span class=\"token function\">Transfer</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">,</span> to<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token comment\">// Approve an allowance for another address</span><br>    <span class=\"token keyword\">function</span> <span class=\"token function\">approve</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> spender<span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint256</span> value<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">returns</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">bool</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        allowance<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>spender<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> value<span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">emit</span> <span class=\"token function\">Approval</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">,</span> spender<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token comment\">// Transfer tokens on behalf of another address</span><br>    <span class=\"token keyword\">function</span> <span class=\"token function\">transferFrom</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token keyword\">from</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">address</span> to<span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint256</span> value<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">returns</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">bool</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>balanceOf<span class=\"token punctuation\">[</span><span class=\"token keyword\">from</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">>=</span> value<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Insufficient balance\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>allowance<span class=\"token punctuation\">[</span><span class=\"token keyword\">from</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">>=</span> value<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Allowance exceeded\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        balanceOf<span class=\"token punctuation\">[</span><span class=\"token keyword\">from</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">-=</span> value<span class=\"token punctuation\">;</span><br>        balanceOf<span class=\"token punctuation\">[</span>to<span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> value<span class=\"token punctuation\">;</span><br>        allowance<span class=\"token punctuation\">[</span><span class=\"token keyword\">from</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">-=</span> value<span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">emit</span> <span class=\"token function\">Transfer</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">from</span><span class=\"token punctuation\">,</span> to<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token comment\">// Mint synthetic tokens by locking ETH as collateral</span><br>    <span class=\"token keyword\">function</span> <span class=\"token function\">mint</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint256</span> amount<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token builtin\">uint256</span> requiredCollateral <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>amount <span class=\"token operator\">*</span> collateralRatio<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>value <span class=\"token operator\">>=</span> requiredCollateral<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Insufficient collateral\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>        collateral<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> msg<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span><br>        balanceOf<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> amount<span class=\"token punctuation\">;</span><br>        totalSupply <span class=\"token operator\">+=</span> amount<span class=\"token punctuation\">;</span><br>        collateralLocked <span class=\"token operator\">+=</span> msg<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span><br><br>        <span class=\"token keyword\">emit</span> <span class=\"token function\">Mint</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">,</span> amount<span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token comment\">// Burn synthetic tokens and withdraw collateral</span><br>    <span class=\"token keyword\">function</span> <span class=\"token function\">burn</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint256</span> amount<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>balanceOf<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">>=</span> amount<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Insufficient token balance\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>        <span class=\"token builtin\">uint256</span> collateralToReturn <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>amount <span class=\"token operator\">*</span> collateralRatio<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>collateral<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">>=</span> collateralToReturn<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Insufficient collateral locked\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>        balanceOf<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">-=</span> amount<span class=\"token punctuation\">;</span><br>        totalSupply <span class=\"token operator\">-=</span> amount<span class=\"token punctuation\">;</span><br>        collateral<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">-=</span> collateralToReturn<span class=\"token punctuation\">;</span><br>        collateralLocked <span class=\"token operator\">-=</span> collateralToReturn<span class=\"token punctuation\">;</span><br><br>        <span class=\"token keyword\">payable</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">transfer</span><span class=\"token punctuation\">(</span>collateralToReturn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>        <span class=\"token keyword\">emit</span> <span class=\"token function\">Burn</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">,</span> amount<span class=\"token punctuation\">,</span> collateralToReturn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token comment\">// Fallback function to handle ETH sent directly to the contract</span><br>    <span class=\"token function\">fallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">external</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><br><br>    <span class=\"token function\">receive</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">external</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>Users lock ETH as collateral, and the contract mints synthetic tokens (<code>SAT</code>) for them. The required collateral is 200% of the token‚Äôs value (adjustable by modifying <code>collateralRatio</code>). Users can burn their synthetic tokens to reclaim the collateral they locked. The contract also supports ERC-20 functions like <code>transfer</code>, <code>approve</code>, and <code>transferFrom</code>.</p>\n<blockquote>\n<p>Please note that this smart contract is for understanding need only and not to be used in real production use-case. It needs to have further price oracles, liquidation and governance models included for that, not to mention security.</p>\n</blockquote>\n<p><img src=\"https://story.madfish.solutions/wp-content/uploads/2021/09/Synthetics_benefits-1024x576.jpg\" alt=\"\"></p>\n<p>As exciting as synthetic asset tokens are, they come with significant security concerns. Since these tokens are entirely reliant on blockchain technology and smart contracts, their safety depends on the robustness of the underlying code and ecosystem.</p>\n<h3 id=\"smart-contract-vulnerabilities\" tabindex=\"-1\"><strong>Smart Contract Vulnerabilities</strong></h3>\n<p>Smart contracts are immutable once deployed, meaning any bug in the code can be catastrophic. Hackers can exploit vulnerabilities to drain collateral, mint unauthorized tokens, or manipulate token behavior.</p>\n<ul>\n<li><strong>Example</strong>: The 2020 <em>bZx protocol</em> exploit resulted in losses of millions due to flaws in its smart contract logic.</li>\n</ul>\n<h3 id=\"price-oracle-manipulation\" tabindex=\"-1\"><strong>Price Oracle Manipulation</strong></h3>\n<p>Synthetic tokens rely on price oracles to mirror the value of real-world assets. If an oracle is compromised or manipulated, the synthetic token‚Äôs value could diverge drastically, leading to losses for users.</p>\n<ul>\n<li><strong>Example</strong>: In 2022, several DeFi platforms experienced oracle attacks where attackers manipulated prices to profit from undercollateralized positions.</li>\n</ul>\n<h3 id=\"collateral-risks\" tabindex=\"-1\"><strong>Collateral Risks</strong></h3>\n<p>Synthetic tokens require collateral backing to maintain trust and stability. If collateral values drop suddenly (e.g., during a market crash), the synthetic asset system could become undercollateralized, leading to insolvency and loss of funds.</p>\n<h3 id=\"rug-pulls-and-governance-exploits\" tabindex=\"-1\"><strong>Rug Pulls and Governance Exploits</strong></h3>\n<p>In decentralized systems, malicious actors could take over governance (via token voting) and implement changes that siphon funds or destroy the ecosystem.</p>\n<h3 id=\"regulatory-compliance-risks\" tabindex=\"-1\"><strong>Regulatory Compliance Risks</strong></h3>\n<p>Since synthetic tokens mimic traditional assets, they often blur the line between DeFi and traditional finance. Regulatory bodies like the SEC in the U.S. or the RBI in India could impose restrictions or fines on platforms operating without compliance.</p>\n<p>Governance is essential to ensure the stability, transparency, and adaptability of synthetic asset platforms. Without proper governance, these systems can devolve into chaos, whether through technical issues, regulatory non-compliance, or community mismanagement.</p>\n<ol>\n<li>\n<p><strong>Updating Parameters</strong>: Adjusting collateral ratios, fees, and system rules in response to market conditions.</p>\n</li>\n<li>\n<p><strong>Security Audits</strong>: Funding regular audits to identify and patch vulnerabilities.</p>\n</li>\n<li>\n<p><strong>Price Oracle Management</strong>: Ensuring that oracles used for price feeds are reliable, decentralized, and tamper-proof.</p>\n</li>\n<li>\n<p><strong>Emergency Response</strong>: Providing mechanisms to pause or roll back operations during unexpected attacks or exploits.</p>\n</li>\n<li>\n<p><strong>Regulatory Compliance</strong>: Proactively adapting to legal requirements, such as Know Your Customer (KYC) and Anti-Money Laundering (AML) measures.</p>\n</li>\n</ol>\n<p>We can infact learn a lot from traditional financial governance as they‚Äôve gone through similar states involving synthetic assets or derivatives.</p>\n<ol>\n<li>\n<p><strong>SEC‚Äôs Role</strong>: In traditional finance, the U.S. SEC (Securities and Exchange Commission) enforces regulations that protect investors, ensure market fairness, and penalize fraud. Synthetic token platforms could learn from the SEC‚Äôs stringent oversight of derivatives and securities markets to build trust.</p>\n</li>\n<li>\n<p><strong>RBI‚Äôs Approach</strong>: The Reserve Bank of India oversees monetary policy and ensures that banks maintain sufficient reserves. Similarly, synthetic token platforms need to enforce collateralization rules to prevent insolvency.</p>\n</li>\n</ol>\n<p>Many synthetic token projects already implement decentralized governance models, where token holders vote on key decisions. However, these systems need to balance decentralization with expertise; relying solely on token holders without checks can lead to uninformed or malicious decisions.</p>\n<p>In decentralized synthetic asset markets, reputation will be a key differentiator. Fund managers with strong track records will likely attract more users, liquidity providers, and partnerships. However, reputation isn‚Äôt just a personal asset; it elevates the entire market by fostering trust and reducing skepticism about decentralized finance.</p>\n<p>As the synthetic asset ecosystem grows, we will be introducing decentralized reputation scoring systems in NFTy, think ‚Äúon-chain LinkedIn for fund managers‚Äù. Reputation could become a tradable asset in itself, shaping the future of decentralized markets just as much as the assets being tokenized. We can cover more on building reputation later.</p>\n<p><img src=\"https://academy-public.coinmarketcap.com/optimized-uploads/33d76d0d4aab45b9b02ebab17820373f.png\" alt=\"\"></p>\n<p>Synthetic asset tokens are still in their early days, and the use cases we‚Äôre seeing are just the tip of the iceberg. What could the future hold?</p>\n<ul>\n<li>\n<p><strong>Tokenized Real Estate</strong>: Imagine investing in synthetic tokens representing global real estate markets, all from your phone.</p>\n</li>\n<li>\n<p><strong>Synthetic ESG Assets</strong>: Tokens tied to sustainability indices or carbon credits could attract socially conscious investors.</p>\n</li>\n<li>\n<p><strong>Custom Market Creation</strong>: Want a token that tracks the value of ‚Äúmost streamed artists on Spotify‚Äù? With synthetics, you can create it.</p>\n</li>\n</ul>\n<p>What we can say for sure is that Synthetic asset tokens are more than just a trend. They‚Äôre a fundamental shift in how we think about ownership, liquidity, and financial accessibility. The big question isn‚Äôt just <em>what can we do with synthetics now?</em> but rather <em>what haven‚Äôt we thought of them yet?</em></p>\n",
      "date_published": "2024-12-20T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/how-does-chain-abstraction-work/",
      "url": "https://blog.anirudha.dev/how-does-chain-abstraction-work/",
      "title": "How does Chain Abstraction work?",
      "content_html": "<blockquote>\n<p>If you‚Äôre looking to learn about the basics about Chain Abstraction, then read <a href=\"https://blog.anirudha.dev/chain-abstraction\">this article</a> instead.</p>\n</blockquote>\n<p>Technically speaking, chain abstraction means abstracting away the differences between blockchain networks to provide a seamless experience. The goal is to:</p>\n<ol>\n<li>\n<p><strong>Simplify User Interaction:</strong> Make it easy for users to interact with apps without worrying about which chain they‚Äôre on.</p>\n</li>\n<li>\n<p><strong>Enable Interoperability:</strong> Allow assets, data, and actions to move freely between chains.</p>\n</li>\n<li>\n<p><strong>Reduce Complexity for Developers:</strong> Provide unified tools and APIs to build cross-chain applications.</p>\n</li>\n</ol>\n<p>To achieve chain abstraction, several tools and mechanisms come into play.</p>\n<h2 id=\"cross-chain-bridges\" tabindex=\"-1\"><strong>Cross-Chain Bridges</strong></h2>\n<p>Bridges connect different blockchains, enabling the transfer of assets and data between them. Think of them as digital highways. For example, if you want to move your tokens from Ethereum to Binance Smart Chain, a bridge handles the heavy lifting.</p>\n<ul>\n<li>\n<p>You lock your tokens on the source chain (e.g., Ethereum).</p>\n</li>\n<li>\n<p>The bridge mints an equivalent amount of tokens on the destination chain (e.g., Binance Smart Chain).</p>\n</li>\n<li>\n<p>When you want to reverse the process, the tokens on the destination chain are burned, and the original tokens are unlocked.</p>\n</li>\n</ul>\n<h2 id=\"swaps-and-liquidity-protocols\" tabindex=\"-1\"><strong>Swaps and Liquidity Protocols</strong></h2>\n<p>Swapping tokens across chains often requires decentralized exchanges (DEXs) or protocols like <a href=\"https://app.uniswap.org/\">Uniswap</a> and <a href=\"https://www.sushi.com/ethereum/swap\">SushiSwap</a>. Some advanced protocols like <a href=\"https://thorchain.org/\">Thorchain</a> take it a step further by supporting native cross-chain swaps without wrapping tokens.</p>\n<ul>\n<li>\n<p>Liquidity pools on different chains allow you to trade one token for another.</p>\n</li>\n<li>\n<p>Cross-chain swap protocols use bridges under the hood to move assets while maintaining a smooth experience.</p>\n</li>\n</ul>\n<h2 id=\"interoperability-protocols\" tabindex=\"-1\"><strong>Interoperability Protocols</strong></h2>\n<p>Protocols like <a href=\"https://polkadot.com/\">Polkadot</a> and <a href=\"https://cosmos.network/\">Cosmos</a> focus on making blockchains inherently interoperable. They create ecosystems where chains can share data and assets natively.</p>\n<ul>\n<li>\n<p><strong>Relay Chains:</strong> Central hubs that coordinate communication between connected blockchains.</p>\n</li>\n<li>\n<p><strong>IBC (Inter-Blockchain Communication):</strong> A protocol standard used in Cosmos to let chains talk to each other securely. All contracts follow the <a href=\"https://github.com/cosmos/ibc\">Interchain Standards (ICS)</a> for the Cosmos network &amp; interchain ecosystem.</p>\n</li>\n</ul>\n<h2 id=\"universal-wallets\" tabindex=\"-1\"><strong>Universal Wallets</strong></h2>\n<p>Tools like <a href=\"https://particle.network/\">Particle Network</a> enable universal account wallets that work across multiple chains. Instead of manually switching between networks, these wallets auto-detect and handle transactions on the right chain.</p>\n<ul>\n<li>\n<p>Chain detection and configuration happen automatically.</p>\n</li>\n<li>\n<p>Transactions are routed to the correct blockchain without user intervention.</p>\n</li>\n</ul>\n<h2 id=\"rpc-aggregators\" tabindex=\"-1\"><strong>RPC Aggregators</strong></h2>\n<p>Remote Procedure Call (RPC) endpoints are gateways to blockchains. Aggregators like Alchemy and Infura provide a unified interface to interact with multiple blockchains, abstracting away the need to set up individual endpoints.</p>\n<p><img src=\"https://blog.particle.network/content/images/2024/06/image1-5.png\" alt=\"\"></p>\n<p>Chain abstraction is the backbone of many user-friendly crypto applications. Lets see a few examples:</p>\n<p>Imagine you‚Äôre using a decentralized finance app to swap Ethereum (ETH) for Binance Coin (BNB). Here‚Äôs what it looks like from your perspective:</p>\n<ol>\n<li>\n<p>You open the app and select <code>ETH</code> as the token to swap.</p>\n</li>\n<li>\n<p>You choose <code>BNB</code> as the token to receive.</p>\n</li>\n<li>\n<p>You click ‚ÄúSwap‚Äù and confirm the transaction.</p>\n</li>\n</ol>\n<p>From your perspective, it‚Äôs a one-click process. Behind the scenes, multiple tools work together to make it seamless.</p>\n<ol>\n<li>\n<p>The app detects that ETH is on Ethereum and BNB is on Binance Smart Chain.</p>\n</li>\n<li>\n<p>A cross-chain bridge locks your ETH on Ethereum and creates a wrapped version on Binance Smart Chain.</p>\n</li>\n<li>\n<p>The app uses a liquidity pool to exchange the wrapped ETH for BNB.</p>\n</li>\n<li>\n<p>Finally, the app transfers BNB to your wallet on Binance Smart Chain.</p>\n</li>\n</ol>\n<p>Here‚Äôs a simple Solidity contract for locking tokens on Ethereum and emitting an event to notify a bridge:</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token comment\">// SPDX-License-Identifier: MIT</span><br><span class=\"token keyword\">pragma</span> <span class=\"token keyword\">solidity</span> <span class=\"token operator\">^</span><span class=\"token version number\">0.8.0</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">contract</span> <span class=\"token class-name\">TokenLock</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">event</span> <span class=\"token function\">TokenLocked</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token keyword\">indexed</span> user<span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint256</span> amount<span class=\"token punctuation\">,</span> <span class=\"token builtin\">string</span> destinationChain<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token keyword\">mapping</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">uint256</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> lockedBalances<span class=\"token punctuation\">;</span><br><br>    <span class=\"token keyword\">function</span> <span class=\"token function\">lockTokens</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint256</span> amount<span class=\"token punctuation\">,</span> <span class=\"token builtin\">string</span> <span class=\"token keyword\">memory</span> destinationChain<span class=\"token punctuation\">)</span> <span class=\"token keyword\">external</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>amount <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Amount must be greater than 0\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>        <span class=\"token comment\">// Simulate token lock (e.g., ERC20 transfer to contract)</span><br>        lockedBalances<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> amount<span class=\"token punctuation\">;</span><br><br>        <span class=\"token comment\">// Emit event for bridge to pick up</span><br>        <span class=\"token keyword\">emit</span> <span class=\"token function\">TokenLocked</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">,</span> amount<span class=\"token punctuation\">,</span> destinationChain<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>This contract locks tokens on Ethereum and emits an event. A bridge service listens to the event and handles minting on the destination chain.</p>\n<p>Lets take another example. Imagine you own an NFT on Ethereum but want to sell it on a Solana-based marketplace. Chain abstraction allows this by bridging the NFT to Solana while ensuring its metadata and ownership history remain intact.</p>\n<ol>\n<li>\n<p>The NFT is locked on Ethereum, and a wrapped version is created on Solana.</p>\n</li>\n<li>\n<p>The marketplace interacts with the Solana version, displaying it as if it were native to Solana.</p>\n</li>\n<li>\n<p>When the NFT is sold, the buyer can choose to keep it on Solana or transfer it back to Ethereum.</p>\n</li>\n</ol>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token comment\">// SPDX-License-Identifier: MIT</span><br><span class=\"token keyword\">pragma</span> <span class=\"token keyword\">solidity</span> <span class=\"token operator\">^</span><span class=\"token version number\">0.8.0</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">import</span> <span class=\"token string\">\"@openzeppelin/contracts/token/ERC721/IERC721.sol\"</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">contract</span> <span class=\"token class-name\">NFTBridge</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">event</span> <span class=\"token function\">NFTLocked</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token keyword\">indexed</span> user<span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint256</span> tokenId<span class=\"token punctuation\">,</span> <span class=\"token builtin\">string</span> destinationChain<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>    IERC721 <span class=\"token keyword\">public</span> nftContract<span class=\"token punctuation\">;</span><br><br>    <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> _nftContract<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        nftContract <span class=\"token operator\">=</span> <span class=\"token function\">IERC721</span><span class=\"token punctuation\">(</span>_nftContract<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">function</span> <span class=\"token function\">lockNFT</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint256</span> tokenId<span class=\"token punctuation\">,</span> <span class=\"token builtin\">string</span> <span class=\"token keyword\">memory</span> destinationChain<span class=\"token punctuation\">)</span> <span class=\"token keyword\">external</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>nftContract<span class=\"token punctuation\">.</span><span class=\"token function\">ownerOf</span><span class=\"token punctuation\">(</span>tokenId<span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Not the owner\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>        <span class=\"token comment\">// Transfer the NFT to the bridge contract</span><br>        nftContract<span class=\"token punctuation\">.</span><span class=\"token function\">transferFrom</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">,</span> <span class=\"token builtin\">address</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> tokenId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>        <span class=\"token comment\">// Emit event for bridge service</span><br>        <span class=\"token keyword\">emit</span> <span class=\"token function\">NFTLocked</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">,</span> tokenId<span class=\"token punctuation\">,</span> destinationChain<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>In this example, the contract locks an NFT and emits an event. The bridge then handles minting the wrapped NFT on the target chain.</p>\n<p>How about EVM to Cosmos perhaps?</p>\n<p>Here‚Äôs an example illustrating how a smart contract on Ethereum can interact with a Cosmos chain using IBC:</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token comment\">// SPDX-License-Identifier: MIT</span><br><span class=\"token keyword\">pragma</span> <span class=\"token keyword\">solidity</span> <span class=\"token operator\">^</span><span class=\"token version number\">0.8.0</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">contract</span> <span class=\"token class-name\">EVMToCosmosBridge</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">event</span> <span class=\"token function\">TokenSentToCosmos</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token keyword\">indexed</span> sender<span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint256</span> amount<span class=\"token punctuation\">,</span> <span class=\"token builtin\">string</span> cosmosAddress<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>    <span class=\"token keyword\">mapping</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">uint256</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> balances<span class=\"token punctuation\">;</span><br><br>    <span class=\"token keyword\">function</span> <span class=\"token function\">sendToCosmos</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint256</span> amount<span class=\"token punctuation\">,</span> <span class=\"token builtin\">string</span> <span class=\"token keyword\">memory</span> cosmosAddress<span class=\"token punctuation\">)</span> <span class=\"token keyword\">external</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>amount <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Amount must be greater than 0\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><br>        <span class=\"token comment\">// Simulate token lock (e.g., ERC20 transfer to contract)</span><br>        balances<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> amount<span class=\"token punctuation\">;</span><br><br>        <span class=\"token comment\">// Emit event for Cosmos chain to pick up</span><br>        <span class=\"token keyword\">emit</span> <span class=\"token function\">TokenSentToCosmos</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">,</span> amount<span class=\"token punctuation\">,</span> cosmosAddress<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>This contract locks tokens on Ethereum and emits an event for an IBC-compatible relayer to transfer the equivalent tokens to a Cosmos chain.</p>\n<p>On the Cosmos side, a module listens for IBC events and handles incoming tokens:</p>\n<pre class=\"language-rust\"><code class=\"language-rust\">package tokenbridge<br><br><span class=\"token function\">import</span> <span class=\"token punctuation\">(</span><br>    <span class=\"token string\">\"github.com/cosmos/cosmos-sdk/types\"</span><br>    <span class=\"token string\">\"github.com/cosmos/ibc-go/modules/core/04-channel/types\"</span><br><span class=\"token punctuation\">)</span><br><br>func <span class=\"token class-name\">HandleTokenTransfer</span><span class=\"token punctuation\">(</span>ctx sdk<span class=\"token punctuation\">.</span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">,</span> msg types<span class=\"token punctuation\">.</span><span class=\"token class-name\">MsgRecvPacket</span><span class=\"token punctuation\">)</span> error <span class=\"token punctuation\">{</span><br>    <span class=\"token comment\">// Decode the packet</span><br>    var data <span class=\"token class-name\">TokenTransferPacketData</span><br>    <span class=\"token keyword\">if</span> err <span class=\"token punctuation\">:</span><span class=\"token operator\">=</span> json<span class=\"token punctuation\">.</span><span class=\"token class-name\">Unmarshal</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span><span class=\"token class-name\">Packet</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">Data</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> err <span class=\"token operator\">!=</span> nil <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">return</span> err<br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token comment\">// Mint the tokens for the recipient</span><br>    recipient <span class=\"token punctuation\">:</span><span class=\"token operator\">=</span> sdk<span class=\"token punctuation\">.</span><span class=\"token class-name\">AccAddress</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span><span class=\"token class-name\">Recipient</span><span class=\"token punctuation\">)</span><br>    amount <span class=\"token punctuation\">:</span><span class=\"token operator\">=</span> sdk<span class=\"token punctuation\">.</span><span class=\"token class-name\">NewCoin</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span><span class=\"token class-name\">Denom</span><span class=\"token punctuation\">,</span> sdk<span class=\"token punctuation\">.</span><span class=\"token class-name\">NewInt</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span><span class=\"token class-name\">Amount</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br><br>    <span class=\"token keyword\">if</span> err <span class=\"token punctuation\">:</span><span class=\"token operator\">=</span> <span class=\"token class-name\">MintTokens</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">,</span> recipient<span class=\"token punctuation\">,</span> amount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> err <span class=\"token operator\">!=</span> nil <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">return</span> err<br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">return</span> nil<br><span class=\"token punctuation\">}</span><br><br>func <span class=\"token class-name\">MintTokens</span><span class=\"token punctuation\">(</span>ctx sdk<span class=\"token punctuation\">.</span><span class=\"token class-name\">Context</span><span class=\"token punctuation\">,</span> recipient sdk<span class=\"token punctuation\">.</span><span class=\"token class-name\">AccAddress</span><span class=\"token punctuation\">,</span> amount sdk<span class=\"token punctuation\">.</span><span class=\"token class-name\">Coin</span><span class=\"token punctuation\">)</span> error <span class=\"token punctuation\">{</span><br>    <span class=\"token comment\">// Use the bank module to mint and send tokens</span><br>    bankKeeper <span class=\"token punctuation\">:</span><span class=\"token operator\">=</span> <span class=\"token class-name\">GetBankKeeper</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br>    <span class=\"token keyword\">return</span> bankKeeper<span class=\"token punctuation\">.</span><span class=\"token class-name\">MintCoins</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">,</span> <span class=\"token class-name\">ModuleName</span><span class=\"token punctuation\">,</span> sdk<span class=\"token punctuation\">.</span><span class=\"token class-name\">NewCoins</span><span class=\"token punctuation\">(</span>amount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>This Cosmos module listens for incoming IBC packets, decodes the token transfer details, and mints tokens to the recipient‚Äôs address. It complements the Ethereum-side contract to complete the abstraction.</p>\n<p>Now, since blockchains are inherently siloed networks, they ideally wouldn‚Äôt know to even listen each other. That‚Äôs where the bridges and other tools come in. Even with bridges, potential limitations still exists. If the cross-chain bridge experiences congestion, your transaction might be delayed. Additionally, if there‚Äôs insufficient liquidity in the liquidity pool for the target token, you might get unfavorable rates or the swap could fail entirely. Lastly, any issues with the smart contracts underlying the bridge or pool could result in transaction errors or delays.<br>\nDespite these risks, robust protocols and fallback mechanisms are constantly evolving to mitigate such problems. Scalability can also become a bottleneck as the number of connected chains increases, requiring more resources to maintain performance. Security is another concern, as cross-chain communication introduces additional attack surfaces, such as vulnerabilities in the relay chains or the Inter-Blockchain Communication (IBC) protocol. Addressing these issues is critical for achieving robust and secure interoperability.</p>\n<p><em>There‚Äôs a long way to go to achieve true chain abstraction, but we‚Äôre on the way already‚Ä¶</em></p>\n",
      "date_published": "2024-12-17T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/manga-manhua-manhwa/",
      "url": "https://blog.anirudha.dev/manga-manhua-manhwa/",
      "title": "Manga, Manhua and Manhwa",
      "content_html": "<p>If you‚Äôve ever stumbled into the world of Asian graphic novels, you‚Äôve probably come across the big three: <strong>Manga</strong> (Japanese graphic novels), <strong>Manhua</strong> (Chinese graphic novels), and <strong>Manhwa</strong> (Korean graphic novels). At first glance, they might all look like stylish black-and-white panels filled with expressive characters. But look closer, and you‚Äôll find a rich tapestry of differences woven from their unique cultural, historical, and creative roots. So, let‚Äôs dive in and explore these fantastic worlds, no passport required!<br>\n<em>Don‚Äôt kill me for the word ‚Äúcomics‚Äù. Its just a reference to make it easier to understand comparing with western graphic novels.</em></p>\n<h3 id=\"manga%3A-the-og-(original-graphic)-of-asian-comics\" tabindex=\"-1\"><strong>Manga: The OG (Original Graphic) of Asian Comics</strong></h3>\n<p>Manga is Japan‚Äôs pride and joy, with roots tracing back to <strong>ukiyo-e woodblock prints</strong> from the Edo period (1603‚Äì1867). But modern manga as we know it exploded post-WWII, thanks to Osamu Tezuka‚Äôs ‚ÄúAstro Boy.‚Äù Tezuka‚Äôs cinematic style was revolutionary, and his work set the stage for manga‚Äôs global domination.</p>\n<p><strong>Format:</strong> Usually black-and-white and printed in small booklets or magazines like <em>Shonen Jump</em>.</p>\n<p><strong>Direction:</strong> Right to left. Yes, it‚Äôs the ultimate ‚Äúread me backward‚Äù experience.</p>\n<p><strong>Art Style:</strong> Highly detailed characters with larger-than-life emotions (those teary, sparkling eyes are iconic).</p>\n<p>From <em>Naruto</em> kicking butt in ninja villages to <em>Death Note</em> making us question our moral compasses, manga has something for everyone. There are genres for boys (<em>shonen</em>), girls (<em>shoujo</em>), adults (<em>seinen</em>), and beyond.</p>\n<p>Manga is thriving globally. Platforms like MangaPlus bring serialized chapters to international fans, and anime adaptations only amplify the craze (<em>Demon Slayer</em>, anyone?). It‚Äôs not just entertainment, it‚Äôs an economic powerhouse in Japan. <strong>Shonen Jump</strong>, one of the most iconic and influential manga magazines in the world, published by the Japanese company <strong>Shueisha</strong> made manga culture appeal far-reaching, captivating readers of all ages and genders with its diverse roster of stories. A lot of popular manga like <em>Dragon Ball</em>, <em>Naruto</em>, <em>One Piece</em>, and <em>Demon Slayer, Jujutsu Kaisen, Bleach and many more</em> all got their start in this magazine.</p>\n<p>If you‚Äôre getting started, here‚Äôs my top recommendations:</p>\n<ul>\n<li>\n<p><strong>Dragon Ball Z :</strong> <em>The OG power-up and fight series that defined a generation.</em></p>\n</li>\n<li>\n<p><strong>One Piece :</strong> <em>Pirates, treasures, and a stretchy hero. What‚Äôs not to love?</em></p>\n</li>\n<li>\n<p><strong>Naruto :</strong> <em>The journey of a knucklehead ninja with dreams of becoming Hokage.</em></p>\n</li>\n<li>\n<p><strong>Attack on Titan :</strong> <em>Giant man-eating creatures? A dystopian masterpiece.</em></p>\n</li>\n<li>\n<p><strong>Death Note :</strong> <em>A notebook that kills? Cue moral dilemmas and epic mind games.</em></p>\n</li>\n<li>\n<p><strong>Fullmetal Alchemist :</strong> <em>Alchemy, brotherly bonds, and an unforgettable story.</em></p>\n</li>\n<li>\n<p><strong>Demon Slayer (Kimetsu no Yaiba) :</strong> <em>Demon hunting with a side of breathtaking animation.</em></p>\n</li>\n<li>\n<p><strong>Bleach :</strong> <em>Soul Reaper stuck in human world and epic journey begins</em></p>\n</li>\n<li>\n<p><strong>Jujutsu Kaisen :</strong> <em>Curses, exorcists, and a protagonist who eats a finger. Wild ride.</em></p>\n</li>\n<li>\n<p><strong>Vinland Saga :</strong> <em>Vikings and real history woven into an epic story.</em></p>\n</li>\n<li>\n<p><strong>Tokyo Revengers :</strong> <em>Time travel, gangs, and redemption arcs galore.</em></p>\n</li>\n<li>\n<p><strong>Hunter x Hunter</strong> : <em>Adventure packed story of a world opening into larger world.</em></p>\n</li>\n<li>\n<p><strong>Parasyte :</strong> <em>Alien parasites take over humans</em></p>\n</li>\n</ul>\n<p><em>There‚Äôs plenty more but these would be good starting points.</em></p>\n<p><img src=\"/images/posts/47415c57-5fc6-4367-af2b-0ca40884318f.webp\" alt=\"\"></p>\n<h3 id=\"manhua%3A-the-chinese-renaissance-of-comics\" tabindex=\"-1\"><strong>Manhua: The Chinese Renaissance of Comics</strong></h3>\n<p>Manhua dates back to 19th-century satirical drawings. While early manhua was mostly based around political settings, it evolved into a vibrant storytelling medium by the 20th century. Thanks to the internet boom, digital manhua exploded in popularity.</p>\n<p><strong>Format:</strong> Often in vibrant <strong>full color</strong>, breaking away from manga‚Äôs monochromatic traditions.</p>\n<p><strong>Direction:</strong> Left to right, like most Western comics. (<em>Your brain thanks you.</em>)</p>\n<p><strong>Art Style:</strong> Slick, sharp lines and ethereal vibes, especially in <strong>cultivation</strong> (think martial arts meets fantasy) genres.</p>\n<p>Manhua loves epic fantasy (<em>cultivation tales like ‚ÄúTales of Demons and Gods‚Äù</em>), historical romance, and revenge-driven dramas. There‚Äôs often a philosophical touch, reflecting Confucian values or Taoist mysticism.</p>\n<p>China‚Äôs strict censorship laws have shaped manhua‚Äôs themes, keeping them relatively tame. However, platforms like <em>Tencent Comics</em>, <em>Bilibili Comics</em> and <em>Kuaikan Manhua</em> are pushing them to global audiences. The industry still struggles to match manga‚Äôs global reach, but it‚Äôs making steady strides.</p>\n<p>If you‚Äôre getting started, here‚Äôs my top recommendations:</p>\n<ul>\n<li>\n<p><strong>Tales of Demons and Gods :</strong> <em>Cultivation fantasy with a reincarnated protagonist aiming to change fate.</em></p>\n</li>\n<li>\n<p><strong>The King‚Äôs Avatar :</strong> <em>E-sports meets a gaming prodigy‚Äôs rise to glory.</em></p>\n</li>\n<li>\n<p><strong>Soul Land (Douluo Dalu) :</strong> <em>Martial arts and magical beast fusion battles.</em></p>\n</li>\n<li>\n<p><strong>Apotheosis :</strong> <em>A journey from a slave to a god epic cultivation vibes.</em></p>\n</li>\n<li>\n<p><strong>Martial Peak :</strong> <em>An endless quest for strength in a martial arts universe.</em></p>\n</li>\n<li>\n<p><strong>Battle Through the Heavens :</strong> <em>Alchemy, martial arts, and the ultimate underdog story.</em></p>\n</li>\n<li>\n<p><strong>Versatile Mage :</strong> <em>A magic school story with a rebellious protagonist who defies norms.</em></p>\n</li>\n<li>\n<p><strong>Star Martial God Technique :</strong> <em>A quest to master the universe‚Äôs strongest martial arts technique.</em></p>\n</li>\n<li>\n<p><strong>The Ravages of Time :</strong> <em>Historical epic inspired by China‚Äôs Three Kingdoms period.</em></p>\n</li>\n<li>\n<p><strong>God of Martial Arts :</strong> <em>A world where martial arts determine life, death, and destiny.</em></p>\n</li>\n<li>\n<p><strong>Ultimate of All Ages :</strong> <em>Man from the ancient past, who awakens in a world thousands of years into the future</em>.</p>\n</li>\n</ul>\n<p><img src=\"/images/posts/bac9cc84-7a82-4b72-ab77-a3c54e2f3a19.avif\" alt=\"\"></p>\n<blockquote>\n<p>My friend Sreeram maintains <a href=\"https://kitsu.app/users/1460649/library?media=manga\">this list</a> that you can also follow for more recommendations.</p>\n</blockquote>\n<h3 id=\"manhwa%3A-the-webtoon-revolution\" tabindex=\"-1\"><strong>Manhwa: The Webtoon Revolution</strong></h3>\n<p>Manhwa blossomed in Korea post-WWII but faced setbacks during the country‚Äôs political turmoil. By the 2000s, digital manhwa (aka <strong>webtoons</strong>) redefined the game. Korean creators took advantage of smartphones, creating vertical-scrolling comics designed for seamless online reading.</p>\n<p><strong>Format:</strong> Full-color, <strong>vertical scrolling</strong>, perfect for phone addicts (guilty!).</p>\n<p><strong>Direction:</strong> Left to right.</p>\n<p><strong>Art Style:</strong> Clean, modern, and often cinematic, with dynamic paneling.</p>\n<p>Manhwa is fearless when it comes to tackling adult themes (<em>hello, ‚ÄúSolo Leveling‚Äù and ‚ÄúLore Olympus‚Äù</em>). From heartwarming romances (<em>‚ÄúTrue Beauty‚Äù</em>) to action-packed epics (<em>‚ÄúTower of God‚Äù</em>), manhwa often blends K-drama vibes with stunning visuals.</p>\n<p>Manhwa is leading the digital comics world, and platforms like <em>LINE Webtoon, Lezhin Comics, Toomics</em> and <em>KakaoPage</em> are expanding its global footprint. Thanks to Netflix adaptations (<em>Sweet Home</em>, <em>Hellbound</em>), manhwa is practically a household name now.</p>\n<p>If you‚Äôre getting started, here‚Äôs my top recommendations:</p>\n<ul>\n<li>\n<p><strong>Solo Leveling :</strong> <em>From weakling to world‚Äôs strongest hunter, an action-packed journey.</em></p>\n</li>\n<li>\n<p><strong>Tower of God :</strong> <em>A mysterious tower, tests of strength, and betrayal at every turn.</em></p>\n</li>\n<li>\n<p><strong>Omniscient Reader‚Äôs Viewpoint :</strong> <em>Imagine waking up in your favorite web novel‚Äôs apocalyptic world.</em></p>\n</li>\n<li>\n<p><strong>The Beginning After the End</strong> : <em>A king reincarnated into world of magic</em></p>\n</li>\n<li>\n<p><strong>True Beauty :</strong> <em>A heartwarming story of self-esteem and romance with K-drama adaptation in 2020.</em></p>\n</li>\n<li>\n<p><strong>The Breaker :</strong> <em>Martial arts battles with a secretive and charismatic mentor.</em></p>\n</li>\n<li>\n<p><strong>Noblesse :</strong> <em>A vampire awakening in modern society, epic fights and humor included.</em></p>\n</li>\n<li>\n<p><strong>The God of High School</strong> : <em>A high school martial arts competition takes crazy turn.</em></p>\n</li>\n<li>\n<p><strong>Sweet Home :</strong> <em>Survival horror with a psychological twist. Monsters, everywhere.</em></p>\n</li>\n<li>\n<p><strong>Bastard :</strong> <em>Thriller meets psychological horror with a chilling father-son dynamic.</em></p>\n</li>\n<li>\n<p><strong>Nano Machine :</strong> <em>Nano machines from future makes kid rise up in Demonic Cult and path to the strongest. Also has other manhwa in same universe like</em> <em><strong>Absolute Sword Sense</strong></em>.</p>\n</li>\n<li>\n<p><strong>The Gamer :</strong> <em>High-school student with special powers make real world feel like gaming.</em></p>\n</li>\n<li>\n<p><strong>Academy‚Äôs Underground Professor :</strong> <em>Former Assassin becomes professor and becomes entangled in the academy‚Äôs hidden secrets, political conspiracies, and mysterious powers.</em></p>\n</li>\n</ul>\n<p><img src=\"/images/posts/150eee81-2d70-4121-9b18-e6cf76fb2b18.png\" alt=\"\"></p>\n<p><em>I‚Äôm slightly partial to action packed series but there‚Äôs plenty of popular titles in various genres available as well.</em></p>\n<h3 id=\"what-sets-them-apart%3F\" tabindex=\"-1\"><strong>What Sets Them Apart?</strong></h3>\n<table>\n<thead>\n<tr>\n<th><strong>Aspect</strong></th>\n<th><strong>Manga</strong></th>\n<th><strong>Manhua</strong></th>\n<th><strong>Manhwa</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>Origin</strong></td>\n<td>Japan</td>\n<td>China</td>\n<td>Korea</td>\n</tr>\n<tr>\n<td><strong>Reading Direction</strong></td>\n<td>Right to left</td>\n<td>Left to right</td>\n<td>Left to right</td>\n</tr>\n<tr>\n<td><strong>Art Style</strong></td>\n<td>Black-and-white, detailed</td>\n<td>Full-color, sleek</td>\n<td>Full-color, cinematic</td>\n</tr>\n<tr>\n<td><strong>Format</strong></td>\n<td>Serialized in magazines</td>\n<td>Digital or print</td>\n<td>Digital (vertical)</td>\n</tr>\n<tr>\n<td><strong>Global Reach</strong></td>\n<td>Widely known</td>\n<td>Growing steadily</td>\n<td>Exploding internationally</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>Manga, manhua, and manhwa may share DNA, but they‚Äôve evolved into distinct art forms with unique flavors. Manga feels like a trusted old friend, manhua like a mystical storyteller, and manhwa like your tech-savvy, trendsetting sibling.</p>\n<p>Apart from these, there are some one-shots which comes up such as my fav donghua web series Link Click. So many art forms out there telling amazing stories. :)</p>\n</blockquote>\n<p><img src=\"/images/posts/1b2b2afd-a563-4220-a712-a4bc8ecec366.avif\" alt=\"\"></p>\n<p>Don‚Äôt be hating in any of them. Love and enjoy each üòâ story and their unique experience.</p>\n<p>üíô</p>\n",
      "date_published": "2024-12-15T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/chain-abstraction/",
      "url": "https://blog.anirudha.dev/chain-abstraction/",
      "title": "Chain Abstraction",
      "content_html": "<p>Say you want to make an online payment, and instead of just clicking a button, you have to figure out whether the store accepts Visa, Mastercard, or PayPal. Now multiply that headache by 100x, and you‚Äôve got the current state of blockchains. This is where <strong>chain abstraction</strong> steps in ‚Äî the fintech equivalent of a universal payment processor but for blockchains. It makes the Web3 world less about mind-numbing details and more about getting stuff done.</p>\n<p>Let‚Äôs dive into what chain abstraction is, why it‚Äôs the hero we need, and how you can build cool things around it.</p>\n<h2 id=\"what-is-chain-abstraction-anyway%3F\" tabindex=\"-1\"><strong>What Is Chain Abstraction Anyway?</strong></h2>\n<p>Imagine using Venmo, Apple Pay, or Google Pay without worrying about how they talk to your bank or credit card. That‚Äôs chain abstraction for blockchains. It‚Äôs all about hiding the complex, nerdy stuff like gas fees, token standards, and wallet types so users and developers can focus on what matters: <em>buying that damn mocha</em>.</p>\n<p>It makes interacting with blockchains feel less like coding in the Matrix and more like using Spotify. In short, it‚Äôs the magic trick that lets blockchains talk to each other and work together seamlessly.</p>\n<h2 id=\"why-do-we-even-need-this%3F\" tabindex=\"-1\"><strong>Why Do We Even Need This?</strong></h2>\n<p>Blockchains are amazing, but let‚Äôs be real: they‚Äôre a pain to use. Each chain has its quirks, its rules, and its own language. For instance:</p>\n<ul>\n<li>\n<p><strong>Ethereum</strong> makes you worry about gas fees.</p>\n</li>\n<li>\n<p><strong>Solana</strong> dazzles you with speed but has its own wallet ecosystem.</p>\n</li>\n<li>\n<p><strong>Binance Smart Chain</strong> screams, ‚ÄúHey, we‚Äôre cheap!‚Äù but you still have to bridge assets manually.</p>\n</li>\n</ul>\n<p>Imagine if every payment app required you to know the bank‚Äôs internal workings. You‚Äôd delete them in a heartbeat. That‚Äôs why we need chain abstraction to fix these headaches:</p>\n<p><strong>Simplified User Experience</strong><br>\nYou don‚Äôt care which blockchain an app is on. You just want to use it without Googling, ‚ÄúHow to send tokens from Polygon to Arbitrum.‚Äù</p>\n<p><strong>More Collaboration, Less Competition</strong><br>\nDevelopers can focus on innovation instead of building the same tools for every blockchain.</p>\n<p><strong>Onboarding for the Masses</strong><br>\nYour grandma won‚Äôt care about gas fees or token bridges, but she might use Web3 if it‚Äôs as easy as buying something on Amazon.</p>\n<p>Think of chain abstraction as turning a messy fintech system into a unified, user-friendly experience:</p>\n<ul>\n<li>\n<p><strong>No More Wallet Chaos</strong>: Whether it‚Äôs MetaMask, Phantom, or Keplr, users can use one interface to access all their assets.</p>\n</li>\n<li>\n<p><strong>Universal Gas Fees</strong>: Users pay with whatever tokens they have, instead of scrambling to swap for ETH, SOL, or MATIC.</p>\n</li>\n<li>\n<p><strong>Cross-Chain Transactions Made Easy</strong>: Think of it as a blockchain version of Wise for international transfers, but instant and decentralized.</p>\n</li>\n</ul>\n<p>Several blockchain superheroes are already working on this:</p>\n<p><strong>LayerZero</strong>: The omnichain messaging protocol. Think WhatsApp but for blockchains.</p>\n<p><strong>Cosmos (IBC)</strong>: The OG of chain abstraction, letting blockchains chat like old friends.</p>\n<p><strong>Axelar Network</strong>: Focused on secure cross-chain communication. Think of it as a blockchain VPN.</p>\n<p><strong>Polkadot</strong>: Parachains make interoperability look easy, kinda like how Apple devices magically sync.</p>\n<p><strong>Superfluid</strong>: Abstracts token standards for seamless asset streaming across different chains.</p>\n<p><img src=\"https://cdn.prod.website-files.com/63996d8b3c061af402fa0609/65df4d995d272413da344412_Chain%20Abstraction.png\" alt=\"\"></p>\n<h2 id=\"how-does-it-work%3F\" tabindex=\"-1\"><strong>How Does It Work?</strong></h2>\n<p>Chain abstraction operates like the middleware in your favorite fintech app.</p>\n<ul>\n<li>\n<p><strong>Middleware Layers</strong>: Like Stripe for payments, middleware abstracts the complexity of multi-chain interactions.</p>\n</li>\n<li>\n<p><strong>Universal Wallets</strong>: These wallets hide the ‚ÄúWhat chain are you on?‚Äù question.</p>\n</li>\n<li>\n<p><strong>Gas Fee Abstraction</strong>: Imagine paying transaction fees in whatever token you like. No more ‚Äúinsufficient ETH‚Äù pop-ups.</p>\n</li>\n</ul>\n<h2 id=\"so%2C-how-to-build-on-chain-abstraction\" tabindex=\"-1\"><strong>So, How to Build on Chain Abstraction</strong></h2>\n<p>If you‚Äôre a builder looking to jump in, here‚Äôs your cheat sheet:</p>\n<h3 id=\"understand-the-ecosystem\" tabindex=\"-1\"><strong>Understand the Ecosystem</strong></h3>\n<p>Spend time with protocols like LayerZero, Cosmos, and Axelar. They‚Äôre like the Lego sets for chain abstraction.</p>\n<h3 id=\"keep-security-in-mind\" tabindex=\"-1\"><strong>Keep Security in Mind</strong></h3>\n<p>Cross-chain means more doors to lock. Study cryptographic techniques and get comfy with audits.</p>\n<h3 id=\"use-dev-friendly-tools\" tabindex=\"-1\"><strong>Use Dev-Friendly Tools</strong></h3>\n<p>Tools like Axelar SDK or Ethereum‚Äôs EIP-4337 are your best friends. Don‚Äôt reinvent the wheel.</p>\n<h3 id=\"think-like-a-fintech-startup\" tabindex=\"-1\"><strong>Think Like a Fintech Startup</strong></h3>\n<p>Build for scalability and usability. If your app isn‚Äôt grandma-friendly, try again.</p>\n<h3 id=\"some-cool-ideas-to-build\" tabindex=\"-1\"><strong>Some Cool Ideas to Build</strong></h3>\n<p>Here are some project ideas to flex your developer muscles:</p>\n<ol>\n<li>\n<p><strong>Cross-Chain DeFi Superapp</strong><br>\nThink Revolut, but for DeFi. Let users swap, lend, and stake across chains in one interface.</p>\n</li>\n<li>\n<p><strong>Gasless Transactions dApp</strong><br>\nLet users pay fees in their favorite token or abstract gas fees entirely.</p>\n</li>\n<li>\n<p><strong>Blockchain Expedia</strong><br>\nAggregate dApps across chains so users can search for services like booking flights or investing, without worrying about chains.</p>\n</li>\n</ol>\n<blockquote>\n<p>Chain abstraction is like the UPI (Unified Payments Interface) of the blockchain world. It‚Äôs making blockchains talk to each other, play well together, and be user-friendly for everyone. If Web3 is ever going to rival fintech giants like PayPal or Stripe, this is the way forward.</p>\n</blockquote>\n<p>Developers, this is your moment. Start building tools that make blockchains boring in the best way where the tech just works, and users don‚Äôt even notice the chains under the hood. At DripVerse, this is going to be the next frontier to build on. Keep an eye out folks‚Ä¶</p>\n",
      "date_published": "2024-12-09T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/chaos-theory/",
      "url": "https://blog.anirudha.dev/chaos-theory/",
      "title": "Chaos Theory",
      "content_html": "<p>Let‚Äôs talk about chaos. Not the ‚Äúforgot your wallet, keys, and phone‚Äù kind of chaos, but the deep, philosophical, scientific kind. The one that makes you question if the flutter of a butterfly‚Äôs wings in Bengaluru could really spark a thunderstorm in New York. Chaos theory is basically the science of surprise. <em>Predicting the unpredictable</em>. It‚Äôs like trying to organize your desktop files: no matter how much effort you put in, something random (or seemingly random) will inevitably throw everything out of whack. Just like that stupid <code>.DS_Store</code> and you keep having to add to your <code>.gitignore</code>.</p>\n<p>At its core, chaos theory studies systems that are highly sensitive to initial conditions. Commonly known as ‚Äúbutterfly effect‚Äù. In short, small things can have big consequences. Kind of like sending a ‚Äúk‚Äù in response to someone‚Äôs long emotional text. Of course, it might not be intentional. Perhaps you were occupied, driving or otherwise engaged mentally, and the logical part of your brain said to send an acknowledgement to their effort. You didn‚Äôt even mean to reply and yet you hurt the person who put an ample amount of time in sharing their deepest desires.</p>\n<p>Living in Bengaluru itself sometimes feels like total chaos. You might start with a sunny morning and end with a cyclone, all because a few atoms of air decided to take a different route. It‚Äôs a system so complex that even supercomputers give up halfway and ask for a coffee break. (Hopefully, its decaf.)</p>\n<p>But here‚Äôs the twist: chaos doesn‚Äôt mean total randomness. It‚Äôs like a toddler on a sugar high. Erratic, yes, but following its own strange logic. Chaos theory finds patterns in the madness, revealing that seemingly random events often have an underlying order. Some of us tend to understand it on a level unexplained by science. Call it intuition, gut feeling, experience or sixth sense. <em>Spidy sense if you‚Äôre spiderman.</em></p>\n<p><img src=\"/images/posts/e1bb2499-4ef1-4a3b-8d5b-1c37befa2a4a.png\" alt=\"\"></p>\n<p>You encounter chaos every day, whether you realize it or not. Ever tried cooking dinner while on a video call, only to accidentally salt your tea and drink your soup? Or how about commuting in Bengaluru traffic? It‚Äôs a living, breathing example of a chaotic system where every honk feels like it could alter the entire timeline. You never which way the auto driver will turn. Keep you guessing and on your feet.</p>\n<p>Chaos is also why you can‚Äôt predict your social media feed. Algorithms try their best, but your decision to randomly like one cat meme over another might send your entire feed spiraling into chaos. Now you‚Äôre stuck with ads for cat food, and you don‚Äôt even own a pet.</p>\n<h3 id=\"the-digital-butterfly-effect\" tabindex=\"-1\">The Digital Butterfly Effect</h3>\n<p>In cyberspace, chaos theory takes on a whole new meaning. The internet is a hyper-connected, highly sensitive system where small changes‚Äîlike a single line of buggy code‚Äîcan snowball into global meltdowns. A small commit in an unknown library can bring down tech giants and nobody would have a clue of what happened cause that one intern happily strolled off home already.</p>\n<p>Take cybersecurity, for example. A tiny vulnerability in a server can let hackers in, causing cascading chaos across networks. Or think about AI. A chatbot misinterprets one user‚Äôs sarcasm, and suddenly, the entire algorithm thinks everyone loves pineapple on pizza. Hell no. Keep that shit away from my pizza, thanks.</p>\n<p>Social media today is the new ground for chaos. A single tweet can spark revolutions, cancel celebrities, or send stock markets tumbling. Of course it first needs to reach masses. But sometimes an unknown random account can overthrow billions of dollars from the market. It‚Äôs chaos theory on steroids, amplified by algorithms that thrive on unpredictability.</p>\n<p>There has been attempts to define this chaos in the past. Some have even come up with mathematical proofs and equations. Read more about the work from the greats from <strong>Henri Poincare (1889)</strong> and <strong>Cartwight and Littlewood (1945)</strong> to modern theories from <strong>Feigenbaum (1978)</strong> who studied modern day calculator and focused on the bifurcation cascade of the logistic map. Particularly, the way that bifurcations piled on top of bifurcations in a forking structure that showed increasing detail at increasingly fine scales.</p>\n<p><img src=\"/images/posts/d98c9670-db59-451c-a24d-d50511701f7a.webp\" alt=\"\"></p>\n<p>Chaos theory, at its core, is about unpredictability in complex systems. It‚Äôs not inherently a bad thing, but when left unchecked, its implications can ‚Äúconsume‚Äù us. Specially in the modern context of interconnected digital lives.</p>\n<p>In cyberspace, even small actions (like liking a post or sending a tweet) can spiral into unintended consequences. Algorithms thrive on chaotic systems, serving us a never ending stream of content designed to hold our attention. Before you know it, you‚Äôre 3 hours deep into cat video territory with no way out. A minor oversight, a weak password or an unpatched system, can snowball into global disruptions. Just imagine a single compromised smart device setting off a chain of ransomware attacks. In the interconnected chaos of cyberspace, small errors have catastrophic potential.</p>\n<p>The randomness of chaotic systems can make us feel powerless. If we don‚Äôt understand why algorithms recommend certain things or why systems behave erratically, we‚Äôre essentially passengers on a runaway train.</p>\n<blockquote>\n<p>Chaos doesn‚Äôt have to consume us. It can empower us if we respect it. Let it challenge us, teach us, and inspire us. But let‚Äôs not hand it the keys to the kingdom without safeguards. After all, the goal isn‚Äôt to control every butterfly. It‚Äôs to ensure their flutters create growth, not destruction.</p>\n</blockquote>\n<p>So, how do we embrace chaos in cyberspace without letting it consume us?</p>\n<h3 id=\"cybersecurity-resilience\" tabindex=\"-1\"><strong>Cybersecurity Resilience</strong></h3>\n<p>We need systems that can handle surprises. Think firewalls and protocols that can adapt, recover, and bounce back faster than your Uber driver navigating Bengaluru traffic.</p>\n<h3 id=\"algorithm-transparency\" tabindex=\"-1\"><strong>Algorithm Transparency</strong></h3>\n<p>Chaotic systems are bad enough without black-box algorithms making decisions nobody understands. Let‚Äôs demand clarity and accountability from AI systems. Personally I really don‚Äôt like black box systems. Makes me utterly nervous.</p>\n<h3 id=\"decentralized-networks\" tabindex=\"-1\"><strong>Decentralized Networks</strong></h3>\n<p>Centralized systems are like that one Jenga piece holding the tower together‚Äîtoo much pressure, and they collapse. Decentralization could distribute the load and reduce systemic vulnerabilities.</p>\n<h3 id=\"ethics-in-ai-and-web3\" tabindex=\"-1\"><strong>Ethics in AI and Web3</strong></h3>\n<p>As we dive into Web3 and AI-driven worlds, ethical guidelines need to be as robust as the code itself. Because the last thing we need is chaotic systems learning bad behavior from us. Clearer the guidelines, the more cases it handles, the more monitored it becomes. It‚Äôs like raising a kid I suppose.</p>\n<p><img src=\"/images/posts/aff82376-4d59-43b0-99d7-2fb6e784b88d.jpeg\" alt=\"\"></p>\n<p>Chaos is here to stay, both in the real world and the digital one. And while we can‚Äôt predict or control everything, we can create systems that are resilient, transparent, and ethical. Think of it as learning to dance with the butterfly rather than swatting it away. So, whether it‚Äôs a misplaced decimal in a line of code or a viral meme that shifts global consciousness, chaos is both the problem and the solution. Let‚Äôs embrace it, adapt to it, and maybe, just maybe, turn it into a force for good in our shiny new digital frontier.</p>\n<p><em>Find meaning to the madness. Both outside and within!</em></p>\n",
      "date_published": "2024-11-26T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/network-interfaces/",
      "url": "https://blog.anirudha.dev/network-interfaces/",
      "title": "Network Interfaces",
      "content_html": "<blockquote>\n<p>I was working on a side project, which led me to study about various network interfaces. Felt like some rabit hole I fell through. Before I knew it, I had listing down over 10 different network interfaces. So, thought of putting them together for somebody else also studying network interfaces.</p>\n</blockquote>\n<p>TCP/IP, or Transmission Control Protocol/Internet Protocol, is a framework that organizes the communication protocols used on the internet and similar networks. TCP/IP network interfaces are the backbone of modern digital communication, enabling devices to connect and exchange data seamlessly across various network types. These interfaces form the essential link between hardware and software, facilitating everything from local area networks (LANs) to global internet connectivity. With options ranging from Ethernet and Wi-Fi to advanced protocols like MPLS and VPN interfaces, TCP/IP ensures scalability, reliability, and versatility in diverse applications.</p>\n<p>The TCP/IP protocol suite supports a wide range of network interfaces.</p>\n<h3 id=\"standard-ethernet-version-2-(en)\" tabindex=\"-1\"><strong>Standard Ethernet Version 2 (en)</strong></h3>\n<p>Ethernet Version 2, created by Digital Equipment Corporation, Intel, and Xerox (DIX), is the go-to standard for wired local networks. Think of it as the classic way to connect your desktop to a router using an Ethernet cable (you know, the one with the RJ45 connector). It‚Äôs super reliable and perfect for high-speed connections, whether you‚Äôre setting up a home office or a big office network. Simple, solid, and it just works!</p>\n<p><strong>Pros</strong>: High reliability, consistent speed, and wide adoption.</p>\n<p><strong>Cons</strong>: Limited mobility compared to wireless standards like Wi-Fi.</p>\n<h3 id=\"ieee-802.3-(et)\" tabindex=\"-1\"><strong>IEEE 802.3 (et)</strong></h3>\n<p>IEEE 802.3 is the standard behind Ethernet that works with twisted-pair and fiber-optic cables. It covers specs like 10BASE-T and 100BASE-TX, which power Fast Ethernet using Cat 5e cables in many offices. It‚Äôs super reliable and has become the backbone of modern Ethernet networks, especially in enterprise environments.</p>\n<p><strong>Pros</strong>: Scalability from 10 Mbps to 100 Gbps; supports various media types.</p>\n<p><strong>Cons</strong>: Higher cost for fiber-optic variants compared to copper-based standards.</p>\n<h3 id=\"token-ring-(tr)\" tabindex=\"-1\"><strong>Token Ring (tr)</strong></h3>\n<p>Token Ring is an old-school LAN tech where devices take turns to talk by passing a ‚Äútoken‚Äù around‚Äîkind of like a speaking stick in a meeting. It was big back in the day, especially in banking systems with IBM‚Äôs Token Ring networks. While it‚Äôs pretty much obsolete now, it did a great job of ensuring no two devices tried to send data at the same time.</p>\n<p><strong>Pros</strong>: Deterministic access; suitable for real-time systems.</p>\n<p><strong>Cons</strong>: Slower than Ethernet; less flexible due to token passing.</p>\n<h3 id=\"serial-line-internet-protocol-(slip)\" tabindex=\"-1\"><strong>Serial Line Internet Protocol (SLIP)</strong></h3>\n<p>SLIP was one of the first protocols used for point-to-point connections over serial lines. If you remember the dial-up modems from the ‚Äô90s, that‚Äôs where SLIP came into play, helping to send IP packets over those old telephone lines. It may be outdated now, but it was a big step forward in getting the internet up and running in its early days.</p>\n<p><strong>Pros</strong>: Simple and lightweight.</p>\n<p><strong>Cons</strong>: No error detection; replaced by Point-to-Point Protocol (PPP).</p>\n<h3 id=\"loopback-(lo)\" tabindex=\"-1\"><strong>Loopback (lo)</strong></h3>\n<p>The loopback interface is like a virtual playground for your computer‚Äôs network. It‚Äôs what you use when you access <code>localhost</code> (127.0.0.1) to test things like web servers or debug apps without needing an actual network connection. Perfect for internal testing and troubleshooting, it‚Äôs always there when you need it!</p>\n<p><strong>Pros</strong>: Always available and highly reliable.</p>\n<p><strong>Cons</strong>: Limited to local machine interactions.</p>\n<h3 id=\"fddi-(fiber-distributed-data-interface)\" tabindex=\"-1\"><strong>FDDI (Fiber Distributed Data Interface)</strong></h3>\n<p>FDDI is a high-speed network tech that uses fiber optics, perfect for handling big jobs like connecting backbone networks in cities. It‚Äôs built to be super fast and reliable, making it great for things like video streaming and other high-bandwidth tasks across wide-area networks.</p>\n<p><strong>Pros</strong>: Redundancy through dual-ring architecture.</p>\n<p><strong>Cons</strong>: Expensive compared to Ethernet; largely obsolete today.</p>\n<h3 id=\"serial-optical-(so)\" tabindex=\"-1\"><strong>Serial Optical (so)</strong></h3>\n<p>Serial optical tech is all about sending data over long distances using fiber optic cables. It‚Äôs what connects data centers and makes high-speed, low-latency communication possible. Perfect for when you need to move a lot of data fast and over a long stretch!</p>\n<p><strong>Pros</strong>: Extremely low latency and high bandwidth.</p>\n<p><strong>Cons</strong>: High installation and maintenance costs.</p>\n<h3 id=\"atm-(asynchronous-transfer-mode)\" tabindex=\"-1\"><strong>ATM (Asynchronous Transfer Mode)</strong></h3>\n<p>ATM largely relies on a networking technology using fixed-size cells for reliable data transmission. It was popular with broadband ISPs for handling data, voice, and video all on the same network. Great at juggling different types of traffic efficiently, it was a solid choice for reliable communication back in the day.</p>\n<p><strong>Pros</strong>: Guaranteed bandwidth for real-time services.</p>\n<p><strong>Cons</strong>: Complex configuration; overshadowed by modern IP-based technologies.</p>\n<h3 id=\"point-to-point-protocol-(ppp)\" tabindex=\"-1\"><strong>Point-to-Point Protocol (PPP)</strong></h3>\n<p>PPP is the protocol that makes direct connections between two nodes work, like DSL connections between your modem and ISP. It added features like security and authentication, making internet access safer and more reliable. It took over from SLIP and quickly became the better option for getting online.</p>\n<p><strong>Pros</strong>: Supports authentication and compression.</p>\n<p><strong>Cons</strong>: Inefficient for modern high-speed connections.</p>\n<h3 id=\"virtual-ip-address-(vi)\" tabindex=\"-1\"><strong>Virtual IP Address (vi)</strong></h3>\n<p>Virtual IPs let multiple devices or services share the same IP address, which is super handy for things like load balancers in cloud setups. They help keep systems running smoothly by balancing traffic and ensuring high availability and redundancy. Essential for keeping things reliable in distributed systems!</p>\n<p><strong>Pros</strong>: Improves redundancy and fault tolerance.</p>\n<p><strong>Cons</strong>: Requires advanced configuration and monitoring.</p>\n<h3 id=\"apple-ncm-private-interface-(anpi)\" tabindex=\"-1\"><strong>Apple NCM Private Interface (anpi)</strong></h3>\n<p>Apple‚Äôs NCM Private Interface (anpi) is their own custom setup for networking and connectivity. Think USB-to-Ethernet adapters for MacBooks and other Apple devices‚Äîit‚Äôs all about making things work smoothly within the Apple ecosystem. Just another way Apple keeps everything connected seamlessly!</p>\n<p><strong>Pros</strong>: Seamless user experience for Apple devices.</p>\n<p><strong>Cons</strong>: Proprietary; limited to Apple environments.</p>\n<h3 id=\"apple-specific-for-vpn-and-back-to-my-mac-(utun)\" tabindex=\"-1\"><strong>Apple Specific for VPN and Back to My Mac (utun)</strong></h3>\n<p>The <code>utun</code> interface in macOS is used for VPNs and remote desktop connections, like when you access your MacBook remotely using <strong>Back to My Mac</strong>. It‚Äôs all about making sure Apple users can securely connect to their devices from anywhere. A simple way to stay connected, even when you‚Äôre not right in front of your Mac! However it might show up even when your Back to My Mac is disabled or inaccessible.</p>\n<p><strong>Pros</strong>: Tailored for privacy and encryption.</p>\n<p><strong>Cons</strong>: Exclusivity to macOS; less customizable than generic VPN solutions.</p>\n<h3 id=\"bonded-interfaces-(bond)\" tabindex=\"-1\"><strong>Bonded Interfaces (bond)</strong></h3>\n<p>Bonded interfaces combine multiple network connections into one super-fast, high-bandwidth link. It‚Äôs like merging several lanes on a highway to handle more traffic at once. Servers use things like Link Aggregation Control Protocol (LACP) to balance the load and add redundancy, making sure your network stays fast and reliable, even if one link fails.</p>\n<p><strong>Pros</strong>: Increases speed and fault tolerance.</p>\n<p><strong>Cons</strong>: Requires hardware and software compatibility.</p>\n<h3 id=\"vpn-interfaces-(tun%2Ftap)\" tabindex=\"-1\"><strong>VPN Interfaces (tun/tap)</strong></h3>\n<p>The <code>tun</code> and <code>tap</code> interfaces are key for VPN connections. <code>tun</code> handles routing packets, while <code>tap</code> works at the Ethernet level. They‚Äôre used in setups like OpenVPN or WireGuard to create secure, encrypted internet connections. Basically, they help you safely surf the web or connect to a network even when you‚Äôre on a public or unsecured network.</p>\n<p><strong>Pros</strong>: Strong encryption and flexibility.</p>\n<p><strong>Cons</strong>: Slower than direct connections due to encryption overhead.</p>\n<h3 id=\"isdn-(integrated-services-digital-network)\" tabindex=\"-1\"><strong>ISDN (Integrated Services Digital Network)</strong></h3>\n<p>ISDN (Integrated Services Digital Network) was a big deal back in the day for transferring both voice and data over the same line. It was used for things like video conferencing in the early 2000s, especially in remote areas where newer tech wasn‚Äôt available. ISDN helped bridge the gap between old-school analog and modern digital communication.</p>\n<p><strong>Pros</strong>: Supports simultaneous voice and data.</p>\n<p><strong>Cons</strong>: Outdated; replaced by DSL and fiber technologies.</p>\n<h3 id=\"vlan-interfaces-(vlan)\" tabindex=\"-1\"><strong>VLAN Interfaces (vlan)</strong></h3>\n<p>VLANs (Virtual LANs) let you split up a network into smaller, isolated segments, all using the same physical hardware. With VLAN tagging on managed switches, you can control and separate traffic, boosting both security and efficiency. It‚Äôs like creating mini-networks within a big one, so things stay organized and safe.</p>\n<p><strong>Pros</strong>: Reduces broadcast traffic and enhances security.</p>\n<p><strong>Cons</strong>: Configuration complexity for large setups.</p>\n<h3 id=\"virtual-machine-interfaces-(vmx%2C-vnet%2C-etc.)\" tabindex=\"-1\"><strong>Virtual Machine Interfaces (vmx, vnet, etc.)</strong></h3>\n<p>Virtual Machine Interfaces, like <code>vmx</code> or <code>vnet0</code> in VMware and VirtualBox, are used to connect virtual machines to networks in virtualized environments. They‚Äôre perfect for simulating networks during development and testing. These interfaces are essential for making virtualization and cloud computing run smoothly by setting up virtual networks within your machines.</p>\n<p><strong>Pros</strong>: Highly customizable and scalable.</p>\n<p><strong>Cons</strong>: Relies heavily on host system performance.</p>\n<h3 id=\"mpls-(multiprotocol-label-switching)\" tabindex=\"-1\"><strong>MPLS (Multiprotocol Label Switching)</strong></h3>\n<p>MPLS (Multiprotocol Label Switching) is a method for forwarding data that helps optimize how traffic flows across networks. It‚Äôs often used in enterprise WANs to make sure data moves quickly and efficiently. By minimizing delays, MPLS ensures low-latency communication, especially across large networks.</p>\n<p><strong>Pros</strong>: Efficient and scalable for enterprise WANs.</p>\n<p><strong>Cons</strong>: Costly and requires specialised expertise.</p>\n<h3 id=\"fibre-channel-over-ethernet-(fcoe)\" tabindex=\"-1\"><strong>Fibre Channel over Ethernet (FCoE)</strong></h3>\n<p>Fibre Channel over Ethernet combines Ethernet with high-speed Fibre Channel technology, making it perfect for storage networking. It‚Äôs commonly used in data centers to connect servers to shared storage systems, letting everything run smoothly and efficiently while keeping speeds high. It‚Äôs like merging two networks to create one super-fast, reliable connection for storage.</p>\n<p><strong>Pros</strong>: Simplifies data center cabling.</p>\n<p><strong>Cons</strong>: Requires compatible hardware and specialised management.</p>\n<h3 id=\"lte%2F5g-(cellular)\" tabindex=\"-1\"><strong>LTE/5G (cellular)</strong></h3>\n<p>LTE and 5G are all about getting fast internet on the go, using cellular networks. Whether you‚Äôre tethering mobile data to your laptop via a hotspot or just using it on your phone, these technologies provide high-speed wireless internet for your devices, letting you stay connected no matter where you are.</p>\n<p><strong>Pros</strong>: Mobility and wide coverage.</p>\n<p><strong>Cons</strong>: Prone to signal interference; higher latency than wired networks.</p>\n<h3 id=\"infiniband-(ib)\" tabindex=\"-1\"><strong>InfiniBand (ib)</strong></h3>\n<p>It‚Äôs a super-fast networking technology used in high-performance computing (HPC) environments, like supercomputers and large clusters. It‚Äôs built for low-latency, high-throughput data transfers, delivering extreme performance where speed and efficiency are key. Perfect for environments that need to move huge amounts of data quickly and reliably.</p>\n<p><strong>Pros</strong>: Low latency and high throughput.</p>\n<p><strong>Cons</strong>: High cost; limited to specialised use cases.</p>\n<h3 id=\"virtual-ethernet-(veth)\" tabindex=\"-1\"><strong>Virtual Ethernet (veth)</strong></h3>\n<p>Virtual Ethernet (veth) is a software-based interface used to connect containers and virtual machines in environments like Docker or Kubernetes. It handles networking within containerized applications, ensuring they can communicate with each other. There‚Äôs also another similar <code>docker</code> interface which shows up for docker containers.</p>\n<p><strong>Pros</strong>: Lightweight and efficient.</p>\n<p><strong>Cons</strong>: Not suitable for physical networking.</p>\n<h3 id=\"bluetooth-(bt)\" tabindex=\"-1\"><strong>Bluetooth (bt)</strong></h3>\n<p>Bluetooth (bt) is a short-range wireless tech that lets devices connect without cables. It‚Äôs what you use to pair things like wireless headphones to your smartphone or connect IoT devices with minimal power usage. It‚Äôs perfect for a wide range of wireless connections, from gadgets to smart home devices.</p>\n<p><strong>Pros</strong>: Low power consumption and ease of use.</p>\n<p><strong>Cons</strong>: Limited range and data transfer speed.</p>\n<h3 id=\"wi-fi-(wireless-lan-interface)-(wlan)\" tabindex=\"-1\"><strong>Wi-Fi (Wireless LAN Interface) (wlan)</strong></h3>\n<p>Wireless tech that connects devices to local networks, like the Wi-Fi at home or in your office. It‚Äôs what lets you get online without needing cables, whether it‚Äôs on your phone, laptop, or tablet. It‚Äôs the most popular way to connect wirelessly to the internet and networks today.</p>\n<p><strong>Pros</strong>: Flexibility and ease of deployment.</p>\n<p><strong>Cons</strong>: Lower reliability and security compared to wired networks.</p>\n<p>Hopefull, this gave you a brief over the commonly known network interfaces in recent times.</p>\n<blockquote>\n<p>Each of these interfaces has unique advantages, making them essential in various networking scenarios, from enterprise data centers to everyday consumer technology to your very own home lab. Understanding their capabilities helps optimise their deployment in modern network environments.</p>\n</blockquote>\n<p>There are even more network interfaces than listed above here. But, will leave them to be explored in near future.</p>\n",
      "date_published": "2024-11-23T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/example/",
      "url": "https://blog.anirudha.dev/example/",
      "title": "The Power of Example",
      "content_html": "<p>In the labyrinth of modern life, where individuality is often celebrated above all else, the idea of leading by example remains an esoteric yet vital concept. For the modern individual‚Äîa seeker of authenticity and a curator of their experiences‚Äîthe power of example is not merely about imitation. It is about setting a precedent that inspires action, demonstrates clarity, and communicates intentions in ways words alone cannot.</p>\n<p>Whether you are launching a product, building a platform, or starting a business, the principle of leading by example is a cornerstone of credibility and success. It transcends rhetoric, presenting a tangible blueprint of possibilities for your audience, stakeholders, or users.</p>\n<p>When introducing something new‚Äîbe it a groundbreaking product, a revolutionary platform, or an entrepreneurial venture‚Äîuncertainty is the greatest hurdle. The unfamiliar breeds skepticism. People crave a tangible representation of your promise. This is where the power of example comes into play.</p>\n<p>For a new product, a well-designed demo video or prototype demonstrates its utility better than any ad copy. Visual storytelling in a demo video can capture attention and build excitement, showcasing real-life scenarios where the product solves problems or enhances experiences. A prototype, on the other hand, allows stakeholders‚Äîbe it investors, collaborators, or early adopters‚Äîto physically or virtually interact with the product, gaining firsthand insight into its functionality, design, and reliability.</p>\n<p>Such examples not only demonstrate utility but also foster emotional engagement. They help customers visualize how the product fits into their lives, making the value proposition clearer. Whether it‚Äôs the intuitive interface of a new app, the cutting-edge design of a gadget, or the unique features of a software tool, a demo or prototype reduces uncertainty, accelerates decision-making, and establishes credibility in ways that words alone cannot.</p>\n<p>This approach is particularly effective in today‚Äôs digital-first world, where attention spans are short, and visuals often carry more weight than text. A compelling demonstration can serve as the ultimate proof point, converting curiosity into commitment.</p>\n<p>For a platform, showcasing early adopters or case studies provides tangible proof of its value, helping potential users understand how it can meet their specific needs. By highlighting real-world applications, such examples turn abstract features into relatable outcomes, making the platform‚Äôs benefits not only clear but also credible.</p>\n<p><img src=\"https://storage.googleapis.com/papyrus_images/9fb7d78580cb4be4f487548a39fba012.jpg\" alt=\"\"></p>\n<p>In its early days, <strong>LinkedIn</strong> showcased stories of professionals who used the platform to land new job opportunities or grow their networks. These success stories provided relatable examples of how the platform could be valuable for career growth, convincing others to join and use the platform for similar outcomes.<br>\nBefore <strong>Slack</strong> became a household name in workplace communication, the company highlighted how early adopters like NASA‚Äôs Jet Propulsion Laboratory used it to streamline team collaboration. Sharing case studies of how teams used Slack to enhance productivity resonated with other organizations looking for similar solutions.<br>\n<strong>Shopify</strong> frequently shares case studies of small businesses and entrepreneurs who used its platform to create successful online stores. By showcasing stories of users who turned ideas into profitable businesses, Shopify appeals to aspiring entrepreneurs by proving its relevance in the e-commerce space.<br>\n<strong>Coursera</strong> effectively highlights stories of learners who transitioned into new careers or gained significant professional skills through its courses. By sharing these testimonials, Coursera inspires prospective learners to see how the platform can help them achieve similar goals.<br>\nAs a platform for online payments, <strong>Stripe</strong> gained early traction by showcasing how startups like Lyft and Kickstarter successfully used its API to handle their payment processing. These examples gave developers confidence in the platform‚Äôs reliability and scalability, accelerating its adoption.</p>\n<h3 id=\"why-it-works%3A\" tabindex=\"-1\">Why It Works:</h3>\n<ul>\n<li>\n<p><strong>Relevance</strong>: Case studies show potential users how they might use the platform, reducing uncertainty.</p>\n</li>\n<li>\n<p><strong>Proof of Success</strong>: Highlighting early adopters‚Äô achievements builds trust by demonstrating the platform‚Äôs real-world effectiveness.</p>\n</li>\n<li>\n<p><strong>Inspiration</strong>: These stories inspire users by illustrating the potential outcomes of adopting the platform, making them more likely to engage.</p>\n</li>\n</ul>\n<p>By leveraging early adopters and case studies, platforms can foster credibility, build a sense of community, and accelerate user acquisition by aligning their features with real-life outcomes. This approach transforms potential skepticism into excitement, turning hesitant prospects into loyal users. <em><strong>Even for a startup or business</strong></em>*, the founder‚Äôs conduct and transparency in decisions set the tone for company culture and customer trust.*</p>\n<p><img src=\"https://storage.googleapis.com/papyrus_images/11e0820978c0dbdd353ec4223911c6ed.png\" alt=\"\"></p>\n<p>Just as stories are essential for emotional resonance, examples are the proof points that convert abstract ideas into actionable understanding. In the world of software development, Test-Driven Development (TDD) emphasizes writing tests before writing the actual code. These tests serve as examples of what the program is supposed to do. They ensure clarity, define expectations, and create a framework within which innovation can thrive.</p>\n<p><strong>Clarity</strong>: Tests, like examples, define the outcomes. They ensure everyone‚Äîfrom developers to stakeholders‚Äîunderstands the objectives.</p>\n<p><strong>Incremental Growth</strong>: By starting small and iteratively adding features that pass predefined tests, TDD mirrors how businesses can use small, clear examples to grow credibility.</p>\n<p><strong>Feedback Loop</strong>: The continuous validation of code through tests mirrors how real-world examples validate a business‚Äôs promises.</p>\n<p>Adopting the ethos of TDD in broader contexts emphasizes the importance of defining goals through actionable, testable precedents. Whether it‚Äôs a startup pitch or a marketing strategy, thinking in terms of clear, ‚Äútestable‚Äù examples can make abstract ambitions more relatable and trustworthy.</p>\n<h3 id=\"tesla%E2%80%99s-product-strategy\" tabindex=\"-1\"><strong>Tesla‚Äôs Product Strategy</strong></h3>\n<p>Tesla didn‚Äôt just sell the idea of electric vehicles; it delivered the Tesla Roadster, a high-performance sports car, as proof of concept. The example set the tone for its revolutionary approach to sustainable energy.</p>\n<h3 id=\"openai%E2%80%99s-transparency-with-gpt-models\" tabindex=\"-1\"><strong>OpenAI‚Äôs Transparency with GPT Models</strong></h3>\n<p>OpenAI regularly shares research papers and use-case demos to educate and set an example for AI‚Äôs ethical potential. These actions demonstrate their commitment to innovation and responsibility.</p>\n<h3 id=\"airbnb%E2%80%99s-early-user-strategy\" tabindex=\"-1\"><strong>Airbnb‚Äôs Early User Strategy</strong></h3>\n<p>Before Airbnb scaled, its founders went door-to-door to help hosts perfect their listings. This example of dedication not only enhanced trust but also demonstrated the platform‚Äôs value to both hosts and guests.</p>\n<blockquote>\n<p>The power of example is universal, yet its execution varies across contexts. From inspiring team members to convincing potential investors, the principles of clarity, reliability, and demonstrable proof remain constant.</p>\n</blockquote>\n",
      "date_published": "2024-11-21T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/paranoia/",
      "url": "https://blog.anirudha.dev/paranoia/",
      "title": "What&#39;s Your Paranoia?",
      "content_html": "<p>In the complex maze of the modern mind, where every turn presents a new fear, a new inadequacy, or a new ambition, lies the pervasive whisper of paranoia. Not the kind typically associated with conspiracy theories or spy thrillers, but a more subtle, insidious form that has become almost a default setting for human interaction in today‚Äôs society. Here, we explore the multifaceted nature of personal paranoia, its origins, its impacts, and its philosophical implications.</p>\n<h2 id=\"the-spectrum-of-modern-paranoia\" tabindex=\"-1\"><strong>The Spectrum of Modern Paranoia</strong></h2>\n<p>Paranoia today isn‚Äôt just about fearing surveillance or betrayal; it‚Äôs a broad spectrum that includes the fear of time slipping away, not accumulating enough knowledge, not achieving enough success, or not possessing enough wealth. This isn‚Äôt clinical paranoia but rather a societal condition where we measure themselves against an ever-escalating standard of what it means to be ‚Äòenough‚Äô.</p>\n<h3 id=\"time-%E2%8F%B1%EF%B8%8F\" tabindex=\"-1\"><strong>Time ‚è±Ô∏è</strong></h3>\n<p>The relentless march of time in a society obsessed with productivity and youth fosters a pervasive paranoia of aging, creating an almost existential fear of falling behind. We are constantly reminded that success has an unspoken expiration date, with youth glorified as the peak of vitality, creativity, and relevance. This fixation seeps into our daily lives, pressuring us to achieve more in less time, to seize every fleeting opportunity, and to stay perpetually ‚Äúin the game.‚Äù It transforms the natural process of aging into something to be resisted, denied, or even feared, as though the mere passage of years diminishes our value. This paranoia is amplified by social media‚Äôs highlight reels and the cultural obsession with ‚Äúovernight success,‚Äù leaving many feeling as if they‚Äôre racing against an invisible clock, desperate to capture life‚Äôs elusive milestones before the sands of time run out. In this unrelenting pursuit, we often overlook the quiet beauty of living in the moment, trading peace for a battle against a clock that never pauses.</p>\n<h3 id=\"knowledge-%F0%9F%93%96\" tabindex=\"-1\"><strong>Knowledge</strong> üìñ</h3>\n<p>In an age where information is at our fingertips yet overwhelming, there‚Äôs a constant anxiety about not knowing enough, about being left behind in the intellectual race. The internet has democratized access to knowledge, but it has also created a relentless pressure to keep up. Professionals feel compelled to master every new industry trend, fearing obsolescence in a hyper-competitive job market where expertise seems to have an ever-shortening shelf life. For instance, a software developer might feel inadequate if they aren‚Äôt fluent in the latest programming languages, even if their core skills remain relevant. Similarly, a student scrolling through endless online courses may feel paralyzed, unable to decide which skill to learn, all the while haunted by the thought that everyone else is learning faster, achieving more, also known as <em><strong>Choice Overload</strong></em>. Even outside of formal education or work, the sheer volume of information‚Äînews updates, academic papers, social media debates‚Äîcreates a gnawing fear of being uninformed or excluded from critical conversations. This constant exposure to the vastness of what we don‚Äôt know fuels a deep-seated paranoia that, no matter how much we learn, it will never be enough. In a way, we are all living in imposter syndrome. How did we all collectively get here together?</p>\n<p><img src=\"/images/posts/906a4e65-6a76-4703-8e92-b697c2480d56.jpeg\" alt=\"\"></p>\n<h3 id=\"success-%F0%9F%8F%86\" tabindex=\"-1\"><strong>Success üèÜ</strong></h3>\n<p>Defined by societal benchmarks, success can become a source of paranoia where failure, or even just the lack of extraordinary achievement, feels like a personal catastrophe. This pressure often manifests in careers, where the absence of rapid promotions or prestigious titles can feel like falling behind in an invisible competition. For example, a young entrepreneur may feel consumed by anxiety if their startup doesn‚Äôt become the next billion-dollar unicorn within a few years, especially when bombarded by stories of prodigies who achieve massive success before turning 30.</p>\n<p>Students often grapple with this paranoia as well, comparing themselves to peers publishing groundbreaking research or securing scholarships to elite institutions. Similarly, on social media platforms, creators face an unspoken race to amass followers, likes, and viral moments, with each day that passes without such milestones exacerbating the fear of irrelevance.</p>\n<p>Even in personal lives, societal benchmarks can overshadow individuality. The expectation to marry by a certain age, buy a home, or achieve financial independence creates an underlying paranoia of ‚Äúnot making it‚Äù in time. A 35-year-old who chooses to travel or explore unconventional paths might feel judged or question their decisions when compared to peers who are seemingly settled.</p>\n<p>These societal pressures cultivate an environment where the pursuit of success isn‚Äôt just about growth but about avoiding the stigma of perceived failure, leaving many trapped in a cycle of self-doubt and relentless striving.</p>\n<h3 id=\"wealth-%F0%9F%92%B0\" tabindex=\"-1\"><strong>Wealth</strong> üí∞</h3>\n<p>The visibility of wealth via social media and global connectivity has turned financial security into a race where many feel they are lagging. Platforms like Instagram and TikTok showcase lavish lifestyles, luxury vacations, and material possessions that often serve as symbols of success. This constant exposure can create an illusion that everyone else is thriving financially, leaving many grappling with feelings of inadequacy.</p>\n<blockquote>\n<p><em>‚ÄúThe more we are surrounded by people who have apparently attained a great deal, the more difficult it becomes to be content with anything less.‚Äù</em></p>\n<p>‚Äì Alain de Botton</p>\n</blockquote>\n<p>For someone struggling to make ends meet or simply building their financial foundation, seeing peers‚Äîor even strangers‚Äîdisplaying their achievements can foster an insidious paranoia. Questions like <em>‚ÄúAm I earning enough?‚Äù</em> or <em>‚ÄúWill I ever achieve that level of wealth?‚Äù</em> just rage through on a daily basis. The pressure is magnified in a world where wealth is often equated with worth, and financial setbacks are sometimes perceived as personal failures rather than circumstantial challenges.</p>\n<h2 id=\"since-the-postmodern-society\" tabindex=\"-1\"><strong>Since the Postmodern Society</strong></h2>\n<p>This pervasive paranoia didn‚Äôt emerge in a vacuum. It‚Äôs a child of postmodernity, where traditional narratives have been fragmented, and the individual is thrown into a world of infinite choices, identities, and paths. The breakdown of grand narratives leaves a void, often filled with personal insecurities and fears, many of which we still carry on, alongwith the ever increasing new variants of the same.</p>\n<p><img src=\"https://storage.googleapis.com/papyrus_images/40b6d7ae3a171f21ca0c723de60f8bf9.jpg\" alt=\"\"></p>\n<h3 id=\"shaping-communities-and-life\" tabindex=\"-1\"><strong>Shaping Communities and Life</strong></h3>\n<p>This collective paranoia shapes not just individual psyches but entire communities. It fosters a competitive rather than cooperative societal framework where:</p>\n<p>Trust becomes scarce as we suspect others of harboring the same insecurities or worse, of possessing what we lack. Relationships become fragile, overshadowed by silent comparisons and unspoken doubts. Even moments of connection can feel transactional, weighed down by the fear of ulterior motives or hidden agendas. In a world where everyone seems to be competing for the same finite resources‚Äîbe it success, validation, or affection‚Äîvulnerability becomes a risk too great to take.</p>\n<p>Community Building is challenged as people, driven by their fears, might retreat into themselves, or engage in superficial interactions based on perceived status or success. Life Choices are often influenced more by fear of what might go wrong than by passion or joy, leading to a life lived in anticipation of disaster rather than celebration of possibility.</p>\n<h2 id=\"a-double-edged-sword\" tabindex=\"-1\"><strong>A Double-Edged Sword</strong></h2>\n<p>For some, it can fuel ambition, pushing us to work harder, learn more, and strive for better, viewing life as a game that must be played to win. It can heighten awareness of real dangers or societal issues, prompting proactive behavior in areas like personal security or financial planning.<br>\nHowever, the constant undercurrent of fear can lead to stress, anxiety, and depression, undermining the very success it seeks to achieve. It might erode the essence of human connections, replacing empathy with envy or indifference.</p>\n<p>The fears we harbor shape the decisions we make, the relationships we build, and the paths we choose. Yet, here lies a paradox:</p>\n<ul>\n<li>\n<p><strong>Creation of Reality</strong>: If paranoia shapes our actions, are we not also shaping our reality? Could our destiny be both a manifestation of our fears and our desires?</p>\n</li>\n<li>\n<p><strong>Choice</strong>: Knowing this, we stand at a crossroads where we can either let paranoia dictate our journey or use our awareness to navigate by starlight rather than storm clouds.</p>\n</li>\n</ul>\n<p>In a society striving for progress, could we perhaps see paranoia not just as a burden but as a signal? A call to delve deeper into ourselves, to understand what truly unnerves us and why. That part of your brain you‚Äôve locked away, avoided, averted and ignored.</p>\n<p><img src=\"/images/posts/91c92d3e-64de-4a38-a4f0-7bf07e585b94.webp\" alt=\"\"></p>\n<p>By confronting our fears, we might strip away the layers of societal expectation to find what genuinely matters to us. We can begine to understand our common fears could bridge divides, fostering a sense of shared human experience rather than competition. Most importantly, talk about it. Doesn‚Äôt matter with whom. However paranoid you are, you must trust at least one person. Perhaps our destiny is not predefined but is instead the sum of our reactions to our fears, where overcoming paranoia becomes an evolutionary step toward a more enlightened existence.</p>\n<p>As we navigate this age of personal paranoia, we are left with pivotal questions: <em>Are we prisoners of our fears, or are they the very lessons that guide our evolution?</em> <em>Can we transform paranoia from a shadow over our lives into a tool for personal and collective awakening?</em> <em>What kind of human do we become when we decide to confront our deepest fears, and how does this choice resonate through the tapestry of our destiny?</em></p>\n<p>Let me know if you find the answers before me. :)</p>\n",
      "date_published": "2024-11-18T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/decentralising-the-web/",
      "url": "https://blog.anirudha.dev/decentralising-the-web/",
      "title": "Decentralising the Web",
      "content_html": "<p>The web, in its earliest form, was envisioned as a decentralized platform‚Äîa space where anyone could share information without gatekeepers. Over time, however, the internet has become centralized. A handful of corporations now control vast amounts of online data, dictating how we interact, transact, and communicate. This centralization has led to issues like censorship, data privacy violations, and monopolistic practices. Sorry, didn‚Äôt mean to go full Mr Robot here. This is more on technical advancement and why you should care about it.</p>\n<p>Decentralizing the web is a movement to restore power to individuals by creating systems where data and control are distributed, not concentrated. At its core is the idea of a web owned by its users rather than intermediaries. It is the foundation of what we now call <strong>Web3</strong> or <strong>Web3.0</strong>.</p>\n<h3 id=\"the-promise-of-blockchain-and-what-led-to-its-success\" tabindex=\"-1\">The Promise of Blockchain and What Led to Its Success</h3>\n<p>Blockchain technology lies at the heart of decentralization. A blockchain is a distributed ledger that records transactions across multiple computers, ensuring transparency and immutability. The technology became mainstream with Bitcoin, a decentralized cryptocurrency introduced in 2009. It offered a revolutionary alternative to traditional banking systems by allowing peer-to-peer transactions without intermediaries.</p>\n<p>Blockchain‚Äôs success stems from its potential to solve real-world problems:</p>\n<ol>\n<li>\n<p><strong>Trust</strong>: Transactions are secure, verified, and transparent.</p>\n</li>\n<li>\n<p><strong>Ownership</strong>: Users own their data and digital assets.</p>\n</li>\n<li>\n<p><strong>Accessibility</strong>: Decentralized networks are open to anyone with internet access.</p>\n</li>\n</ol>\n<p>The Ethereum blockchain expanded this promise by introducing <strong>smart contracts</strong>, enabling decentralized applications (dApps). This innovation fueled the rise of decentralized finance (DeFi), non-fungible tokens (NFTs), and decentralized autonomous organizations (DAOs), paving the way for Web3.</p>\n<h3 id=\"the-current-state-of-blockchain-and-web3\" tabindex=\"-1\">The Current State of Blockchain and Web3</h3>\n<p>Despite its promise, blockchain and Web3 are still evolving. Challenges include:</p>\n<ul>\n<li>\n<p><strong>Scalability</strong>: Networks like Ethereum are working to handle larger transaction volumes efficiently.</p>\n</li>\n<li>\n<p><strong>User Experience</strong>: Web3 interfaces are often complex for everyday users.</p>\n</li>\n<li>\n<p><strong>Regulation</strong>: Governments are grappling with how to regulate decentralized technologies without stifling innovation.</p>\n</li>\n<li>\n<p><strong>Energy Concerns</strong>: While proof-of-stake has mitigated some issues, energy usage remains a topic of debate.</p>\n</li>\n</ul>\n<p>On the bright side, the Web3 ecosystem is thriving:</p>\n<ul>\n<li>\n<p><strong>DeFi</strong> platforms manage billions in assets.</p>\n</li>\n<li>\n<p><strong>NFTs</strong> are transforming art, gaming, and digital ownership.</p>\n</li>\n<li>\n<p>Major players like Solana, Cosmos ecosystem, and Layer 2 solutions like Base, Optimism, Arbitrum as well as other protocols like uniswap, eigen layer, axelar and as such more are driving innovation.</p>\n</li>\n</ul>\n<h3 id=\"where-are-we-headed%3F\" tabindex=\"-1\">Where Are We Headed?</h3>\n<p>The future of Web3 looks promising, with advancements in scalability, interoperability, and usability. As blockchain becomes more integrated into everyday applications, we may see:</p>\n<ul>\n<li>\n<p><strong>Decentralized identity</strong> systems replacing traditional login credentials.</p>\n</li>\n<li>\n<p><strong>Tokenized economies</strong>, where users earn from participation in digital ecosystems made popular with stable coins.</p>\n</li>\n<li>\n<p><strong>Metaverse adoption</strong>, powered by blockchain-based assets and platforms.</p>\n</li>\n</ul>\n<p>This shift isn‚Äôt just about technology‚Äîit‚Äôs about empowering individuals, fostering creativity, and enabling more equitable economic opportunities.</p>\n<h4 id=\"why-should-you-care%3F\" tabindex=\"-1\">Why Should You Care?</h4>\n<p>Centralized systems limit freedom and control. Embracing decentralization can redefine how we interact with technology, making the digital world more equitable and open.</p>\n<h4 id=\"how-do-you-start%3F\" tabindex=\"-1\">How Do You Start?</h4>\n<ol>\n<li>\n<p><strong>Learn</strong>: Explore blockchain basics via platforms like Coursera, YouTube, or Web3-focused communities.</p>\n</li>\n<li>\n<p><strong>Experiment</strong>: Create a crypto wallet, interact with dApps, or play around with various digital tokens and cryptocurrencies.</p>\n</li>\n<li>\n<p><strong>Engage</strong>: Join Web3 communities and participate in discussions on platforms like Twitter, Discord, or Reddit.</p>\n</li>\n</ol>\n<p>Watch for emerging trends in DeFi, NFTs, and decentralized social platforms. Look for projects that align with your values, and be part of building the decentralized future.</p>\n<blockquote>\n<p>As we decentralize the web, we move closer to Tim Berners-Lee‚Äôs vision of an internet that is ‚Äúfor everyone.‚Äù Blockchain and Web3 offer not just technological advancement but also a philosophical shift‚Äîone where power, control, and opportunity are redistributed.</p>\n<p>As Vitalik Buterin, the creator of Ethereum, aptly put it:<br>\n<em>‚ÄúWe don‚Äôt need to wait for some kind of future revolution; we just need to keep building piece by piece, solving problems as they come up, and eventually, we‚Äôll get there.‚Äù</em></p>\n</blockquote>\n",
      "date_published": "2024-11-17T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/the-perfect-flaw/",
      "url": "https://blog.anirudha.dev/the-perfect-flaw/",
      "title": "The Perfect Flaw",
      "content_html": "<p>In a world increasingly drawn to the pursuit of perfection, the notion of embracing flaws may seem counterintuitive. Yet, these so-called ‚Äúflaws‚Äù might just be what make us remarkable. This paradox is beautifully encapsulated in the concept of <em>The Perfect Flaw</em>‚Äîthe idea that imperfections are not just acceptable but also essential in defining authenticity, resilience, and growth.</p>\n<p>The concept has deep roots across cultures and philosophies. In Japan, the aesthetic of <em>wabi-sabi</em> emphasizes beauty in imperfection, embracing the incomplete and impermanent. Similarly, <em>kintsugi</em>, the art of repairing pottery with gold, values the cracks as part of an object‚Äôs story rather than signs of damage. Western philosophy also resonates with this notion through thinkers like Nietzsche, who argued that ‚Äúwhat does not kill us makes us stronger,‚Äù suggesting that our struggles are pathways to greatness.</p>\n<h3 id=\"the-perfect-flaw-in-creativity\" tabindex=\"-1\"><strong>The Perfect Flaw in Creativity</strong></h3>\n<p>Creative fields thrive on imperfections, serendipity, and divergence from norms. Many of history‚Äôs most iconic works of art and literature have come from artists who defied conventions or revealed personal vulnerabilities. Van Gogh‚Äôs bold brushstrokes, Frida Kahlo‚Äôs unapologetic representation of pain, and even Hemingway‚Äôs pared-down prose reflect the beauty of embracing one‚Äôs unique vision, however unconventional.</p>\n<p>Moreover, imperfections in creativity often inspire innovation. When a ‚Äúperfect‚Äù idea doesn‚Äôt work out, it is often the pivot or adaptation‚Äîthe so-called flaw in the original plan‚Äîthat leads to breakthrough. Think about Post-it notes, the accidental creation that revolutionized office spaces worldwide. The concept of a ‚Äúflawed‚Äù adhesive became a billion-dollar idea because someone was willing to view a perceived mistake as an opportunity.</p>\n<p><img src=\"https://storage.googleapis.com/papyrus_images/7359f1aea31be62e39805e9fa4a1ec8f.webp\" alt=\"\"></p>\n<h3 id=\"the-perfect-flaw-in-personal-growth\" tabindex=\"-1\"><strong>The Perfect Flaw in Personal Growth</strong></h3>\n<p>The journey of self-improvement often brings a focus on our weaknesses, but <em>The Perfect Flaw</em> suggests a new way to view them. Instead of seeking to eliminate flaws, we could see them as areas of growth and character-building. Recognizing and accepting our limitations allows us to understand ourselves more fully, to navigate life with humility, and to foster empathy towards others facing similar struggles.</p>\n<p>Embracing imperfections enables resilience; when we accept failure as a natural step rather than a debilitating setback, we become less afraid to take risks. Every imperfection reveals an opportunity for self-reflection and renewal, helping us grow in ways perfectionism might stifle.</p>\n<h3 id=\"the-perfect-flaw-in-technology-and-innovation\" tabindex=\"-1\"><strong>The Perfect Flaw in Technology and Innovation</strong></h3>\n<p>Technology and design industries often emphasize precision and perfection, yet some of the most groundbreaking products have come from an acknowledgment of imperfection. Think about the evolution of software; no software version is ever perfect, and updates are constant, acknowledging the room for growth. <em>The Perfect Flaw</em> is central to an iterative design process, where continuous improvement outpaces the unrealistic goal of a ‚Äúperfect‚Äù product from the outset.</p>\n<p>In emerging fields like artificial intelligence, the beauty of imperfection is even more pronounced. A perfect algorithm would be static, inflexible, and perhaps even incapable of handling real-world variables. Embracing the unpredictability in data allows AI to adapt, improve, and learn, which is a powerful nod to <em>The Perfect Flaw</em> in action.</p>\n<h3 id=\"the-perfect-flaw-as-a-life-philosophy\" tabindex=\"-1\"><strong>The Perfect Flaw as a Life Philosophy</strong></h3>\n<p>Adopting <em>The Perfect Flaw</em> as a personal philosophy allows for greater freedom, self-acceptance, and joy. Instead of measuring our worth by impossible standards, we appreciate the journey and recognize that our unique imperfections add depth to our lives.</p>\n<p>By viewing flaws as integral parts of ourselves rather than defects, we gain clarity, strength, and authenticity. The journey to becoming a better version of ourselves need not imply achieving flawlessness, but rather learning, growing, and accepting who we are.</p>\n<p><img src=\"https://storage.googleapis.com/papyrus_images/eafb87a2f2a9ae87d272672ab9766b00.webp\" alt=\"\"></p>\n<h3 id=\"the-perfect-flaw-in-shaping-evolution\" tabindex=\"-1\"><strong>The Perfect Flaw in Shaping Evolution</strong></h3>\n<p>Evolution thrives on variation, and those variations‚Äîoften perceived as ‚Äúflaws‚Äù or deviations from an ideal standard‚Äîare what enable species to adapt to changing environments. These variations are not mistakes but are, in fact, the raw material on which natural selection operates. The concept of <em>The Perfect Flaw</em> in evolution reveals how nature embraces imperfections as a means of strengthening species across generations.</p>\n<p>For example, genetic mutations are random changes in DNA that may initially seem like flaws. While many mutations are neutral or even harmful, a select few confer advantages that help individuals survive and reproduce in specific environments. Over time, these advantageous ‚Äúflaws‚Äù spread through the population, allowing it to better withstand challenges such as climate shifts, predators, or diseases. A classic example is the peppered moth in England, which developed a darker coloration during the Industrial Revolution, a mutation that allowed it to blend in with soot-covered trees and avoid predation. What was initially an oddity in coloration became a survival advantage as environmental conditions changed.</p>\n<p>Similarly, human evolution has benefited from imperfections that have shaped our unique abilities. For instance, the mutation that led to sickle-cell anemia‚Äîa condition that distorts red blood cells‚Äîprovides a degree of immunity to malaria in carriers, which has proven advantageous in regions where malaria is prevalent. Here, what might seem like a genetic ‚Äúflaw‚Äù actually confers resilience against a major health threat.</p>\n<p><em>The Perfect Flaw</em> also allows for behavioral evolution. In social species, individuals who deviate from typical behavior patterns can introduce new social structures or survival strategies, ultimately benefiting the group as a whole. For instance, cooperation in wolf packs and altruistic behaviors in primates allow these groups to respond flexibly to environmental stresses, such as food scarcity or the presence of predators.</p>\n<p>At the species level, <em>The Perfect Flaw</em> fosters biodiversity, creating ecosystems rich in variety and resilience. A perfectly homogenous species or ecosystem would be highly vulnerable to sudden environmental changes, whereas a diverse population can adapt and survive through the strength of its variations. Nature‚Äôs tolerance for imperfection is, in essence, a testament to the value of diversity as an adaptive force.</p>\n<p>In the grand scheme of life on Earth, <em>The Perfect Flaw</em> shapes evolution by ensuring that imperfection isn‚Äôt merely tolerated but essential. The resilience of life depends on these so-called flaws‚Äînatural deviations that, far from being errors, are pathways to survival and adaptation. Thus, <em>The Perfect Flaw</em> isn‚Äôt just a philosophical concept; it‚Äôs a fundamental principle that has governed the evolution of all life. Embracing imperfections doesn‚Äôt hinder progress; it drives it, both in nature and in ourselves.</p>\n<p>The pursuit of perfection often leaves us dissatisfied and critical of our lives, while <em>The Perfect Flaw</em> invites us to reframe this mindset. When we see imperfection as part of the human experience, we can finally begin to live more authentically, to innovate with courage, and to form deeper connections with those around us.</p>\n<blockquote>\n<p>So, perhaps our most perfect qualities are not those that make us flawless, but rather those that make us real. In that raw, authentic state, we find a beauty that is not only rare but also truly irreplaceable. In embracing <em>The Perfect Flaw</em>, we embrace ourselves.</p>\n</blockquote>\n",
      "date_published": "2024-11-02T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/imagination-the-final-interface/",
      "url": "https://blog.anirudha.dev/imagination-the-final-interface/",
      "title": "Imagination: The Final Interface",
      "content_html": "<p>In an era where technological advances continue to break the boundaries of what once seemed like science fiction, we stand at a crossroads between the physical and the digital. The interface has always been the bridge between humans and machines‚Äîbeginning with the simple command-line, evolving through graphical user interfaces (GUIs), and now, the immersive experiences of augmented reality (AR) and virtual reality (VR). Yet, despite these advancements, the ultimate interface, one that requires no intermediary hardware or software, remains within us: our imagination.</p>\n<h3 id=\"the-evolution-of-human-machine-interfaces\" tabindex=\"-1\">The Evolution of Human-Machine Interfaces</h3>\n<p>From early computing, where users had to type exact commands to communicate with a machine, to today‚Äôs sophisticated touchscreens and voice commands, interfaces have become more intuitive, more human. The keyboard and mouse revolutionized user interaction, but it wasn‚Äôt until the advent of the smartphone that the notion of a device being a natural extension of the user became more pronounced.</p>\n<p>Today, we are witnessing the rise of immersive technologies. Virtual reality places users in completely fabricated worlds, while augmented reality superimposes digital information onto the physical world. These interfaces are designed to blend the real and the virtual, but even in their most advanced forms, they require physical devices‚Äîsmartphones, VR headsets, or AR glasses.</p>\n<p><img src=\"https://storage.googleapis.com/papyrus_images/235faeb5106960ae806206932ce29bfe.webp\" alt=\"\"></p>\n<p>But what if the need for external devices disappeared? What if the interface became so seamless that it transcended the material world entirely?</p>\n<h3 id=\"enter-imagination%3A-the-ultimate-interface\" tabindex=\"-1\">Enter Imagination: The Ultimate Interface</h3>\n<p>Imagination has always been at the heart of human innovation. It‚Äôs the space where our thoughts, dreams, and possibilities converge. Historically, it has been the playground for writers, artists, and philosophers. However, what if our imaginations could directly shape the digital world around us, turning thoughts into action without the need for any intermediary?</p>\n<p>This concept, often explored in science fiction, is now approaching the fringes of reality. Brain-computer interfaces (BCIs) have demonstrated the potential to turn neural signals into digital commands, allowing users to control machines with their thoughts. Companies like Neuralink and Kernel are at the forefront of this movement, aiming to create a future where the human brain becomes the interface to everything digital.</p>\n<p><img src=\"https://storage.googleapis.com/papyrus_images/82050a085dd97463a6ea2b546521436b.avif\" alt=\"\"></p>\n<p>However, the idea of imagination as the final interface goes beyond the mere translation of thoughts into commands. It envisions a future where our mental landscape becomes the canvas for creating, experiencing, and interacting with digital environments. In this world, instead of manipulating a screen or speaking commands, you simply imagine your desired outcome, and it becomes real in the digital space.</p>\n<h3 id=\"potential-of-an-imagination-based-interface\" tabindex=\"-1\">Potential of an Imagination-Based Interface</h3>\n<p><strong>Limitless Creation</strong>: With imagination as the interface, the boundaries of creation would be limitless. Artists and designers could shape digital environments as quickly as they could think, and everyday users could construct personalized virtual worlds in an instant.</p>\n<p><strong>Intuitive Interaction</strong>: Unlike today‚Äôs devices, which require a learning curve, interacting with your own imagination would be second nature. Your thoughts would guide the experience, making it as intuitive as breathing.</p>\n<p><strong>Accessibility for All</strong>: One of the greatest challenges with current technology is accessibility. Imagination-based interfaces could level the playing field, allowing individuals with disabilities or limitations to interact with the digital world in a completely natural way.</p>\n<p><strong>New Forms of Communication</strong>: Language barriers would vanish. Instead of verbalizing thoughts, people could share their raw, unfiltered ideas directly through neural connections, enabling a form of communication far richer than anything words can provide.</p>\n<h3 id=\"challenges-and-ethical-considerations\" tabindex=\"-1\">Challenges and Ethical Considerations</h3>\n<p>While the concept of imagination as the final interface is exciting, it also presents profound challenges. The idea of linking our minds directly to digital systems opens up complex ethical questions:</p>\n<ul>\n<li>\n<p><strong>Privacy</strong>: If thoughts can be transformed into commands, how do we protect individuals from having their private thoughts accessed or exploited?</p>\n</li>\n<li>\n<p><strong>Security</strong>: As with any technology, a direct neural interface would need to be protected against hacking or malicious interference. The consequences of breaching such an interface could be catastrophic.</p>\n</li>\n<li>\n<p><strong>Identity and Authenticity</strong>: In a world where imagination creates reality, how do we distinguish between the physical and the imagined? How do we maintain a sense of identity when the line between what‚Äôs real and what‚Äôs not becomes so blurred?</p>\n</li>\n</ul>\n<p><img src=\"https://storage.googleapis.com/papyrus_images/314b14bec5b75cf49865f7f7ab83c7bc.avif\" alt=\"\"></p>\n<h3 id=\"imagination-meets-reality\" tabindex=\"-1\">Imagination Meets Reality</h3>\n<p>Despite the challenges, the future of an imagination-based interface isn‚Äôt just a dream‚Äîit‚Äôs a possibility that the technological world is actively exploring. With advances in neuroscience, artificial intelligence, and brain-computer interfaces, the bridge between imagination and reality is narrowing. What once belonged to the realm of fiction may soon be part of our everyday lives.</p>\n<p>At its core, imagination is where all human progress begins. It‚Äôs the engine of innovation, the source of creativity, and the final frontier in our quest to merge the digital and the real. As we look toward a future where imagination becomes the interface, we must remember that the most powerful technology we have always had has been within us all along.</p>\n<blockquote>\n<p>The final interface may not be something we touch, see, or hear‚Äîit may be something we already possess. Imagination, untethered from the constraints of physical devices, has the potential to become the most advanced interface of all. It is here, at the intersection of thought and technology, that humanity will find its greatest frontier yet. With imagination as the guide, the possibilities for innovation, creation, and connection are truly limitless.</p>\n</blockquote>\n<p>Of course, this needs to be studied more‚Ä¶</p>\n<p><img src=\"https://storage.googleapis.com/papyrus_images/ab190b12419c3abbf1d6f73a5e10da2a.webp\" alt=\"\"></p>\n",
      "date_published": "2024-10-27T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/designing-the-perfect-incentivised-system-part-2/",
      "url": "https://blog.anirudha.dev/designing-the-perfect-incentivised-system-part-2/",
      "title": "Designing The Perfect Incentivised System - Part 2",
      "content_html": "<p>A lot of the recent rise in isekai anime also suggests a favorable wind towards perfecting our system.</p>\n<p>In the anime <em>Hunter x Hunter</em>, the incentive system plays a crucial role in driving the narrative and character development, particularly in the context of the Hunter Exam and various arcs throughout the series.</p>\n<p><img src=\"https://storage.googleapis.com/papyrus_images/e86642535ce1826c72f6dfce2ebc8bc4.webp\" alt=\"\"></p>\n<h1 id=\"the-hunter-exam\" tabindex=\"-1\"><strong>The Hunter Exam</strong></h1>\n<p>The most prominent example of an incentive system in <em>Hunter x Hunter</em> is the Hunter Exam, which is designed to evaluate the potential of aspiring Hunters. This exam offers various incentives and motivations for participants, leading to a competitive environment.</p>\n<h4 id=\"key-features%3A\" tabindex=\"-1\">Key Features:</h4>\n<ul>\n<li>\n<p><strong>Status and Prestige</strong>: Becoming a Hunter is a prestigious achievement that grants access to exclusive resources, knowledge, and opportunities. The allure of becoming a Hunter motivates numerous characters to enter the exam, despite its dangers.</p>\n<p><img src=\"https://storage.googleapis.com/papyrus_images/39807beb644d9f047eb27a3519dfed8a.gif\" alt=\"\"></p>\n</li>\n<li>\n<p><strong>Diverse Challenges</strong>: The exam comprises multiple stages, each presenting unique challenges that test candidates‚Äô physical and mental abilities. The variety of tasks incentivizes different skill sets and encourages teamwork and strategy.</p>\n</li>\n<li>\n<p><strong>Elimination Format</strong>: The exam‚Äôs competitive nature, where candidates are eliminated based on performance, adds a layer of urgency. This structure incentivizes candidates to perform at their best to avoid being cut from the competition.</p>\n</li>\n</ul>\n<h3 id=\"individual-and-team-incentives\" tabindex=\"-1\"><strong>Individual and Team Incentives</strong></h3>\n<p>Throughout the series, characters often face situations where individual goals conflict with group objectives, reflecting the dynamics of incentive systems.</p>\n<h4 id=\"examples%3A\" tabindex=\"-1\">Examples:</h4>\n<ul>\n<li>\n<p><strong>Alliances and Betrayals</strong>: Characters like Gon, Killua, and Leorio form alliances to navigate challenges. However, their individual motivations can lead to conflicts, showcasing the tension between personal and collective goals.</p>\n</li>\n<li>\n<p><strong>Personal Growth</strong>: The characters are often driven by personal desires‚ÄîGon‚Äôs quest to find his father, Killua‚Äôs struggle for independence from his family, and Kurapika‚Äôs desire for revenge. These individual incentives create depth in their motivations and actions.</p>\n</li>\n</ul>\n<h3 id=\"nen-and-its-role-as-an-incentive-system\" tabindex=\"-1\"><strong>Nen and Its Role as an Incentive System</strong></h3>\n<p>The Nen system in <em>Hunter x Hunter</em> serves as a complex incentive structure that rewards training, strategy, and creativity in combat.</p>\n<h4 id=\"key-features%3A-1\" tabindex=\"-1\">Key Features:</h4>\n<ul>\n<li>\n<p><strong>Personalization</strong>: Nen abilities are unique to each user and are based on their personality and experiences. This personalization incentivizes Hunters to invest time and effort into mastering their abilities, as they become extensions of themselves.</p>\n</li>\n<li>\n<p><strong>Strategic Thinking</strong>: The Nen system encourages strategic thinking, as users must understand their strengths and weaknesses and those of their opponents. The incentive to outsmart foes adds layers to battles, making them not just about power but also about wits.</p>\n</li>\n</ul>\n<h3 id=\"consequences-and-trade-offs\" tabindex=\"-1\"><strong>Consequences and Trade-offs</strong></h3>\n<p>The series also highlights the consequences of the incentive systems in place, particularly regarding the ethical implications of the Hunters‚Äô choices.</p>\n<ul>\n<li>\n<p><strong>Moral Dilemmas</strong>: Characters often face moral dilemmas where the pursuit of their goals can lead to negative consequences for others. For instance, some Hunters prioritize their objectives over the well-being of others, raising questions about the ethics of their actions.</p>\n</li>\n<li>\n<p><strong>Sacrifices</strong>: The journey of becoming a Hunter often requires personal sacrifices, be it in terms of relationships, physical well-being, or moral integrity. This reflects the trade-offs inherent in any incentive system.</p>\n</li>\n</ul>\n<h3 id=\"the-auction-and-the-underworld\" tabindex=\"-1\"><strong>The Auction and the Underworld</strong></h3>\n<p>Another significant incentive system is the auction and underworld dealings that occur later in the series, particularly during the Greed Island and Chimera Ant arcs.</p>\n<p><img src=\"https://storage.googleapis.com/papyrus_images/4bd570283a05392dc715b1489c4c0080.webp\" alt=\"\"></p>\n<h4 id=\"features%3A\" tabindex=\"-1\">Features:</h4>\n<ul>\n<li>\n<p><strong>Scarcity and Value</strong>: Rare items and information become valuable commodities in the auction system, incentivizing Hunters to participate in dangerous missions to acquire them. The allure of these items drives characters into conflict and competition. üíé</p>\n</li>\n<li>\n<p><strong>Risk vs. Reward</strong>: The underworld emphasizes the risk involved in pursuing rewards. Characters must weigh the potential gains against the dangers they face, illustrating the high stakes associated with their desires. ‚öñ</p>\n</li>\n</ul>\n<blockquote>\n<p>In <em>Hunter x Hunter</em>, the various incentive systems‚Äîranging from the Hunter Exam to the Nen system and the underworld dealings‚Äîserve to shape character motivations, drive the plot, and explore deeper themes of morality, competition, and personal growth. The complexity of these systems reflects the series‚Äô intricate storytelling, making it a rich exploration of human desires and the consequences of pursuing them.</p>\n</blockquote>\n<h1 id=\"tower-of-god\" tabindex=\"-1\">Tower of God</h1>\n<p><img src=\"https://storage.googleapis.com/papyrus_images/4255d41e189d4a71c5019525b6fe3aff.webp\" alt=\"\"></p>\n<p>In the anime <em>Tower of God</em>, we see the incentive system is intricately woven into the narrative and serves as a crucial mechanism for driving character motivations, conflicts, and the overall plot. The Tower itself functions as a multi-layered arena where characters face various challenges, each governed by its own set of incentives and rules.</p>\n<h3 id=\"climbing-the-tower\" tabindex=\"-1\"><strong>Climbing the Tower</strong></h3>\n<p>At the core of <em>Tower of God</em> is the overarching goal of climbing the Tower, which serves as the primary incentive for many characters. The Tower promises immense power, wealth, and the chance to achieve one‚Äôs dreams at the top.</p>\n<ul>\n<li>\n<p><strong>Desire for Power and Fulfillment</strong>: Each character has their own motivations for climbing, ranging from personal ambition to the desire to reunite with loved ones. For example, Bam‚Äôs journey is driven by his desire to find Rachel, while other characters seek glory or revenge.</p>\n<p><img src=\"https://storage.googleapis.com/papyrus_images/34633b38f5c5ffa4f9502e2e94f3ce3f.avif\" alt=\"\"></p>\n</li>\n<li>\n<p><strong>Challenges and Trials</strong>: The Tower is divided into multiple floors, each presenting unique tests and challenges. Successfully overcoming these trials serves as an incentive for characters to prove their strength and skill.</p>\n</li>\n</ul>\n<h3 id=\"the-role-of-rankers\" tabindex=\"-1\"><strong>The Role of Rankers</strong></h3>\n<p>Within the Tower, there are two main categories of climbers: regulars and rankers. Rankers are those who have already ascended and achieved a high status, serving as both mentors and adversaries to the regulars.</p>\n<ul>\n<li>\n<p><strong>Authority and Status</strong>: Rankers hold significant power and influence within the Tower, and this status serves as a major incentive for regulars to aspire to reach their level. This dynamic creates a competitive atmosphere where regulars must constantly prove themselves.</p>\n</li>\n<li>\n<p><strong>Rewards and Responsibilities</strong>: Rankers often receive special privileges and responsibilities, which can incentivize them to assist or manipulate regulars in their ascent. The relationships between rankers and regulars can create complex social dynamics based on competition and cooperation.</p>\n</li>\n</ul>\n<p><img src=\"https://storage.googleapis.com/papyrus_images/2e20731f1a03c04ebfb82b25fdb12707.webp\" alt=\"\"></p>\n<h3 id=\"the-test-and-competition-structure\" tabindex=\"-1\"><strong>The Test and Competition Structure</strong></h3>\n<p>The various tests within the Tower are structured to foster competition among regulars, which is a fundamental aspect of the incentive system.</p>\n<ul>\n<li>\n<p><strong>Teamwork vs. Individualism</strong>: Many challenges require cooperation among climbers, creating a dual incentive of working together to succeed while also competing for individual glory. This dynamic is evident in the early tests, where characters must form alliances to survive.</p>\n</li>\n<li>\n<p><strong>Elimination and Advancement</strong>: The competitive nature of the tests means that failure results in elimination from the Tower, which serves as a powerful motivator. The threat of elimination encourages characters to push their limits and take risks.</p>\n</li>\n</ul>\n<p><img src=\"https://storage.googleapis.com/papyrus_images/d67baa30dfeb7fc08fc6902a379adaa6.avif\" alt=\"\"></p>\n<blockquote>\n<p>In <em>Tower of God</em>, the incentive system is multifaceted, shaping the motivations and actions of characters as they navigate the challenges of the Tower. The interplay between personal desires, competition, and the hierarchical structure of regulars and rankers creates a rich narrative landscape. The series delves into the complexities of ambition, sacrifice, and the human experience, making the incentive system an integral part of its storytelling.</p>\n</blockquote>\n<h1 id=\"solo-levelling\" tabindex=\"-1\">Solo Levelling</h1>\n<p><img src=\"https://storage.googleapis.com/papyrus_images/5f1adb41dd6c0f8fbb953384332a7b81.jpg\" alt=\"\"></p>\n<p><em>One of my personal favorites.</em> In the anime <em><strong>Solo Leveling</strong></em>, the ranking and incentive system is central to the story‚Äôs premise and character development. The world is divided into Hunters‚Äîindividuals who possess supernatural abilities and engage in battles against monsters from dungeons. The ranking system not only categorizes Hunters but also serves as a key incentive mechanism, motivating characters to grow stronger and face increasingly formidable challenges. Here‚Äôs a detailed exploration of the ranking and incentive system in <em>Solo Leveling</em>:</p>\n<h3 id=\"hunter-ranks\" tabindex=\"-1\"><strong>Hunter Ranks</strong></h3>\n<p>The ranking system in <em>Solo Leveling</em> categorizes Hunters based on their strength and abilities. The ranks are typically divided into several tiers, from the lowest to the highest:</p>\n<ul>\n<li>\n<p><strong>E-Rank</strong>: The weakest category, often consisting of inexperienced Hunters with limited abilities.</p>\n</li>\n<li>\n<p><strong>D-Rank</strong>: Slightly stronger than E-Rank, but still considered low-tier.</p>\n</li>\n<li>\n<p><strong>C-Rank</strong>: Competent Hunters capable of handling moderate threats.</p>\n</li>\n<li>\n<p><strong>B-Rank</strong>: Stronger Hunters who can take on more challenging dungeons.</p>\n</li>\n<li>\n<p><strong>A-Rank</strong>: Highly skilled Hunters with significant abilities and experience.</p>\n</li>\n<li>\n<p><strong>S-Rank</strong>: The elite class of Hunters, known for their exceptional strength and prowess.</p>\n</li>\n</ul>\n<p><img src=\"https://storage.googleapis.com/papyrus_images/5fc97165457cd818bd4bce7d0d2a3753.avif\" alt=\"\"></p>\n<p>This ranking system not only establishes a hierarchy among Hunters but also influences their status, opportunities, and how they are treated in society.</p>\n<h3 id=\"incentives-for-levelling-up\" tabindex=\"-1\"><strong>Incentives for Levelling Up</strong></h3>\n<p>The ranking system provides various incentives for Hunters to level up and improve their abilities.</p>\n<ul>\n<li>\n<p><strong>Recognition and Prestige</strong>: Higher-ranked Hunters gain social status and respect. The desire to be recognized as a strong and capable Hunter drives many characters to strive for improvement.</p>\n</li>\n<li>\n<p><strong>Access to Better Resources</strong>: Higher ranks often translate to access to more lucrative missions and dungeons, as well as better gear and resources. This creates a tangible incentive for Hunters to train and advance.</p>\n</li>\n<li>\n<p><strong>Financial Rewards</strong>: Completing higher-level dungeons typically yields greater monetary rewards. As Hunters rise in rank, the potential for earning increases, motivating them to take on more challenging tasks.</p>\n</li>\n</ul>\n<p><em>Of course in this anime only our protagonist can level up.</em></p>\n<h3 id=\"the-role-of-dungeons\" tabindex=\"-1\"><strong>The Role of Dungeons</strong></h3>\n<p>Dungeons are critical to the ranking system, as they serve as the primary battlegrounds for Hunters. The difficulty of the dungeon often corresponds to the rank of the Hunters needed to clear it.</p>\n<ul>\n<li>\n<p><strong>Increased Challenge</strong>: Higher-ranked dungeons require stronger Hunters, presenting a significant incentive for individuals to level up. The potential for earning greater rewards in higher-level dungeons drives Hunters to improve their skills.</p>\n</li>\n<li>\n<p><strong>Experience and Growth</strong>: The process of entering dungeons allows Hunters to gain valuable experience, level up, and hone their abilities. As they face stronger monsters, they have the opportunity to prove themselves and ascend in rank.</p>\n</li>\n</ul>\n<h3 id=\"the-protagonist%E2%80%99s-journey\" tabindex=\"-1\"><strong>The Protagonist‚Äôs Journey</strong></h3>\n<p>The story follows Sung Jin-Woo, an E-Rank Hunter who starts at the bottom of the ranking system. After a near-fatal encounter in a double dungeon, he gains a unique ability that allows him to ‚Äúlevel up‚Äù in a video game-like manner.</p>\n<p><img src=\"https://storage.googleapis.com/papyrus_images/1ab7a083948427e701858462b6413a0f.jpg\" alt=\"\"></p>\n<ul>\n<li>\n<p><strong>Unique Incentive Mechanism</strong>: Jin-Woo‚Äôs ability to level up independently of the traditional ranking system sets him apart. This mechanic serves as a powerful incentive for his growth, as he can train and gain strength rapidly compared to his peers.</p>\n</li>\n<li>\n<p><strong>Transformative Growth</strong>: As he levels up, Jin-Woo transitions from being one of the weakest Hunters to an S-Rank Hunter. His journey highlights the incentives tied to perseverance, dedication, and the pursuit of power.</p>\n</li>\n</ul>\n<h3 id=\"social-and-psychological-factors\" tabindex=\"-1\"><strong>Social and Psychological Factors</strong></h3>\n<p>The ranking and incentive system also explores social dynamics and psychological motivations among Hunters.</p>\n<ul>\n<li>\n<p><strong>Competition and Rivalry</strong>: The hierarchical nature of the ranking system fosters competition among Hunters. This rivalry can lead to alliances or conflicts, as individuals strive to outperform one another.</p>\n</li>\n<li>\n<p><strong>Fear of Weakness</strong>: Many Hunters experience anxiety about their rank, as being labeled weak can lead to social stigma and reduced opportunities. This fear drives characters to push themselves harder and take greater risks to improve their status.</p>\n</li>\n</ul>\n<h3 id=\"consequences-of-the-system\" tabindex=\"-1\"><strong>Consequences of the System</strong></h3>\n<p>The ranking and incentive system in <em>Solo Leveling</em> also has its darker aspects, revealing the pressures and challenges that come with the pursuit of power.</p>\n<ul>\n<li>\n<p><strong>Moral Dilemmas</strong>: Characters may face ethical choices when pursuing their goals, such as sacrificing others for personal gain or engaging in ruthless competition.</p>\n</li>\n<li>\n<p><strong>Mental Strain</strong>: The constant pressure to rank up and improve can lead to mental strain and burnout, as Hunters push themselves to their limits.</p>\n</li>\n</ul>\n<p><img src=\"https://storage.googleapis.com/papyrus_images/9cfdcb65ce98c49be2f8c4477dbe6665.avif\" alt=\"\"></p>\n<blockquote>\n<p>The ranking and incentive system in <em>Solo Leveling</em> serves as a vital framework for character motivations, societal dynamics, and the overarching plot. By establishing clear tiers of strength and associated rewards, the system encourages characters to grow and adapt, creating a compelling narrative of struggle and triumph. The series effectively explores themes of ambition, competition, and the costs associated with the pursuit of power, making the ranking system an integral aspect of its storytelling.</p>\n</blockquote>\n<p>Similar scoring systems are used in multiple real life scenarios as is in anime. The limits of a limitless system is the most crucial point for the existence of any perpetual system. If we know what‚Äôs supposed to be the peak and what‚Äôs the rock bottom, we have our range to work with. But often, in society and life, the strongest keeps changing and so does our knowledge of the weakest.</p>\n<p><img src=\"https://storage.googleapis.com/papyrus_images/b0e07abd6772555fc5b6d5062ddc4b85.jpg\" alt=\"\"></p>\n<p>‚Ä¶to be continued.</p>\n",
      "date_published": "2024-10-24T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/designing-the-perfect-incentivised-system-part-1/",
      "url": "https://blog.anirudha.dev/designing-the-perfect-incentivised-system-part-1/",
      "title": "Designing The Perfect Incentivised System - Part 1",
      "content_html": "<blockquote>\n<p><em>As I started writing this, it became apparent as to how deep the rabbit hole really is‚Ä¶</em> üê∞</p>\n<p>So, I‚Äôm breaking up the discovery phase in multiple parts. If you‚Äôre just catching up, start at the beginning‚Ä¶ üèÜ</p>\n</blockquote>\n<p>Incentive systems are frameworks designed to motivate individuals or groups to achieve specific goals by offering rewards, recognition, or penalties. These systems can be implemented in various contexts, from businesses to governments, and are essential for driving behavior that aligns with desired outcomes.</p>\n<p>A well-structured incentive system does more than offer financial rewards. It considers intrinsic motivation, such as the satisfaction of achievement, recognition, or personal growth. Successful incentive systems balance short-term gains with long-term sustainability, preventing negative behaviors like gaming the system or burnout.</p>\n<p>However, designing effective incentive systems requires understanding our psychology, individual preferences, and the dynamics of the environment. Poorly designed systems can lead to unintended consequences, such as encouraging counterproductive competition or diminishing intrinsic motivation. Therefore, the challenge lies in creating incentives that inspire optimal behavior while maintaining fairness and promoting a culture of continuous improvement.</p>\n<p>Incentive systems are not one-size-fits-all. They must be adaptable, transparent, and aligned with the broader values and goals of the organization or community. When executed well, they can significantly enhance performance, engagement, and innovation. But, don‚Äôt take my word for it. Let‚Äôs take a trip through time.</p>\n<h1 id=\"the-origin-story\" tabindex=\"-1\">The Origin Story</h1>\n<p>From the earliest days, we understood that offering something desirable‚Äîlike food, shelter, or status‚Äîcould motivate individuals or groups to act in certain ways. These foundational ideas evolved over time, shaping how modern societies and organizations drive productivity and success.</p>\n<p>In the workplace, formal use of incentive systems became prominent during the Industrial Revolution in the 18th and 19th centuries. Factories, driven by mass production, started using financial rewards‚Äîlike piece-rate pay, where workers earned money based on output‚Äîas a way to boost efficiency and productivity. This marked one of the earliest structured incentive systems in modern business.</p>\n<p>By the early 20th century, thinkers like Frederick Taylor and his ‚Äúscientific management‚Äù principles influenced how organizations designed these systems. Taylor emphasized optimizing workflows and using incentives to increase output. His work laid the groundwork for performance-based rewards, which many industries adopted to motivate workers while maximizing profits.</p>\n<p>Over time, incentive systems grew beyond financial rewards. By the mid-20th century, companies began incorporating more diverse incentives, like promotions, recognition programs, and professional development opportunities, acknowledging that motivation was about more than just money.</p>\n<p>Today, incentive systems have evolved further, especially in the digital age. Companies leverage everything from flexible work arrangements to social recognition on platforms, understanding that a blend of intrinsic (personal satisfaction, purpose) and extrinsic (monetary rewards, perks) motivators is essential for driving both individual and organizational success.</p>\n<blockquote>\n<p>üìú The idea of using incentives goes all the way back to ancient Egypt! Pharaohs used a kind of ‚Äúbonus‚Äù system to motivate workers building the pyramids. Workers were sometimes paid in beer‚Äîa valuable commodity back then‚Äîencouraging them to work harder and stay motivated during massive construction projects.</p>\n</blockquote>\n<h2 id=\"nosedive\" tabindex=\"-1\">Nosedive</h2>\n<p><img src=\"https://storage.googleapis.com/papyrus_images/ddecc14cccf3977aaec25377b29a0c5a.jpg\" alt=\"\"></p>\n<p>In the <em>Black Mirror</em> episode ‚ÄúNosedive‚Äù (Season 3, Episode 1), the entire society operates on a highly sophisticated <strong>incentive system</strong> based on a personal rating system that impacts nearly every aspect of people‚Äôs lives. This episode provides a dystopian commentary on how a culture driven by social ratings and approval can create incentives that influence behavior in troubling ways.</p>\n<h3 id=\"social-rating-as-currency\" tabindex=\"-1\"><strong>Social Rating as Currency</strong></h3>\n<p>In <em>Nosedive</em>, each person is constantly rated on a scale of 1 to 5 ‚≠êÔ∏è after every interaction, whether it‚Äôs a casual conversation, a service experience, or a social media post. These ratings are given and received through augmented reality (via implants and smart devices), making social validation an omnipresent and quantifiable aspect of life.</p>\n<p><strong>Incentive Structure</strong>:</p>\n<ul>\n<li>\n<p><strong>High Ratings = Privilege</strong>: People with a high rating (closer to 5 ‚≠êÔ∏è) have access to better services, exclusive communities, and high social status. For example, they can rent luxury apartments, book first-class flights, and attend elite social events. This creates a strong incentive for individuals to continually strive for positive ratings. ‚ú®</p>\n</li>\n<li>\n<p><strong>Low Ratings = Social Exclusion</strong>: People with low ratings (under 3 ‚≠ê) face social ostracism and exclusion. They are denied access to certain services, treated with disdain, and can lose their jobs, housing, or even friends. This drives a constant fear of dropping in social status. üö©</p>\n</li>\n</ul>\n<h3 id=\"behavioral-modification-through-ratings\" tabindex=\"-1\"><strong>Behavioral Modification Through Ratings</strong></h3>\n<p>The rating system in <em>Nosedive</em> creates powerful incentives for people to adjust their behavior, often in artificial or inauthentic ways. People engage in overly polite, agreeable, and upbeat interactions, constantly trying to please others to maintain or improve their ratings. Authenticity and genuine connection takes a backseat to a shroud of perfection.</p>\n<ul>\n<li>\n<p><strong>Politeness and Conformity</strong>: The system encourages extreme politeness and conformity because even small, everyday interactions (like ordering coffee or meeting a stranger) are rated. People aim to avoid conflict or any behavior that might offend others, leading to shallow and artificial interactions. <em>Do you think future meaning of AI will be Artificial Interactions?</em></p>\n</li>\n<li>\n<p><strong>Social Media Performance</strong>: People carefully curate their social media profiles and posts to reflect an idealized version of their lives. The system incentivizes creating a false sense of happiness and success to earn positive ratings. On some level this might even feel relatable in our current society.</p>\n</li>\n</ul>\n<h3 id=\"cascading-effects-of-low-ratings\" tabindex=\"-1\"><strong>Cascading Effects of Low Ratings</strong></h3>\n<p>Once someone‚Äôs rating starts to fall, the system makes it increasingly difficult for them to recover. This cascading effect mirrors the real-world phenomenon of negative feedback loops, where one small mistake leads to more severe consequences.</p>\n<ul>\n<li>\n<p><strong>Instant Demotion in Social Status</strong>: In the episode, the protagonist, Lacie, experiences a sudden drop in her rating after a series of negative interactions. As her rating falls, people begin treating her worse, and even minor slip-ups lead to further ratings hits.</p>\n</li>\n<li>\n<p><strong>Punitive Measures</strong>: At one point, Lacie is punished for a public outburst by having her rating severely downgraded, making it even harder for her to participate in society. This punishment creates fear among others, incentivizing them to be even more cautious about their behavior.</p>\n</li>\n</ul>\n<h3 id=\"economic-and-social-mobility-tied-to-ratings\" tabindex=\"-1\"><strong>Economic and Social Mobility Tied to Ratings</strong></h3>\n<p>The social rating system directly influences economic and social mobility. People with high ratings enjoy better career opportunities, housing, and access to resources, while those with lower ratings are marginalized and often trapped in poverty or undesirable circumstances.</p>\n<ul>\n<li>\n<p>üíº <strong>Job Opportunities</strong>: Many jobs in the <em>Nosedive</em> universe require a minimum rating. For example, Lacie‚Äôs dream is to move into an upscale apartment complex, but she needs a rating of 4.5 or higher to qualify for a discount. This incentivizes her to engage in strategic social interactions and build relationships with high-status individuals to boost her rating.</p>\n</li>\n<li>\n<p>üèò <strong>Housing &amp; Services</strong>: Access to certain housing, transportation, and even healthcare services is based on one‚Äôs rating. People with lower ratings find themselves excluded from basic services, motivating them to constantly improve their scores to regain access.</p>\n</li>\n</ul>\n<h3 id=\"the-incentive-trap\" tabindex=\"-1\"><strong>The Incentive Trap</strong></h3>\n<p>While the system is designed to incentivize ‚Äúgood‚Äù behavior and social harmony, it ends up encouraging manipulation, superficiality, and emotional suppression. Instead of fostering genuine connections, it pushes people to prioritize their public image over authentic relationships.</p>\n<ul>\n<li>\n<p><strong>Inauthenticity</strong>: People are incentivized to present an idealized version of themselves, even at the cost of their own well-being. Lacie, for example, suppresses her emotions and thoughts to appear perfect, but this leads to a breakdown when her fa√ßade starts to crack.</p>\n</li>\n<li>\n<p><strong>Social Pressure</strong>: The constant pressure to perform for others creates a toxic social environment where people are judged solely by their ratings, rather than by their character or contributions.</p>\n</li>\n</ul>\n<h3 id=\"systemic-breakdown-%26-personal-collapse\" tabindex=\"-1\"><strong>Systemic Breakdown &amp; Personal Collapse</strong></h3>\n<p>In the end, the incentive system in <em>Nosedive</em> proves unsustainable. Lacie‚Äôs obsession with improving her rating leads to her mental and emotional unraveling. She spirals into desperation, and her inability to conform to the social norms results in her exile from the high-status world she aspired to join.</p>\n<p><em><strong>üèÉüèª‚Äç‚ôÇÔ∏è Escape from the System</strong></em>*.* Ironically, Lacie finds freedom after her rating drops to zero and she‚Äôs imprisoned. In a critical moment, she exchanges insults and genuine emotions with another prisoner, highlighting that, outside the rating system, people can express themselves freely and honestly without the pressure of constant judgment.</p>\n<blockquote>\n<p>The incentive system in <em>Black Mirror‚Äôs</em> <em>Nosedive</em> illustrates how an over-reliance on ratings, approval, and superficial metrics can distort our behavior and relationships. While it rewards politeness, success, and conformity, it also suppresses individuality, authenticity, and emotional expression. The episode serves as a cautionary tale about how unchecked incentive systems, driven by external validation, can lead to societal and personal dysfunction.</p>\n</blockquote>\n<h1 id=\"game-theory\" tabindex=\"-1\">Game Theory</h1>\n<p><img src=\"https://storage.googleapis.com/papyrus_images/d4e6e283facf03e0a937ce8da978cbec.png\" alt=\"\"></p>\n<p>Game theory is the study of strategic interactions between individuals or groups where the outcome for each participant depends not only on their own actions but also on the actions of others. Developed in the mid-20th century by mathematician John von Neumann and economist Oskar Morgenstern, game theory has since become a crucial tool in economics, politics, psychology, and even biology.</p>\n<p>üß© At its core, game theory seeks to understand how rational players make decisions in situations of conflict or cooperation. A key concept is the <strong>Nash equilibrium</strong>, introduced by John Nash, where no player has an incentive to change their strategy given what others are doing. Other famous models include the <strong>Prisoner‚Äôs Dilemma</strong>, where two players may not cooperate even if it‚Äôs in their best interest, and <strong>Zero-Sum Games</strong>, where one player‚Äôs gain is another‚Äôs loss.</p>\n<p>Game theory helps explain real-world scenarios like negotiations, business competition, public policy, and even social behaviors, offering insights into how people can optimize decisions in complex environments. Game theory provides valuable insights for designing effective incentive systems by analyzing strategic interactions among individuals or groups. When creating an incentive system, it‚Äôs crucial to understand how participants will respond to various incentives and the potential outcomes of their choices.</p>\n<h3 id=\"understanding-strategic-interactions\" tabindex=\"-1\"><strong>Understanding Strategic Interactions</strong></h3>\n<p>Incentive systems often involve multiple stakeholders whose decisions affect one another. Game theory helps predict how individuals will behave in response to different incentives. By modeling these interactions, designers can anticipate possible outcomes and create systems that encourage desired behaviors.</p>\n<h3 id=\"identifying-nash-equilibria\" tabindex=\"-1\"><strong>Identifying Nash Equilibria</strong></h3>\n<p>The concept of <strong>Nash equilibrium</strong> is pivotal in understanding how individuals may settle into stable strategies where no one has an incentive to change their behavior unilaterally. In designing an incentive system, identifying potential Nash equilibria can help ensure that the chosen incentives promote cooperative behavior rather than competitive or counterproductive actions.</p>\n<p>For example, in a workplace scenario, if an incentive system rewards individual performance without considering team dynamics, employees may prioritize personal gains over collaborative efforts. Game theory can help designers find equilibrium strategies that foster both individual and collective performance.</p>\n<h3 id=\"addressing-the-prisoner%E2%80%99s-dilemma\" tabindex=\"-1\"><strong>Addressing the Prisoner‚Äôs Dilemma</strong></h3>\n<p>The <strong>Prisoner‚Äôs Dilemma</strong> illustrates how rational individuals may not cooperate, even when it‚Äôs in their best interest. This dilemma often arises in incentive systems, especially when individual rewards conflict with group goals.</p>\n<p>By understanding this dynamic, designers can create incentive structures that encourage collaboration. For instance, implementing team-based bonuses alongside individual rewards can mitigate the risk of individuals acting solely in their self-interest.</p>\n<h3 id=\"incentives-and-information-asymmetry\" tabindex=\"-1\"><strong>Incentives and Information Asymmetry</strong></h3>\n<p>Game theory also addresses situations where players have different levels of information, leading to <strong>information asymmetry</strong>. In incentive systems, this can manifest when one party knows more about the task or effort than the other, leading to mistrust or exploitation.</p>\n<p>Designers can counteract these issues by ensuring transparency and communication within the incentive system. For example, implementing performance metrics that are visible to all stakeholders can help align interests and build trust, reducing the chances of opportunistic behavior.</p>\n<h3 id=\"feedback-loops-and-dynamic-strategies\" tabindex=\"-1\"><strong>Feedback Loops and Dynamic Strategies</strong></h3>\n<p>Incentive systems often operate in dynamic environments where strategies may evolve over time. Game theory helps analyze feedback loops in these systems, allowing designers to understand how participants‚Äô strategies may change in response to the incentives offered.</p>\n<p>By considering potential shifts in behavior, designers can create flexible incentive structures that adapt over time, ensuring they remain effective as circumstances change. For example, introducing periodic reviews or adjusting rewards based on changing goals can maintain participant engagement and motivation.</p>\n<h3 id=\"balancing-short-term-and-long-term-goals\" tabindex=\"-1\"><strong>Balancing Short-Term and Long-Term Goals</strong></h3>\n<p>Game theory can guide the design of incentive systems that balance short-term and long-term objectives. Participants may focus on immediate rewards at the expense of future benefits, leading to suboptimal outcomes.</p>\n<p>Designers can use game-theoretic principles to create incentives that align short-term actions with long-term goals. For example, structuring bonuses to include both immediate rewards and deferred compensation can encourage sustained effort and commitment to the organization‚Äôs vision.</p>\n<blockquote>\n<p>Incorporating game theory into the design of incentive systems provides a robust framework for understanding the strategic interactions of participants. By analyzing these dynamics, designers can create more effective and equitable systems that promote cooperation, align individual and group interests, and ultimately drive desired behaviors. The insights from game theory enable organizations to navigate the complexities of our behavior and foster environments where everyone can thrive.</p>\n</blockquote>\n<p>‚Ä¶to be continued.</p>\n<p><img src=\"https://storage.googleapis.com/papyrus_images/52a5874988206403bfe3dd25a8e184b9.jpg\" alt=\"\"></p>\n",
      "date_published": "2024-10-22T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/reentrancy-attack/",
      "url": "https://blog.anirudha.dev/reentrancy-attack/",
      "title": "Reentrancy Attack",
      "content_html": "<p><strong>Reentrancy attacks</strong> are one of the common security issues that can occur in Solidity smart contracts. They exploit the fact that <strong>a function can be called multiple times before it finishes execution</strong>.<br>\n<em>When a contract A calls a function in contract B, contract B can call back into contract A while it is still running. If contract A has not finished executing and is still holding state, contract B can potentially manipulate that state to gain an unfair advantage.</em><br>\nThis can lead to various issues such as fund loss, unauthorized access, or even complete contract failure.</p>\n<p><img src=\"https://media.geeksforgeeks.org/wp-content/uploads/20230130125653/Redesign-blockchain-1.png\" alt=\"\"></p>\n<blockquote>\n<p>The most famous reentrancy attack occurred in 2016, resulting in the loss of 3.6 million Ether and leading to the Ethereum hard fork, creating Ethereum (ETH) and Ethereum Classic (ETC) also known as, <strong>The DAO Hack</strong>.</p>\n</blockquote>\n<p>WETH Attack: First ever reentrancy attack was <a href=\"https://www.reddit.com/r/ethereum/comments/4nmohu/from_the_maker_dao_slack_today_we_discovered_a/?user_id=360657100019\">reported</a> on Maker DAO Slack. It can tracked on <a href=\"https://github.com/pcaversaccio/reentrancy-attacks/issues/1\">github issue</a>. It was an intentional one and <a href=\"https://github.com/blockchainsllc/DAO/pull/242\">a patch</a> was later merged about it. You can find more details in <a href=\"https://web.archive.org/web/20170615055530/http://vessenes.com/more-ethereum-attacks-race-to-empty-is-the-real-deal/\">web archive</a>.</p>\n<p>Just in 2021 and 2022 alone, more than a dozen attacks has happened around this. <a href=\"https://nipunp.medium.com/5-8-21-rari-capital-exploit-timeline-analysis-8beda31cbc1a\">Rari Capital Expoit</a>, <a href=\"https://inspexco.medium.com/reentrancy-attack-on-cream-finance-incident-analysis-1c629686b6f5\">Cream Finance</a>, <a href=\"https://certik.medium.com/fei-protocol-incident-analysis-8527440696cc\">Fei Protocol</a>, <a href=\"https://www.coindesk.com/tech/2022/03/31/ola-finance-exploited-for-36m-in-re-entrancy-attack/\">Ola Finance</a>, <a href=\"https://blocksecteam.medium.com/when-safemint-becomes-unsafe-lessons-from-the-hypebears-security-incident-2965209bda2a\">Hyperbears</a>. <a href=\"https://x.com/BlockSecTeam/status/1546141457933025280\">BurgerSwap</a>, <a href=\"https://therecord.media/2-million-stolen-from-defi-protocol-revest-finance-platform-unable-to-reimburse-victims\">Revest Finance</a>, <a href=\"https://polydex.medium.com/plx-locker-smart-contract-incident-post-mortem-75342124a3e8\">PolyDex</a>, and so on‚Ä¶</p>\n<h3 id=\"how-does-it-work\" tabindex=\"-1\">How does it Work</h3>\n<p>In a typical reentrancy attack, an attacker exploits the way Ethereum handles external calls and the sequence in which state changes and value transfers are performed. Here‚Äôs a simplified flow:</p>\n<ol>\n<li>\n<p><strong>Attack Contract Initiation</strong>: The attacker deploys a malicious contract.</p>\n</li>\n<li>\n<p><strong>Initial Call</strong>: The attacker triggers a function in the vulnerable contract that sends Ether to the attacker‚Äôs contract.</p>\n</li>\n<li>\n<p><strong>Fallback Function</strong>: The attacker‚Äôs contract contains a fallback function that calls the vulnerable contract again before the first function call finishes.</p>\n</li>\n<li>\n<p><strong>Repeated Calls</strong>: The process repeats, allowing the attacker to drain funds from the vulnerable contract.</p>\n</li>\n</ol>\n<h3 id=\"example-of-a-vulnerable-contract\" tabindex=\"-1\">Example of a Vulnerable Contract</h3>\n<p>Here‚Äôs a basic example of a vulnerable Solidity contract:</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">pragma</span> <span class=\"token keyword\">solidity</span> <span class=\"token operator\">^</span><span class=\"token version number\">0.8.0</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">contract</span> <span class=\"token class-name\">VulnerableContract</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">mapping</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">uint</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> balances<span class=\"token punctuation\">;</span><br><br>    <span class=\"token keyword\">function</span> <span class=\"token function\">deposit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span><br>        balances<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">+=</span> msg<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">function</span> <span class=\"token function\">withdraw</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint</span> _amount<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>balances<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">>=</span> _amount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token punctuation\">(</span><span class=\"token builtin\">bool</span> sent<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">.</span>call<span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">:</span> _amount<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>sent<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Failed to send Ether\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        balances<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">-=</span> _amount<span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>In this contract, the <code>withdraw</code> function updates the user‚Äôs balance after sending Ether. This sequence creates a window for a reentrancy attack.</p>\n<h3 id=\"exploiting-the-vulnerability\" tabindex=\"-1\">Exploiting the Vulnerability</h3>\n<p>The attacker‚Äôs contract might look like this:</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">pragma</span> <span class=\"token keyword\">solidity</span> <span class=\"token operator\">^</span><span class=\"token version number\">0.8.0</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">import</span> <span class=\"token string\">\"./VulnerableContract.sol\"</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">contract</span> <span class=\"token class-name\">AttackContract</span> <span class=\"token punctuation\">{</span><br>    VulnerableContract <span class=\"token keyword\">public</span> vulnerableContract<span class=\"token punctuation\">;</span><br><br>    <span class=\"token keyword\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> _vulnerableContractAddress<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        vulnerableContract <span class=\"token operator\">=</span> <span class=\"token function\">VulnerableContract</span><span class=\"token punctuation\">(</span>_vulnerableContractAddress<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token function\">fallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">external</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span><span class=\"token punctuation\">(</span>vulnerableContract<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>balance <span class=\"token operator\">>=</span> <span class=\"token number\">1</span> ether<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>            vulnerableContract<span class=\"token punctuation\">.</span><span class=\"token function\">withdraw</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span> ether<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token punctuation\">}</span><br>    <span class=\"token punctuation\">}</span><br><br>    <span class=\"token keyword\">function</span> <span class=\"token function\">attack</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">payable</span> <span class=\"token punctuation\">{</span><br>        vulnerableContract<span class=\"token punctuation\">.</span>deposit<span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span> ether<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        vulnerableContract<span class=\"token punctuation\">.</span><span class=\"token function\">withdraw</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span> ether<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"how-to-avoid-reentrancy-attacks\" tabindex=\"-1\">How to Avoid Reentrancy Attacks</h3>\n<ol>\n<li>\n<p><strong>Check-Effects-Interactions Pattern</strong>: Ensure all internal state changes occur before external calls. This pattern involves three steps:</p>\n<ul>\n<li>\n<p><strong>Checks</strong>: Validate conditions.</p>\n</li>\n<li>\n<p><strong>Effects</strong>: Update internal state.</p>\n</li>\n<li>\n<p><strong>Interactions</strong>: Make external calls.</p>\n</li>\n</ul>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">function</span> <span class=\"token function\">withdraw</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint</span> _amount<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>balances<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">>=</span> _amount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    balances<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">-=</span> _amount<span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">(</span><span class=\"token builtin\">bool</span> sent<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">.</span>call<span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">:</span> _amount<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>sent<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Failed to send Ether\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n</li>\n<li>\n<p><strong>Reentrancy Guards</strong>: Use the <code>nonReentrant</code> modifier from OpenZeppelin‚Äôs ReentrancyGuard contract to prevent reentrant calls.</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">import</span> <span class=\"token string\">\"@openzeppelin/contracts/security/ReentrancyGuard.sol\"</span><span class=\"token punctuation\">;</span><br><br><span class=\"token keyword\">contract</span> <span class=\"token class-name\">SecureContract</span> <span class=\"token keyword\">is</span> ReentrancyGuard <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">mapping</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">uint</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> balances<span class=\"token punctuation\">;</span><br><br>    <span class=\"token keyword\">function</span> <span class=\"token function\">withdraw</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint</span> _amount<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> nonReentrant <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>balances<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">>=</span> _amount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        balances<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">-=</span> _amount<span class=\"token punctuation\">;</span><br>        <span class=\"token punctuation\">(</span><span class=\"token builtin\">bool</span> sent<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">.</span>call<span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">:</span> _amount<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>sent<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Failed to send Ether\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br><span class=\"token punctuation\">}</span></code></pre>\n</li>\n<li>\n<p><strong>Avoid</strong> <code>call</code> Method: Prefer using <code>transfer</code> and <code>send</code> methods, which have a fixed gas limit and prevent reentrancy attacks. However, be aware of gas limit changes in <a href=\"https://eips.ethereum.org/EIPS/eip-1884\">EIP-1884</a>.</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">function</span> <span class=\"token function\">withdraw</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint</span> _amount<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>balances<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">>=</span> _amount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>    balances<span class=\"token punctuation\">[</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">]</span> <span class=\"token operator\">-=</span> _amount<span class=\"token punctuation\">;</span><br>    <span class=\"token keyword\">payable</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">transfer</span><span class=\"token punctuation\">(</span>_amount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n</li>\n</ol>\n<h3 id=\"best-practices\" tabindex=\"-1\">Best Practices</h3>\n<ol>\n<li>\n<p><strong>Audit Regularly</strong>: Regularly audit smart contracts to identify and mitigate vulnerabilities.</p>\n</li>\n<li>\n<p><strong>Use Established Libraries</strong>: Utilize well-known libraries and packages like OpenZeppelin for security functions.</p>\n</li>\n<li>\n<p><strong>Test Thoroughly</strong>: Conduct extensive testing, including unit tests and fuzz testing, to uncover potential weaknesses.</p>\n</li>\n<li>\n<p><strong>Limit External Calls</strong>: Minimize the number of external calls in your contract, especially those involving value transfers.</p>\n</li>\n</ol>\n<p>:)</p>\n",
      "date_published": "2024-07-22T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/on-chain-shared-state/",
      "url": "https://blog.anirudha.dev/on-chain-shared-state/",
      "title": "On-Chain Shared State",
      "content_html": "<p>Communication is a key in any ecosystem. Now with more cross-chain communication getting sorted using bridges, it‚Äôs high time to sort on-chain communications as well. Particularly, referencing of composable smart contract functionalities within the same chain.</p>\n<h1 id=\"on-chain-immutability\" tabindex=\"-1\">On-Chain Immutability</h1>\n<p>Blockchains in general are isolated networks. Smart contracts are even further isolated in the network given that they record data that are immutable. Any update to their state records a new transaction cumulatively records the updated state. This is known and also creates a historical trail for later review and audit. There‚Äôs no problem is this process expect it‚Äôs not possible to update the smart contract code itself.</p>\n<p><em>I‚Äôve always believe learning by example is best.</em> Let‚Äôs take a look at the usage of <code>ownerOf</code> from <code>IERC721</code> interface and how it‚Äôs used to check token ownership for any NFT.</p>\n<p>First we import via openzepplin package or you can write your own packaged contract <code>import &quot;@openzeppelin/contracts/token/ERC721/ERC721.sol&quot;</code> . Or if you really want to write your own <code>ERC721</code> contract, start with importing the interface <code>IERC721</code> to your contract: <code>import &quot;./IERC721.sol&quot;</code> .</p>\n<p>The <code>IERC721.sol</code> contains the function definition:</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">function</span> <span class=\"token function\">ownerOf</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint256</span> tokenId<span class=\"token punctuation\">)</span> <span class=\"token keyword\">external</span> <span class=\"token keyword\">view</span> <span class=\"token keyword\">returns</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span> owner<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>And in <code>ERC721.sol</code> you can find the first override for it as such:</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">function</span> <span class=\"token function\">ownerOf</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint256</span> tokenId<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">view</span> virtual override <span class=\"token keyword\">returns</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token builtin\">address</span> owner <span class=\"token operator\">=</span> <span class=\"token function\">_ownerOf</span><span class=\"token punctuation\">(</span>tokenId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>owner <span class=\"token operator\">!=</span> <span class=\"token builtin\">address</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ERC721: invalid token ID\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">return</span> owner<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>The function in itself is pretty straightforward. It takes <code>tokenId</code> as input and returns the owner address.</p>\n<p>To understand this further, it‚Äôs all stored in a mapping:</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">mapping</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint256</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">address</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">private</span> _owners<span class=\"token punctuation\">;</span></code></pre>\n<p>Anyway, regardless of the implementation, this is industry standard at the moment. If in case you‚Äôd want to add some conditions or enhance this function in your own contract, you‚Äôd need to override this further.</p>\n<h2 id=\"overriden\" tabindex=\"-1\">Overriden</h2>\n<p>Say we want to check for temporary ownership, like a rental ownership, which is time bound. We can not edit the original mapping of course. There‚Äôs 2 ways:</p>\n<ol>\n<li>\n<p>We add a separate mapping only for the mapping of <code>tokenId</code> and <code>owner</code> to a <code>timestamp</code>.</p>\n</li>\n<li>\n<p>We ignore <code>_owners</code> mapping and write our own mapping replacing it. We‚Äôll go with this option cause adding and reading from multiple memory storages will be costlier than having a rogue mapping lying around.</p>\n</li>\n</ol>\n<p>Let‚Äôs call our new mapping as <code>_ownership</code>:</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">struct</span> <span class=\"token class-name\">Owner</span> <span class=\"token punctuation\">{</span> <br>   <span class=\"token builtin\">address</span> account<span class=\"token punctuation\">;</span><br>   <span class=\"token builtin\">uint256</span> expiry<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span><br><span class=\"token keyword\">mapping</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint256</span> <span class=\"token operator\">=></span> Owner<span class=\"token punctuation\">)</span> <span class=\"token keyword\">private</span> _ownership<span class=\"token punctuation\">;</span></code></pre>\n<p>Now, we can map the ownership in this accordingly. But we also need to override our <code>ownerOf</code> function:</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">function</span> <span class=\"token function\">ownerOf</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint256</span> tokenId<span class=\"token punctuation\">)</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">view</span> virtual override <span class=\"token keyword\">returns</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">address</span><span class=\"token punctuation\">,</span> expiry<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>        Owner _owner <span class=\"token operator\">=</span> <span class=\"token function\">_ownership</span><span class=\"token punctuation\">(</span>tokenId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>_owner<span class=\"token punctuation\">.</span>account <span class=\"token operator\">!=</span> <span class=\"token builtin\">address</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ERC721: invalid token ID\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">require</span><span class=\"token punctuation\">(</span>_owner<span class=\"token punctuation\">.</span>expiry <span class=\"token operator\">></span> block<span class=\"token punctuation\">.</span>timestamp<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Ownership Expired. No current owner found.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><br>        <span class=\"token keyword\">return</span> _owner<span class=\"token punctuation\">.</span>account<span class=\"token punctuation\">;</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>Here, we‚Äôre doing a few things. First, we‚Äôre checking if the owner account exists and expiry is anytime beyond current block timestamp.</p>\n<p>Great, now our existing function <code>ownerOf</code> can serve as the modified version of the existing owner check. So, all the clients can now call this new function of contract and get timestamp enabled ownership check.</p>\n<p>However, here‚Äôs where things get interesting‚Ä¶</p>\n<h1 id=\"imported-smart-contracts\" tabindex=\"-1\">Imported Smart Contracts</h1>\n<p>The problem in above way is that we would need to burn all tokens from old smart contract and re-mint in new one in order for them to enable <code>expiry</code> in ownership. Which would lead to losing all history of the said tokens. So, how do we deal with this?</p>\n<p>Solidity supports importing another smart contract and referring to the functions of it as we established above. We usually use it to extend functionality. For example, we want to add a function to our previous contract which checks <code>ownerOf</code> and rewards a certain amount to them. So, we first need to define it:</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><span class=\"token keyword\">import</span> <span class=\"token string\">\"@openzeppelin/contracts/token/ERC20/IERC20.sol\"</span><span class=\"token punctuation\">;</span><br><br><span class=\"token comment\">// other code bits</span><br><br>IERC20 token<span class=\"token punctuation\">;</span><br><br><span class=\"token comment\">// ...</span><br><br>token <span class=\"token operator\">=</span> <span class=\"token function\">IERC20</span><span class=\"token punctuation\">(</span>token_address<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Now, in above, <code>token</code> represents our token from previous contract which is imported based on <code>token_address</code>. So, we should be able to do something like <code>token.ownerOf(tokenId)</code> to get the owner of <code>tokenId</code> as shown above. Once we get it, let‚Äôs say we want to do something like <code>owner_address.send(value)</code> where value is in base token of the chain. This is the most commonly used way to use an external contract. But what would happen if you‚Äôre to extend an existing function of original contract?</p>\n<p>Let‚Äôs take our previous example. We want to add <code>expiry</code> to <code>ownerOf</code>. So, we write a new smart contract and a new function to check ownership. Cause we can‚Äôt override a function of a different contract. We‚Äôve a new function which can have same name even. But for the sake of sanity, let‚Äôs use a different name, <code>newOwner()</code> and it looks something like:</p>\n<pre class=\"language-solidity\"><code class=\"language-solidity\"><br><br><span class=\"token keyword\">contract</span> <span class=\"token class-name\">RentContract</span> <span class=\"token punctuation\">{</span><br>    <span class=\"token keyword\">struct</span> <span class=\"token class-name\">Owner</span> <span class=\"token punctuation\">{</span> <br>       <span class=\"token builtin\">address</span> account<span class=\"token punctuation\">;</span><br>       <span class=\"token builtin\">uint256</span> expiry<span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br>    <span class=\"token keyword\">mapping</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint256</span> <span class=\"token operator\">=></span> Owner<span class=\"token punctuation\">)</span> <span class=\"token keyword\">private</span> _ownership<span class=\"token punctuation\">;</span><br>    <br>    <span class=\"token keyword\">function</span> <span class=\"token function\">newOwner</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">uint256</span> tokenId<span class=\"token punctuation\">,</span> <span class=\"token builtin\">address</span> _to<span class=\"token punctuation\">,</span> <span class=\"token builtin\">uint256</span> _expiry<span class=\"token punctuation\">)</span> <span class=\"token keyword\">external</span> virtual <span class=\"token punctuation\">{</span><br>        _ownership<span class=\"token punctuation\">[</span>tokenId<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>account <span class=\"token operator\">=</span> _to<span class=\"token punctuation\">;</span><br>        _ownership<span class=\"token punctuation\">[</span>tokenId<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>expiry <span class=\"token operator\">=</span> _expiry<span class=\"token punctuation\">;</span><br>    <span class=\"token punctuation\">}</span><br>    <span class=\"token comment\">// ...</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>So, what‚Äôs happening here is overloading (<em>not really since we‚Äôre using a different name for the function. But from a standard perspective, let‚Äôs assume it‚Äôs the same</em>) which means we‚Äôve defined a second function and mapping to do the exact same thing which is already been done in previous contract where it‚Äôs been imported from. This obviously is a waste of memory on-chain but let‚Äôs leave that concern for later. So, now, we‚Äôve a second contract, <code>RentContract</code> which has temporary ownership function which we can use. However, what about the client apps which is already pointed to the old contract? The token ownership does not show any changes regardless to whoever else it‚Äôs rented out via the <code>RentContract</code> .</p>\n<p><img src=\"/images/posts/a3be6cb7-aa15-476d-8a38-ae3f0221cc0b.png\" alt=\"\"></p>\n<h1 id=\"shared-state\" tabindex=\"-1\">Shared State</h1>\n<p>Here‚Äôs where the concept of Shared State comes in. Here‚Äôs to proposing a shared state system which allows to update the state of original contract if the same state is being dealt with on an extended contract.</p>\n<p><img src=\"/images/posts/bffb53f4-4995-4805-8594-7ba7ef188782.png\" alt=\"\"></p>\n<p>So, once this new system is in place, we should be able to reflect the updated state back to our original state thereby retaining backwards compatibility as well as history.</p>\n<p><img src=\"/images/posts/ed02d225-3be2-4736-8cf2-03d45f839c88.png\" alt=\"\"></p>\n<p>This is the next evolution in smart contract standards which will help with better backwards compatible DApps and protocols.</p>\n<p><em>LFG</em></p>\n",
      "date_published": "2024-04-26T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/cyberspace/",
      "url": "https://blog.anirudha.dev/cyberspace/",
      "title": "CyberSpace",
      "content_html": "<p><em>A world forgotten<br>\nAnother awoken<br>\nSome lost<br>\nSome regained</em></p>\n<p>Doesn‚Äôt it feel suffocating at times? Like your life isn‚Äôt your own anymore. Like everything you‚Äôre doing or about to do is pre-determined. Like you‚Äôve already lost before you began.</p>\n<p>It‚Äôs impossible to make a choice and call it really a choice. Society has decided your past, present, and future. The only way to break free is to dream.</p>\n<p><em>&quot;I have a dream‚Äù ‚Äì Martin Luther King</em></p>\n<p>Freedom doesn‚Äôt just have a physical form, but also a mental form. It‚Äôs increasingly important to not notice the extent to which the web of media and the internet has bound us to not be able to breathe without an ad popping up offering you a vacation package to clean air. It‚Äôs followed by a series of flight ads which specially shows the food you like and the beverage you love. If somehow it detects an inch of interest, you start getting spammed with holiday clothes and even things to do, of course heavily curated to your taste. It‚Äôs all great for you. You don‚Äôt even have to sit scrolling through search results or ask people around for such things. They already know. Convenience is the new chain to which we‚Äôre all bound in by.</p>\n<p>Ownership is of course important. But more than that, the creator within you is crying. Crying for not being able to build, do, go what, how and where you want to. Imagine a future version of the world, without any and all mundane tasks around. You just do the most needed work only. Everything else is done by something, someone, somewhere. You don‚Äôt care the how, what, or where, till your tasks are been taken care of. So, let‚Äôs imagine a future version of the web, that satisfies the above and more, and we call it The CyberSpace.</p>\n<p><img src=\"/images/posts/020e4091-9071-4746-b9c5-48f866372c86.png\" alt=\"\"></p>\n<p>CyberSpace is a trans-digital world built, governed, and maintained by the collective intelligence of its residents. It‚Äôs a space where everything is based on the rules you set. Loosely based on optimistic theory, CyberSpace is what you make of it. It‚Äôs not a new world or a virtual world like MetaVerse. CyberSpace is a space where your creations can take shape, form, and act according to how they are programmed.</p>\n<p>Not too different from our current world. We live in a universe governed by certain rules as well. So, what‚Äôs different? The difference is consciousness. The way we model CyberSpace is upto us.</p>\n<p>So, the Mission as it were to build towards such a Utopia. Together. I‚Äôm starting this as a mission for everything that I‚Äôll work on now on and till I see it come to reality.<br>\nIf you want to join me on my journey, reach out to me on <a href=\"https://twitter.com/kranirudha\">twitter</a> or <a href=\"https://fosstodon.org/@anirudha\">mastodon</a>. Let‚Äôs build and live in The CyberSpace.</p>\n",
      "date_published": "2023-12-31T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/building-a-new-world/",
      "url": "https://blog.anirudha.dev/building-a-new-world/",
      "title": "Building a New World",
      "content_html": "<p>When we think about building anything, the first thought is about the past builders, whichever industry, domain, or land you‚Äôre coming from. From the Roman Colosseum, Great Wall of China, and Taj Mahal of India to building Wikipedia, Reddit, and Google of today, we look up to the past great builders and wonder what it‚Äôd take to even come close to what they‚Äôve accomplished. Thinking about building a new World altogether sounds even more daunting. Specially, if you think about who, how, what, and so on the million other questions. In this article, we‚Äôll start by trying to figure out what and why and the how. Of course, it‚Äôs not going to be completely covered in one article alone. But, it can be a start.</p>\n<h1 id=\"introduction\" tabindex=\"-1\">Introduction</h1>\n<p>When we think about the end goal, it doesn‚Äôt really look a lot different from our current world. With the only differences being in the WHY of our endeavor. What do we want to be different from this world? The negativity, corruption, stealing, terrorism, war are some of the things that comes to mind. We don‚Äôt want them in our new world. but how do we get rid of them? That‚Äôs in the innate nature of any living being. Left alone in an environment of utter desperation, anybody would succumb to an inch of negativity leading to any number of things from there. How do we remove all need for desperation? Is that even the real answer? Perhaps not. but let‚Äôs start there.\nI love looking into the past to come on to face the future. Let‚Äôs think of what the animal kingdom looks like. There are enough natural resources for everyone to feed on. Someone at some point caught off by feeding on another species and thus came to start the very early carnivores. But even so, there‚Äôs enough for all the animals to form a healthy thriving ecosystem or the Circle of Life.\nWe often put all the demise of this planet to early humans who started capturing lands and fighting with each other to polluting the very land. Of course, that‚Äôs a different topic, but it does bring forth an important question. How do we prevent that in our new world?\nThe answer to me seems either too simple or I‚Äôm way off mark. Let‚Äôs see where we end up. We know in our heart what‚Äôs right. That might not be what others think, but we do believe in something. More often we end up agreeing with others than disagreeing. The smallest number of times we‚Äôve disagreed, it turns out to be a good tussle of learning something new.</p>\n<h1 id=\"collective-thinking\" tabindex=\"-1\">Collective Thinking</h1>\n<p>An interesting experiment done was on the collective thinking of the masses. We usually do not want to put faith in others, specially in the crowd, and for good reasons. but a lot of times it‚Äôs just because we can‚Äôt trust them. We fear that it‚Äôd be almost impossible to make anybody make see the way into your mind, your thought process, your likes, and dislikes and have them take a call on what‚Äôs done or to be done be right or wrong. Yes, I‚Äôm talking about a legal Jury here. Of course, you‚Äôve all been either seeing or are acquainted with any number of Law related TV series or Movies thereby, if not the real ones, more so lately.\nAn interesting experiment would be that the collective thinking of random strangers can somehow be almost always very right. There are obvious exceptions, but almost always they all point toward what‚Äôs right. How does that happen? Very curious indeed. Of course, you need to present them with all the facts to make a sound judgment. Make them see your way into the void and let them come back into the same tunnel that you once emerged out of. If they do, you were right. If they don‚Äôt, perhaps you‚Äôve deviated. It‚Äôs an interesting theory to test of what‚Äôs already passed. But what if we extend this mysterious power of consensus towards what‚Äôs about to happen. Let‚Äôs ask who everybody the same question and see what they all come up with. On the outside, it might seem like a very random experiment. Too open. Too many answers. Too many possibilities. Too much chaos. But once the dust settles, we‚Äôll find there‚Äôs at least 1 answer that more than 1 person has come up with. Very curious!!</p>\n<h2 id=\"a-big-brain\" tabindex=\"-1\">A Big Brain</h2>\n<p>Collective thinking doesn‚Äôt mean that we need to connect everyone‚Äôs brains with wires and they operate like a big brain. It means that the decisions taken by one can or has to be reciprocated by others to a point of executing it. The decision-making process can be time or resource intensive based on what the impact of it‚Äôs will be like. So, each consensus can be varied based upon the collective decision-making prowess of the society in its entirety.\nThis algorithm need not be perfect from the very beginning, but it needs to be ever-evolving according to the need of society and what‚Äôs on priority at the moment. Like evolving data, we need our decisions to evolve as well. A great example is music. 300 years earlier, give or take, pretty much everyone were just gasping over Bach and Mozart, amongst the other greats. 50 years earlier, it was the Bettles and Stones and Led Zep to capture all imagination. 20 years earlier, MJ, Nirvana and Chris Cornel and Pearl Jam. Today, it‚Äôs someone else. The music as a taste has changed. If you‚Äôre from any of the above generations, you‚Äôd relate to this. You might not understand of like at all the electronic music of today. Always finding some excuse to go back listening to some classic rock. Of course, if you‚Äôre from Mozart era and still alive, I‚Äôd be more curious to meet you even with a scared outlook of having my blood or brain dried out. (Just kidding) But of course, you get the idea.</p>\n<blockquote>\n<p>Any governing algorithm needs to be ever evolving.</p>\n</blockquote>\n<p>And that I believe is the first step towards building our new world‚Ä¶</p>\n<p>Stay tuned for more‚Ä¶</p>\n",
      "date_published": "2022-06-05T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/nfts-in-metaverse/",
      "url": "https://blog.anirudha.dev/nfts-in-metaverse/",
      "title": "NFTs in Metaverse",
      "content_html": "<p>We love NFTs. It‚Äôs pretty cool. But we need to look forward to the next step in the evolution of such artefacts. Fine, I‚Äôve a cap NFT or a car NFT. So what? What do I do next with it?</p>\n<p>The answer really is just staring at our face. METAVERSE. Not in the sense Facebook wants you to see it. But in a more useful way, the one image drawn from the OG, Neal Stephenson in his book from 1992, Snow Crash.</p>\n<p>A world open for everybody to create, build, run with no central authority. Nobody controlling you or pushing you to do one thing or the other. True freedom indeed! Must be nice. Feel like a pirate, aye? If you‚Äôre reading this by mid 2022, you are in fact well ahead of most of the human race in working on towards a true Metaverse. Let‚Äôs start with what we‚Äôve right now and then slowly move towards how it‚Äôs going to impact our world and our Metaverse.</p>\n<p>NFTs are non-fungible tokens which are usually tied to some asset, such as an art piece, a user profile, an avatar or a prize. What‚Äôs common amongst all of these are that the NFTs are almost always uniquely represented in a single point of truth universal network. Which means, my NFT can NOT be same as yours. I know you‚Äôre at this point thinking of 1155s. But even so, they‚Äôre collectively representing something unique. We can hold a handful of sand and start separating out the grains or just put them in a bag, and tag them as unique. Coming back to the topic, if we‚Äôve a unique hat as an NFT, then my NFT hat would be very different from yours. I can add some feather on the top or color it white or even tilt it a little to make it as unique as possible. Cause the more rare something is, the more valuable it gets, right? Similarly with any other object, such shirt, tee, trousers, gloves, shoes, and so on‚Ä¶</p>\n<p>So, let‚Äôs say now, each of us has a unique-looking shoe. We can put these to some use as well. Let‚Äôs say I add a condition that each time you enter my store in the Metaverse, your shoe will get cleaned if you buy something from my store. By clean, any previous data diluting its value will be deleted or overridden in some way, since the data we‚Äôre working with is pretty much immutable. That‚Äôd be pretty cool for you to come purchase a cheesecake from my bakery. Ah, you also get some health tokens for it. Which later you can exchange at the hospital for some avatar upgradation.</p>\n<p>I think you get the general idea of it. Every activity has an equally incentivized criteria to it. Compelling every user to participate and work for it. It‚Äôs what‚Äôs building the proof of work within our digital paradigm.</p>\n<p>I‚Äôll be working next on building such a world, a truly free world. If you‚Äôre interested in building together, get in touch with me. Help me help us get there‚Ä¶</p>\n<p>Until next time‚Ä¶</p>\n",
      "date_published": "2022-04-17T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/what-is-nft/",
      "url": "https://blog.anirudha.dev/what-is-nft/",
      "title": "What is NFT?",
      "content_html": "<p>NFT or Non-Fungible Token, is the latest in the long line of jargon that you might be hearing a lot about recently. So, why should you care and what is it even? Let‚Äôs try to understand the origin and thereby the hype around it.</p>\n<p>A digital token is just another piece of a smart contract code that‚Äôs running somewhere on a particular blockchain. When cryptocurrency came out and everybody started issuing their tokens, we saw a meteoric rise to Digital Tokens or CryptoCurrencies in the form of ICOs (Initial Coin Offerings) that every other project was really into at the time. Most used CryptoCurrencies came on the more popular decentralised networks like Ethereum, in the form of ERC-20s. This gave a widespread knowledge around what cryptocurrencies are and ERC-20 became a common term to be used in analogous to digital tokens wherever specified. However, several improvements on specific use-cases kept happening over time. These improvements are usually referred to as <a href=\"https://eips.ethereum.org/erc\">EIPs(Ethereum Improvement Proposals)</a>.</p>\n<p>One of the most sought after use-cases was ERC-721 or deeds or as more commonly known as Non-Fungible Tokens.\nNFTs can represent ownership over digital or physical assets. It‚Äôs obviously not a new concept. It‚Äôs been around since 2014.\n<img src=\"/images/posts/6WOxWB5eG.png\" alt=\"NFT_Icon.png\"></p>\n<ul>\n<li>Physical property ‚Äî houses, unique artwork</li>\n<li>Virtual collectables ‚Äî unique pictures of kittens, collectable cards</li>\n<li>‚ÄúNegative value‚Äù assets ‚Äî loans, burdens, and other responsibilities\nIn general, all houses are distinct and no two kittens are alike. NFTs are distinguishable and you must track the ownership of each one separately.</li>\n</ul>\n<p>This by itself doesn‚Äôt really mean much but when you really think about it, we already have an extremely large scale demand for such unique items. From collectible cards, items, and luxury antiques, our lives revolve around uniqueness. The more unique an item, the more valuable it becomes. It‚Äôs the very core of how our economics work and how every valuable item is identified. Now, with ERC-721, we got a way to represent it online and have a very simple way to buy and sell such assets.\nOf course, it comes with its own set of problems like enormous gas fees which one has to pay for networks like Ethereum. Makes it almost impossible to acquire one or more of these very special NFTs for normal people. The NFT market value tripled in 2020, reaching more than $250 million. During the first quarter of 2021, NFT sales exceeded $2 billion. Plagiarism is another big concern where a true digital identity solution can very well fix it. We‚Äôll take all the issues and possible solutions in perhaps a separate post of its own. I feel it deserves a more in-depth analysis.</p>\n<p><img src=\"/images/posts/QQ8otuHyl.png\" alt=\"Banner_NFT-marketplace.png\"></p>\n<h2 id=\"marketplaces\" tabindex=\"-1\">Marketplaces</h2>\n<h4 id=\"opensea\" tabindex=\"-1\"><a href=\"https://opensea.io/\">OpenSea</a></h4>\n<p>As one of the most commonly referred NFT marketplaces, OpenSea has established it‚Äôs dominance in the space. You can practically buy or sell any type of NFT here. The process is as simplified as it can be.</p>\n<h4 id=\"binance-nft\" tabindex=\"-1\"><a href=\"https://www.binance.com/en/nft/home\">Binance NFT</a></h4>\n<p>Binance NFT Marketplace brings together artists, creators, and crypto enthusiasts on a single platform to create and trade top NFTs. The platform features 3 product lines:</p>\n<ul>\n<li>Events: Buy premium and exclusive NFTs created by global leading artists</li>\n<li>Marketplace: Mint, purchase, and bid on NFTs from creators around the world</li>\n<li>Mystery Box: Stand a chance to win rare NFTs in a box full of surprises</li>\n</ul>\n<h4 id=\"crypto.com-nft\" tabindex=\"-1\"><a href=\"https://crypto.com/nft/marketplace\">Crypto.com NFT</a></h4>\n<h4 id=\"rarible\" tabindex=\"-1\"><a href=\"https://rarible.com/\">Rarible</a></h4>\n<h4 id=\"foundation\" tabindex=\"-1\"><a href=\"https://foundation.app/\">Foundation</a></h4>\n<h4 id=\"superrare\" tabindex=\"-1\"><a href=\"https://superrare.com/\">SuperRare</a></h4>\n<h4 id=\"atomic-market\" tabindex=\"-1\"><a href=\"https://wax.atomicmarket.io/\">Atomic Market</a></h4>\n<h4 id=\"myth-market\" tabindex=\"-1\"><a href=\"https://myth.market/\">Myth Market</a></h4>\n<h4 id=\"bakeryswap\" tabindex=\"-1\"><a href=\"https://www.bakeryswap.org/#/home\">BakerySwap</a></h4>\n<h4 id=\"axie-marketplace\" tabindex=\"-1\"><a href=\"https://axieinfinity.com/\">Axie Marketplace</a></h4>\n<h4 id=\"knownorigin\" tabindex=\"-1\"><a href=\"https://knownorigin.io/\">KnownOrigin</a></h4>\n<h4 id=\"makersplace\" tabindex=\"-1\"><a href=\"https://makersplace.com/\">MakersPlace</a></h4>\n<h4 id=\"solana-art\" tabindex=\"-1\"><a href=\"https://solanart.io/\">Solana Art</a></h4>\n<h4 id=\"nba-top-shot\" tabindex=\"-1\"><a href=\"https://nbatopshot.com/\">NBA Top Shot</a></h4>\n<h4 id=\"async-art\" tabindex=\"-1\"><a href=\"https://async.art/\">Async Art</a></h4>\n<h4 id=\"portion\" tabindex=\"-1\"><a href=\"https://portion.io/\">Portion</a></h4>\n<h4 id=\"enjin-marketplace\" tabindex=\"-1\"><a href=\"https://enjin.io/products/marketplace\">Enjin Marketplace</a></h4>\n<h4 id=\"bakeryswap-1\" tabindex=\"-1\"><a href=\"https://www.bakeryswap.org/#/home\">BakerySwap</a></h4>\n<p>Even traditional art giants like <a href=\"https://www.christies.com/\">Christies</a> are setting up shop around it can step into the modern age.</p>\n<h2 id=\"variations\" tabindex=\"-1\">Variations</h2>\n<p>Over time, some variations of ERC-721 have emerged as well.</p>\n<ul>\n<li>ERC-1155 which offers semi-fungibility and works over a class of assets instead of particular assets.</li>\n<li>FLOW blockchain provides proof-of-stake consensus. Mostly used by NBA Top Shot.</li>\n<li>Tezos also works on a proof-of-stake based NFT.</li>\n<li>Solana has also started supporting NFTs.</li>\n</ul>\n<h2 id=\"create-your-own-nft\" tabindex=\"-1\">Create your own NFT</h2>\n<p>A simpler way is to start using one or the platform above mentioned and get started with it. If you want to create your own marketplace or product as such, there‚Äôs always a way to do so.</p>\n<ol>\n<li>Select a DLT network on which you‚Äôd like to issue the NFTs on. Preferably one with less transaction fee.</li>\n<li>Write an NFT smart contract or equivalent in that particular network. Here‚Äôs a good getting started point are in <a href=\"https://docs.openzeppelin.com/contracts/2.x/api/token/erc721\">OpenZepplin Docs</a>.</li>\n<li>Make sure there‚Äôs an easy interface because mind you, most of your users are really just everyday Joes who just want to purchase as an investment strategy.</li>\n</ol>\n<h2 id=\"so%2C-what-all-can-you-use-nfts-for%3F\" tabindex=\"-1\">So, what all can you use NFTs for?</h2>\n<ul>\n<li>Art</li>\n<li>GIFs</li>\n<li>Videos and sports highlights</li>\n<li>Collectibles</li>\n<li>Virtual avatars and video game skins</li>\n<li>Designer sneakers</li>\n<li>Music</li>\n<li>Tweets</li>\n<li>Github Commits</li>\n</ul>\n<p>Of course, be wary of where you‚Äôre buying these NFTs from. Are they authorised sources or someone broker marketplace who‚Äôs just selling via some other marketplace? Are they really the owner or authorised seller of the items. Are they backed by a reputable organisation or foundation? Which blockchain or DLT platform are they using and how much transaction fee is that purchase going to cost you? Also, make sure you‚Äôre aware of your country or state‚Äôs legalities and taxation procedures. NFTs are also subject to capital gain tax such as any stock you might own.</p>\n",
      "date_published": "2021-09-27T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/to-go-with-golang/",
      "url": "https://blog.anirudha.dev/to-go-with-golang/",
      "title": "To Go with Golang",
      "content_html": "<blockquote>\n<p>Go is an open source programming language that makes it easy to build simple, reliable, and efficient software.</p>\n</blockquote>\n<p>At least that‚Äôs how the website describes itself.\nThe first time I tried golang was about 3 years ago as a hobby project. However lack of an implementation need and a busy work schedule made my side project obsolete. Of course, you would know what that feels like. Familiar territory. So, when the opportunity rose to write a new service in golang, I absolutely jumped at it.</p>\n<p>I‚Äôm supposed to build a small web service accepting http connection and storing some data on mongodb. Returns a certain set of result, and so on. Basic CRUD stuff. If you‚Äôre not interested in #webdev, I believe this is your stop. If you‚Äôre interested however, read on to know about what I used and why. The entire dev cycle from dev to deploy phase.</p>\n<p>First of all, why I opted for golang anyway? The service I‚Äôm supposed to write needs a highly concurrent persistent api service. It needs to be fast and also easily scalable. We could have gone with python fastapi, but at this stage I just wanted to learn golang.</p>\n<h3 id=\"setting-up-golang\" tabindex=\"-1\">Setting up Golang</h3>\n<p>If you‚Äôve finally decided to go ahead with this, let‚Äôs do this.\nEasiest way probably is to just <a href=\"https://golang.org/doc/install\">download from the official website</a> and get going.\n<a href=\"https://medium.com/golang-learn/quick-go-setup-guide-on-mac-os-x-956b327222b8\">Here</a>‚Äôs another article which very nicely explains the setup process. This is ideally for mac OS. In case you‚Äôre looking for other OSes, please follow respective guides.</p>\n<p>Be sure to setup your GOPATH very properly as this will remain as your common ground for any defined packages installed in your system.</p>\n<p>Once done, make sure your console recognises the GOPATH.\n<code>echo $GOPATH</code></p>\n<h3 id=\"http-service\" tabindex=\"-1\">HTTP Service</h3>\n<p>I went with <a href=\"https://github.com/valyala/fasthttp\">fasthttp</a>, which provides high performance, zero memory allocations in hot paths and Up to 10x faster than net/http for a large throughput service. Go provides out of the box http support but for a beginner, it felt much easier to go with a framework, thereby ended up using fiber.</p>\n<h3 id=\"api\" tabindex=\"-1\">API</h3>\n<p><a href=\"https://github.com/gofiber/fiber\">Fiber</a> is an Express inspired web framework built on top of Fasthttp, the fastest HTTP engine for Go.\nMake sure to use Fiber v2. Fiber V2 has a lot of breaking changes to Fiber v1. I had to spend an extra hour just upgrading these <a href=\"https://github.com/gofiber/fiber/issues/736\">breaking changes</a> cause I started with v1.</p>\n<p>A simple fiber service can be started using just this:</p>\n<pre class=\"language-go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main<br><br><span class=\"token keyword\">import</span> <span class=\"token string\">\"github.com/gofiber/fiber/v2\"</span><br><br><span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    app <span class=\"token operator\">:=</span> fiber<span class=\"token punctuation\">.</span><span class=\"token function\">New</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br><br>    app<span class=\"token punctuation\">.</span><span class=\"token function\">Get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">func</span><span class=\"token punctuation\">(</span>c <span class=\"token operator\">*</span>fiber<span class=\"token punctuation\">.</span>Ctx<span class=\"token punctuation\">)</span> <span class=\"token builtin\">error</span> <span class=\"token punctuation\">{</span><br>        <span class=\"token keyword\">return</span> c<span class=\"token punctuation\">.</span><span class=\"token function\">SendString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello, World üëã!\"</span><span class=\"token punctuation\">)</span><br>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><br><br>    app<span class=\"token punctuation\">.</span><span class=\"token function\">Listen</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":3000\"</span><span class=\"token punctuation\">)</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>You now have a live server running at your <a href=\"http://localhost:3000\">http://localhost:3000</a>.</p>\n<h3 id=\"connect-to-a-database\" tabindex=\"-1\">Connect to a DataBase</h3>\n<p>Next, we need our web service to talk to our web-service. There are quite a few ODM(Object Document Mapper) out there. But given my initial requirement was pretty straightforward, I went the default <a href=\"https://github.com/mongodb/mongo-go-driver\">mongodb golang driver</a>.\nIt‚Äôs pretty straightforward to connect an mongodb client:</p>\n<pre class=\"language-go\"><code class=\"language-go\">client<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> mongo<span class=\"token punctuation\">.</span><span class=\"token function\">Connect</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">.</span><span class=\"token function\">Client</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ApplyURI</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"mongodb://localhost:27017\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<p>So, now we got an active db connection going.\nIdeally, that‚Äôs all we would need to create the smallest possible POC(Proof Of Concept) of any web-service you can think of.\nObviously, do go through the proper documentation as there are many pitfalls at every stage. Might as well address a few of those on a separate post.</p>\n<p>However, to make a production level POC, we need a few more stuff. So, let‚Äôs discover a few add-ons to our service:</p>\n<h3 id=\"logging\" tabindex=\"-1\">Logging</h3>\n<p>Logging is one of the most important aspects in any programming. To see what‚Äôs working and where has been the crux of any development really. We sometimes debug using our logs. Specially in production.\nThe easiest and in-built way of printing/logging can be done using <a href=\"https://golang.org/pkg/fmt/\">fmt</a> or <a href=\"https://golang.org/pkg/log/\">log</a> packages.\nA small example:</p>\n<pre class=\"language-go\"><code class=\"language-go\">fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Printing with fmt\"</span><span class=\"token punctuation\">)</span><br><br>buf    bytes<span class=\"token punctuation\">.</span>Buffer<br>logger <span class=\"token operator\">=</span> log<span class=\"token punctuation\">.</span><span class=\"token function\">New</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>buf<span class=\"token punctuation\">,</span> <span class=\"token string\">\"logger: \"</span><span class=\"token punctuation\">,</span> log<span class=\"token punctuation\">.</span>Lshortfile<span class=\"token punctuation\">)</span><br>logger<span class=\"token punctuation\">.</span><span class=\"token function\">Printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Logging with log\"</span><span class=\"token punctuation\">)</span></code></pre>\n<p>The use log is highly encouraged as compared to fmt. Log is thread safe where as fmt is not. A Logger can be used simultaneously from multiple goroutines; it guarantees to serialize access to the Writer.</p>\n<pre class=\"language-go\"><code class=\"language-go\">log<span class=\"token punctuation\">.</span><span class=\"token function\">Fatalf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Fatal err happened:\"</span><span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">)</span></code></pre>\n<p>You can also add fatal logs if in case you would want to flag certain types of logs which might be critical to the application.</p>\n<p>Some added advantages of using Fiber is it‚Äôs logging module. If you‚Äôre on v1, you would need to install the <a href=\"https://github.com/gofiber/logger\">logger package</a> separately, but in v2 it has been made available within v2 itself: <code>&quot;github.com/gofiber/fiber/v2/middleware/logger&quot;</code>.</p>\n<p>If you need to log each request as and when it comes in, you can add something like this:</p>\n<pre class=\"language-go\"><code class=\"language-go\">app<span class=\"token punctuation\">.</span><span class=\"token function\">Use</span><span class=\"token punctuation\">(</span>requestid<span class=\"token punctuation\">.</span><span class=\"token function\">New</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><br><br>‚Äãapp‚Äã<span class=\"token punctuation\">.</span>‚ÄãUse‚Äã<span class=\"token punctuation\">(</span>‚Äãlogger‚Äã<span class=\"token punctuation\">.</span>‚ÄãNew‚Äã<span class=\"token punctuation\">(</span>logger<span class=\"token punctuation\">.</span>‚ÄãConfig‚Äã<span class=\"token punctuation\">{</span><br>\t<span class=\"token comment\">// For more options, see the Config section</span><br>  Format‚Äã<span class=\"token punctuation\">:</span> <span class=\"token string\">\"${pid} ${locals:requestid} ${status} - ${method} ${path}‚Äã\\n‚Äã\"</span>‚Äã<span class=\"token punctuation\">,</span><br><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></code></pre>\n<p>Now, each route visited will come up on your console.</p>\n<h3 id=\"hot-reloading\" tabindex=\"-1\">Hot Reloading</h3>\n<p>Golang is a compiled language, which means unlike Python or NodeJS which are interpreted languages, we need to build it everytime we would want to run it.\nIdeally we build the project as such: <code>go build .</code>\nAnd then we run it like: <code>./app-name</code>.</p>\n<p>However, we can still run the dev version as: <code>go run main.go</code>\nOr if there‚Äôs more than one file: <code>go run *.go</code></p>\n<p>But while development process, we often make changes and would want to check the output without having to restart the go server manually.\nYou can obviously write your own small shell script to detect any file changes on the entire directory and restart <code>go run</code> everytime.\nIf you‚Äôre using docker, you can also write the entire <code>go build .</code> and <code>./app-name</code> process inside the container.</p>\n<p>Needed a more robust way, which is provided by this package called fresh.\n<a href=\"https://github.com/gravityblast/fresh\">Fresh</a> is a command line tool that builds and (re)starts your web application everytime you save a Go or template file.\nYou can also customise the log color that comes with the default fresh setup. It requires a default <code>runner.conf</code> file. If you want to go with the default options, you don‚Äôt even need this file on your project root.</p>\n<pre class=\"language-sh\"><code class=\"language-sh\">root:              <span class=\"token builtin class-name\">.</span><br>tmp_path:          ./tmp<br>build_name:        runner-build<br>build_log:         runner-build-errors.log<br>valid_ext:         .go, .tpl, .tmpl, .html<br>no_rebuild_ext:    .tpl, .tmpl, .html<br>ignored:           assets, tmp<br>build_delay:       <span class=\"token number\">600</span><br>colors:            <span class=\"token number\">1</span><br>log_color_main:    cyan<br>log_color_build:   yellow<br>log_color_runner:  green<br>log_color_watcher: magenta<br>log_color_app:     blue</code></pre>\n<p>Now we‚Äôve a complete dev setup done and dusted.</p>\n<h3 id=\"routing\" tabindex=\"-1\">Routing</h3>\n<p>I‚Äôm obsessed with structured code. Everything can be written in a single file and ran but a structured codebase, makes it all the more easier to document, read and later manage it.\nThereby, routing is a crucial part of adopting a new framework.\nFiber comes with inbuilt route grouping</p>\n<pre class=\"language-go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><br>    app <span class=\"token operator\">:=</span> fiber<span class=\"token punctuation\">.</span><span class=\"token function\">New</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><br><br>    api <span class=\"token operator\">:=</span> app<span class=\"token punctuation\">.</span><span class=\"token function\">Group</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/api\"</span><span class=\"token punctuation\">,</span> middleware<span class=\"token punctuation\">)</span> <span class=\"token comment\">// /api</span><br><br>    v1 <span class=\"token operator\">:=</span> api<span class=\"token punctuation\">.</span><span class=\"token function\">Group</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/v1\"</span><span class=\"token punctuation\">,</span> middleware<span class=\"token punctuation\">)</span>   <span class=\"token comment\">// /api/v1</span><br>    v1<span class=\"token punctuation\">.</span><span class=\"token function\">Get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/list\"</span><span class=\"token punctuation\">,</span> handler<span class=\"token punctuation\">)</span>             <span class=\"token comment\">// /api/v1/list</span><br>    v1<span class=\"token punctuation\">.</span><span class=\"token function\">Get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/user\"</span><span class=\"token punctuation\">,</span> handler<span class=\"token punctuation\">)</span>             <span class=\"token comment\">// /api/v1/user</span><br><br>    v2 <span class=\"token operator\">:=</span> api<span class=\"token punctuation\">.</span><span class=\"token function\">Group</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/v2\"</span><span class=\"token punctuation\">,</span> middleware<span class=\"token punctuation\">)</span>   <span class=\"token comment\">// /api/v2</span><br>    v2<span class=\"token punctuation\">.</span><span class=\"token function\">Get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/list\"</span><span class=\"token punctuation\">,</span> handler<span class=\"token punctuation\">)</span>             <span class=\"token comment\">// /api/v2/list</span><br>    v2<span class=\"token punctuation\">.</span><span class=\"token function\">Get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/user\"</span><span class=\"token punctuation\">,</span> handler<span class=\"token punctuation\">)</span>             <span class=\"token comment\">// /api/v2/user</span><br><br>    app<span class=\"token punctuation\">.</span><span class=\"token function\">Listen</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":3000\"</span><span class=\"token punctuation\">)</span><br><span class=\"token punctuation\">}</span></code></pre>\n<p>This can help you in writing a more structured app as such you might need to authenticate only a particular group or log a particular route and so on.</p>\n<h3 id=\"deployment\" tabindex=\"-1\">Deployment</h3>\n<p>Probably best to go with a containerised deployment. We have deployed on <a href=\"https://cloud.google.com/kubernetes-engine\">Kubernetes - Google Kubernetes Engine (GKE)</a> which only needs an additional <code>Dockerfile</code>.</p>\n<p>It‚Äôs better to go with a multi-stage docker setup:</p>\n<pre class=\"language-dockerfile\"><code class=\"language-dockerfile\"><span class=\"token instruction\"><span class=\"token keyword\">FROM</span> golang:1.12-alpine <span class=\"token keyword\">AS</span> build_base</span><br><br><span class=\"token instruction\"><span class=\"token keyword\">RUN</span> apk add --no-cache git</span><br><br><span class=\"token comment\"># Set the Current Working Directory inside the container</span><br><span class=\"token instruction\"><span class=\"token keyword\">WORKDIR</span> /tmp/go-sample-app</span><br><br><span class=\"token comment\"># We want to populate the module cache based on the go.{mod,sum} files.</span><br><span class=\"token instruction\"><span class=\"token keyword\">COPY</span> go.mod .</span><br><span class=\"token instruction\"><span class=\"token keyword\">COPY</span> go.sum .</span><br><br><span class=\"token instruction\"><span class=\"token keyword\">RUN</span> go mod download</span><br><br><span class=\"token instruction\"><span class=\"token keyword\">COPY</span> . .</span><br><br><span class=\"token comment\"># Unit tests</span><br><span class=\"token instruction\"><span class=\"token keyword\">RUN</span> CGO_ENABLED=0 go test -v</span><br><br><span class=\"token comment\"># Build the Go app</span><br><span class=\"token instruction\"><span class=\"token keyword\">RUN</span> go build -o ./out/go-sample-app .</span><br><br><span class=\"token comment\"># Start fresh from a smaller image</span><br><span class=\"token instruction\"><span class=\"token keyword\">FROM</span> alpine:3.9</span><br><span class=\"token instruction\"><span class=\"token keyword\">RUN</span> apk add ca-certificates</span><br><br><span class=\"token instruction\"><span class=\"token keyword\">COPY</span> <span class=\"token options\"><span class=\"token property\">--from</span><span class=\"token punctuation\">=</span><span class=\"token string\">build_base</span></span> /tmp/go-sample-app/out/go-sample-app /app/go-sample-app</span><br><br><span class=\"token comment\"># This container exposes port 8080 to the outside world</span><br><span class=\"token instruction\"><span class=\"token keyword\">EXPOSE</span> 8080</span><br><br><span class=\"token comment\"># Run the binary program produced by `go install`</span><br><span class=\"token instruction\"><span class=\"token keyword\">CMD</span> [<span class=\"token string\">\"/app/go-sample-app\"</span>]</span></code></pre>\n<p>A complete guide on dockerising your golang app can be found <a href=\"https://codefresh.io/docs/docs/learn-by-example/golang/golang-hello-world/\">here</a> and <a href=\"https://www.docker.com/blog/containerize-your-go-developer-environment-part-1/\">here</a>.</p>\n<p>With this we‚Äôve now a deployed version of our golang app. Connect that gke ip to your preferred DNS provider and share the link. Feel free to leave a link of you first golang app in the comments. Would love to see what everyone is working on.</p>\n<p>If you have a different view on some of the stack used or talked here, feel free to add your thoughts. We‚Äôre all learning and would love to see the more popular frameworks and best practices in use.</p>\n<p>Cheers and until next time‚Ä¶</p>\n",
      "date_published": "2021-01-26T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/the-code-of-libraries/",
      "url": "https://blog.anirudha.dev/the-code-of-libraries/",
      "title": "The Code of Libraries",
      "content_html": "<p>How many times have you found yourself in the middle of your project, had to stop and switch to a different library, all because it didn‚Äôt support a simple feature? How many of those times you wondered if you knew which library to use to get going? You did nothing wrong. You chose the first result that came up on google or your package manager‚Äôs recommended website. It obviously showed a very download rate and popular usage. But even so, more times than less, we tend to miss a key factor or two which can lead us to go back and check out a different package. Sometimes it leads you to lose interest in the working project, or find yourself trying to fix the library which might increase your development time.</p>\n<p>It really is frustrating at times, isn‚Äôt it? Considering being in a similar situation more times than I would care to admit, I tried to devise a few guidelines to follow while selecting the right library to use, which let‚Äôs call as <em>The Code of Libraries</em>.</p>\n<h2 id=\"source-code\" tabindex=\"-1\">Source Code</h2>\n<p>This should be pretty obvious. Find that source code of your library and go through the code. No need to get overwhelmed and no need to obviously go through the entire source code. Just enough to make to sure that there‚Äôs at least some code written on it. It might just be a fully updated package every few months and has no code whatsoever written inside. Even better if the library has tests written which you can run preferably in interactive or verbose mode to go through the output as it happens.</p>\n<h2 id=\"stars%2Fforks%2Fwatchers\" tabindex=\"-1\">Stars/Forks/Watchers</h2>\n<p><img src=\"https://i.imgur.com/pgEFiOz.png\" alt=\"Github Watchers, Stars, Forks\" title=\"Github Watchers, Stars, Forks\"></p>\n<p>A quick look at the stars any project has got can provide a good idea of the popularity and validation for the project. Forks would showcase of how many people are interested in contributing or working on the project, which would also mean it‚Äôll be that easier to get support for the project.</p>\n<h2 id=\"version\" tabindex=\"-1\">Version</h2>\n<p>Trust in experience. Always take into consideration going for libraries with releases before their own v1.0.0. They‚Äôre probably still testing it out themselves. Obviously, they would put up a flag on their readme file as to Under Development or something similar, but they also might not have. So, it‚Äôs obviously upto you to cross-check. Make sure to also check previous versions. It might so happen that someone‚Äôs first release is starting from v1.0.0. On the other hand check the versions previous to it. A very good possibility that on every spelling fix, the maintainers were pushing a separate release and now the poor library is left with v24.12.142 and really it‚Äôs just printing Hello World on the console.</p>\n<h2 id=\"downloads\" tabindex=\"-1\">Downloads</h2>\n<p><img src=\"https://i.imgur.com/OVniMSO.png\" alt=\"Downloads\" title=\"Downloads\">\nPretty obvious when you think about it. Always check the number of downloads the library is getting on a weekly or monthly basis. Often times than more, the libraries get downloaded by thousands of mirroring bots to private data centres for analysis and storage. So, although most of those numbers might be way higher than actual users downloading that particular library. But also the mirroring bots are active more frequent on the more user downloaded libraries.\n<img src=\"https://i.imgur.com/gge1ydG.png\" alt=\"Download count\" title=\"Download count\"></p>\n<h2 id=\"used-by\" tabindex=\"-1\">Used By</h2>\n<p><img src=\"https://i.imgur.com/KPomAcb.png\" alt=\"Used By\" title=\"Used By\"></p>\n<p>This is one of the best features Github rolled up recently. Touchdown Github! This particular feature provides a pretty comprehensive list on how many people are using the project. Check out the dependants of python flask project. If the codebase is on GitHub, definitely this adds more credibility to the project than anything else. To be sure, just browse through randomly some of those projects to get an idea what they are being used for and how‚Äôs their work going along. It might so happen that the library was popular before and used a lot by a lot of projects but now not so much, due to either a better updated library available or the technology itself being outdated.</p>\n<h2 id=\"last-updated\" tabindex=\"-1\">Last Updated</h2>\n<p>Find the repo link. Check for when the last push to the codebase was. It‚Äôs a statistically safe bet if the library had code pushes in anywhere within last 2‚Äì4 months. Anything more than 6 months is not to be trusted. Specially for languages like nodejs and gaoling where the language releases are very often within months. For languages which doesn‚Äôt have that fast releases like python or ruby, upto 6 months still is okay. We‚Äôve used packages from 3 years ago and still works great. And also packages that went on update last month is still some vulnerable dependencies.\n<img src=\"https://i.imgur.com/gnrQN7Q.png\" alt=\"Contributions Graph\" title=\"Contributions Graph\"></p>\n<h2 id=\"release-cycle\" tabindex=\"-1\">Release Cycle</h2>\n<p>Alongside last updated, release cycles are very important. You might find this a vague criteria, but for packages which are being released every week, if they suddenly stop releases, it‚Äôs either the maintainers have dumped this project or have some issues that they can‚Äôt fix yet. An instance might be when last updated date is 3 months ago but it used to have steady releases every week. By their own timeline, they would have missed close to 14 cycles. That never looks good. Trust us.</p>\n<h2 id=\"issue%2Fbug-list\" tabindex=\"-1\">Issue/Bug List</h2>\n<p><img src=\"https://i.imgur.com/49fKg3S.png\" alt=\"Issue Page\" title=\"Issue Page\">\nA very important criteria to meet is to check for open issues on the repo. And if any of those issues are very old pending. Look more closely as to when were last updated in comments as such. Also, if there‚Äôs any critical bug pending in open issues. Sometimes this might be a make or break moment. A package might be not maintained as much but the maintainers might still be answering questions on issues raised and closing them or redirecting to another working library. While you‚Äôre at it, take a quick peek on closed issues as well to make sure the project maintainers aren‚Äôt just closing issues so they won‚Äôt stay on the open issues and make themselves look bad.</p>\n<h2 id=\"dependencies\" tabindex=\"-1\">Dependencies</h2>\n<p><img src=\"https://i.imgur.com/VYboD2e.png\" alt=\"Dependencies\" title=\"Dependencies\">\nCheck the codebase and go through it thoroughly for all dependency that your desired package is facing up. Even better if the project has integrated code coverage, dependency checker or other such tools. They‚Äôre free to use and you should definitely use them to your advantage. Your library might be very well maintained but some dependency that it‚Äôs relying on might have been outdated and not-maintained anymore. It‚Äôs a big disaster in that case. Switch to some other library immediately.</p>\n<h2 id=\"community-response\" tabindex=\"-1\">Community Response</h2>\n<p>Finally, check for the official communitcation channel or q/a forums used by the respective community. It might be on irc, gitter, slack, discord, rocketchat or some equivalent communication channel but this will give a great idea of the typeof discussions happening at the project level and if the project is inherently active.\n<img src=\"https://i.imgur.com/vcbWuIG.jpg\" alt=\"Community Support\" title=\"Community Support\"></p>\n<p>So, there you have it. Now, repeat: <em>I solemly swear to abide by <strong>The Code of Libraries</strong> for my all future projects.</em></p>\n<h2 id=\"some-popular-tools\" tabindex=\"-1\">Some Popular Tools</h2>\n<p>The Ruby community came up with an online tool to compare projects called <a href=\"https://www.ruby-toolbox.com/\">Ruby Toolbox</a>. It‚Äôs brilliant and provides a pretty comprehensive comparision to make your job easier.\n<img src=\"https://i.imgur.com/3cG2Z03.png\" alt=\"Ruby Toolbox\" title=\"Ruby Toolbox\"></p>\n<p><a href=\"https://libraries.io/\">Libraries.io</a> helps you find new open source packages, modules and frameworks and keep track of ones you depend upon.\n<img src=\"https://i.imgur.com/Ssgf2Q1.png\" alt=\"Libraries.io\" title=\"Libraries.io\"></p>\n<p>Now, sometimes even after following Polyglot‚Äôs Code of the Libraries, you might get stuck into such scenarios where you need to take care of a dependency of a dependency of your project. You might imagine yourself spending too much time fixing up the library. Polyglot is a community of developers driving an open source software agency to help you get out of such a mess. Get in touch with Polyglot Network at <a href=\"mailto:team@polyglot.network\">team@polyglot.network</a> and let them take care of that open source library for you.</p>\n",
      "date_published": "2020-08-04T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/data-currency-and-technology/",
      "url": "https://blog.anirudha.dev/data-currency-and-technology/",
      "title": "Data Currency and Technology",
      "content_html": "<p>Three words that is in everything and everywhere. The very essence of an object, be it physical or digital is encompassed within the realms of these 3 words. However, there is such distinction amongst the words that we often do not relate to them as the one single entity or even closely linked to each other. Today, we‚Äôll try to find out if that‚Äôs true.</p>\n<p>A most widely generic definition can be:</p>\n<blockquote>\n<p>Any piece of information, however small or intricate, vague or clear, story or not, if given a proper structure and category that be meaningful in one way or other to oneself, can be termed as data.</p>\n</blockquote>\n<p>So, in a way any piece of information can be termed as data. Interesting! I never knew that me, eating an apple instead of banana can be a meaningful piece of information to be classified as data. But it actually is. To the right person, in the right hands, any piece of information that they can monetise on is actually data. How, do you ask? Well, if an apple selling store knew about this, they would know that I prefer apple over banana and they would then try to sell more apples or other product of apples, perhaps Apple Juice or something. On the contrary if a banana store came around it, they would probably ask me what‚Äôs wrong and try to fix it so as to not lose a potential customer.</p>\n<p>Of course, for as small a data set as a single person, nobody would bother. But say that data isn‚Äôt just of mine. It‚Äôs of thousands of people in the same neighbourhood. Then, it might catch their eye and they would react. Cause then they would need this data to get their business running. And they would be willing to pay to get such data. Maybe pay 1% of their rest 99% in profit from targeted marketing and sales. Believe me, it is already a thing. Which links to my next point: Currency.</p>\n<p>Who doesn‚Äôt know what currency is? But do we really understand it? We take a dollar or rupee bill, and think it holds some value when actually, it doesn‚Äôt. If it‚Äôs unregistered, somewhere or other it‚Äôs not a legal form of currency note. Some bank or institution has to maintain a clear ledger of data as to where that particular note went through to reach your hands. If they do, that note is valid. Otherwise, it becomes something we term as black money and liable to get yourself a heavy charge for carrying illegal money. But, banking ledgers being controlled at a particular location or set defined books became easy to access or manipulate. One could copy all of the books and in process, insert their data in between the rest, which could eventually make their money legal. Eventually, the banks got smarter. They moved from books to storage devices and softwares. But now, it became even easier to randomly insert data. And copy data into new data. Now, the struggle only remained as a tug of war between who knew more technology to get ahead of the other.</p>\n<p>Technology really just means the science of craft. But we‚Äôve taken it so closely to gadgets, that for us, technology merely means catching a Pokemon with a ball by swiping up, in our phone. Well, technically, it ain‚Äôt wrong. Just incomplete. We live in a world surrounded by gadgets and apps. Alexa, Uber, Instagram, WhatsApp, Facebook, Twitter, Google Home, even cars now, Tesla. How can the meaning not change. Technological advancements has been tremendous in the last few years. Technology has influenced every part of our lives. From managing data to transferring currency. We don‚Äôt go to the banks anymore to fill out a form and transfer money. We just use Paypal or Paytm. Excel sheets have paved ways to databases, and then distributed databases to enhance the further security and accessibility of data. Yes, the social websites that we visit to do give us a lot of exposure. But they also clearly sell out your data to potential buyers. Data encourages currency. But technology really is the one that supports it. But the more important question is, do you really care? If you did, you would lived a monk life so far. But you don‚Äôt. You want people to show you ads of that camera, that you viewed a hundred times but can‚Äôt afford. If there‚Äôs ever an offer or better price somewhere else or newer bran, you‚Äôll come to know about it. Isn‚Äôt that great? Of course it is. You may cower that you might not want to know about some other related item which even might get inappropriate sometime and I totally agree to it. But how will the systems learn and adapt to your needs and requirements if they are fed in with huge amounts of data on the same. Are they really breaching our privacy? Do we really need to shut them down. After-all, it‚Äôs our inability to read through the lengthy agreements of usage. We are in so hurry to get on-board the show, that we are ready to give it all up.</p>\n<p>Being said that, obviously we would want a control over own data. Not all of us want to know the nearest restaurant or asked to check-in every time we are near one. And I totally am on the same page with that as well. We must have control over our data. But at the same time be aware of the advantages that data can bring to us.\nTechnology as helped us use our data in the form of currency today. There are various data marketplaces even, where companies buy and sell data legally. You can also utilise such marketplaces to monetise your data, the way you would want it to be used.</p>\n<p>Put up your thoughts as to what you think the world should move on to the next phase of data privacy and sharing. Is it ok to come up on WikiLeaks and not on google or do we really want the control and are willing to spend time and give up the online social life to get free of that.</p>\n<p><em><a href=\"https://medium.com/@anistark/data-currency-and-technology-6b708e3f622a\">Originally posted on Medium</a></em></p>\n",
      "date_published": "2018-04-22T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/intro-to-blockchain/",
      "url": "https://blog.anirudha.dev/intro-to-blockchain/",
      "title": "Intro To Blockchain",
      "content_html": "<p>The first time I heard of blockchain was by being the distributed ledger that bitcoin uses. And I‚Äôm sure so have many of you, maybe still you believe the same. So, let‚Äôs take a trip down the years of how blockchain came to be and what it can be potentially.</p>\n<h2 id=\"origin\" tabindex=\"-1\">Origin</h2>\n<p>Satoshi Nakamoto was the inventor of the bitcoin protocol, publishing a <a href=\"https://bitcoin.org/bitcoin.pdf\">paper</a> via the <a href=\"https://www.metzdowd.com/mailman/listinfo/cryptography\">Cryptography Mailing List</a> in November 2008.\nHe then released the first version of the bitcoin software client in 2009, and participated with others on the project via mailing lists, until he finally began to fade from the community toward the end of 2010.\nNakamoto worked with people on the open-source team, but took care never to reveal anything personal about himself, and the last anyone heard from him was in the spring of 2011, when he said that he had ‚Äúmoved on to other things‚Äù. As of 2 February 2017, Nakamoto is believed to own up to roughly one million bitcoins,<a href=\"https://www.weforum.org\">3</a> with a value estimated at over US$1.1 billion.</p>\n<h2 id=\"bitcoin\" tabindex=\"-1\">Bitcoin</h2>\n<p>Bitcoin is a digital currency and a public ledger. Often the ledger is itself mistook to be what blockchain is. That‚Äôs not entirely true. Bitcoin as a ledger is a type of blockchain. Blockchain as a whole is the technology underlying bitcoin.</p>\n<blockquote>\n<p>‚Äú[Blockchain] is to Bitcoin, what the internet is to email. A big electronic system, on top of which you can build applications. Currency is just one.‚Äù\n‚Äî‚ÄäSally Davies, FT Technology Reporter</p>\n</blockquote>\n<p>So, let‚Äôs move on to what blockchain is.</p>\n<h2 id=\"blockchain\" tabindex=\"-1\">Blockchain</h2>\n<p>Blockchain by definition is <em>an open transparent distributed ledger</em>. That‚Äôs it. Nothing more. Nothing less. But you still feel confused. Let me explain what that definition means.</p>\n<p>Here‚Äôs what <a href=\"https://en.wikipedia.org/wiki/Vitalik_Buterin\">Vitalik Buterin</a>, the co-founder of <a href=\"https://www.ethereum.org\">Ethereum</a>(An open-source, public, blockchain-based distributed computing platform featuring smart contract (scripting) functionality) and the co-founder of <a href=\"https://bitcoinmagazine.com\">Bitcoin Magazine</a> says:</p>\n<blockquote>\n<p>‚ÄúA blockchain is a magic computer that anyone can upload programs to and leave the programs to self-execute, where the current and all previous states of every program are always publicly visible, and which carries a very strong crypto economically secured guarantee that programs running on the chain will continue to execute in exactly the way that the blockchain protocol specifies.‚Äù\n‚Äî‚ÄäVitalik Buterin</p>\n</blockquote>\n<p>Still not too clear? How about we take a look at how the <a href=\"https://www.weforum.org\">World Economic Forum</a> describes it with this video right here:</p>\n<p><a href=\"https://www.youtube.com/watch?v=6WG7D47tGb0\"><img src=\"https://img.youtube.com/vi/6WG7D47tGb0/0.jpg\" alt=\"Alt text\"></a></p>\n<p>Makes a little more sense. Deloitte explains blockchain something like this:</p>\n<blockquote>\n<p>You (a ‚Äúnode‚Äù) have a file of transactions on your computer (a ‚Äúledger‚Äù). Two government accountants (let‚Äôs call them ‚Äúminers‚Äù) have the same file on theirs (so it‚Äôs ‚Äúdistributed‚Äù). As you make a transaction, your computer sends an e-mail to each accountant to inform them.\nEach accountant rushes to be the first to check whether you can afford it (and be paid their salary ‚ÄúBitcoins‚Äù). The first to check and validate hits ‚ÄúREPLY ALL‚Äù, attaching their logic for verifying the transaction (‚ÄúProof of Work‚Äù). If the other accountant agrees, everyone updates their file‚Ä¶\nThis concept is enabled by ‚Äú<strong>Blockchain</strong>‚Äù technology.</p>\n</blockquote>\n<p>A pretty decent overview of the system. You must by now have a clear picture of what the blockchain is and can be turned into.</p>\n<h2 id=\"applicaitons\" tabindex=\"-1\">Applicaitons</h2>\n<p>The world has already started reacting to this massive revolution.</p>\n<p><strong>Honduras government</strong> has put all land records on a public ledger - the blockchain. The minute there is a change in ownership, it gets recorded publicly.</p>\n<p>The <strong>Australian Securities Exchange (ASX)</strong> announced that it would move Australia‚Äôs equities clearing and settlement system on to blockchain.</p>\n<p><a href=\"https://www.nasdaq.com\">Nasdaq</a> unveiled <a href=\"https://ir.nasdaq.com/releasedetail.cfm?releaseid=948326\">Linq</a>, a solution enabling private companies to digitally represent share ownership using blockchain-based technology.</p>\n<p><strong>ICICI Bank</strong> executes India‚Äôs first banking transactions on blockchain in partnership with Emirates NBD. Undertakes pilot transactions in international trade finance and remittance on blockchain.</p>\n<p><a href=\"https://www.ascribe.io\">Ascribe</a> lets artist themselves upload digital art, watermark it as the definitive version, and transfer it.</p>\n<p>And these are just a few examples of the many applications and areas blockchain is expanding it‚Äôs reach to.</p>\n<h2 id=\"future\" tabindex=\"-1\">Future</h2>\n<p>Blockchain is creating a biggest shift in paradigm the world has seen yet, since the days of world wide web. And it‚Äôs here to create the revolution that will blow your mind.</p>\n<p><a href=\"https://dontapscott.com\">Don Tapscott</a>, the author of many business and economics books and also the lead author of <a href=\"https://blockchain-revolution.com\">Blockchain Revolution</a>, says:</p>\n<blockquote>\n<p>‚ÄúThe technology likely to have the greatest impact on the next few decades has arrived. And it‚Äôs not social media. It‚Äôs not big data. It‚Äôs not robotics. It‚Äôs not even AI. You‚Äôll be surprised to learn that it‚Äôs the underlying technology of digital currencies like Bitcoin. It‚Äôs called the blockchain.‚Äù\n‚Äî‚ÄäDon Tapscott</p>\n</blockquote>\n<p>Needless to say what the future holds for blockchain and the huge potential blockchain can bring in to the current world.\nWe get not just to witness a revolution, but also be a part of it.</p>\n",
      "date_published": "2017-04-16T00:00:00Z"
    },{
      "id": "https://blog.anirudha.dev/consensus-decision-making/",
      "url": "https://blog.anirudha.dev/consensus-decision-making/",
      "title": "Consensus Decision Making",
      "content_html": "<h3 id=\"introduction-to-decision-making\" tabindex=\"-1\">Introduction to Decision Making</h3>\n<p>In psychology, decision-making is regarded as the cognitive process resulting in the selection of a belief or a course of action among several alternative possibilities.\nHuman performance with regard to decisions has been the subject of active research from several perspectives:</p>\n<ul>\n<li>\n<p><strong>Psychological</strong>: examining individual decisions in the context of a set of needs, preferences and values the individual has or seeks.</p>\n</li>\n<li>\n<p><strong>Cognitive</strong>: the decision-making process regarded as a continuous process integrated in the interaction with the\nenvironment.</p>\n</li>\n<li>\n<p><strong>Normative</strong>: the analysis of individual decisions concerned with the logic of decision-making, or communicative rationality, and the invariant choice it leads to.</p>\n</li>\n</ul>\n<h4 id=\"decision-making-techniques\" tabindex=\"-1\">Decision-making techniques</h4>\n<p>Decision-making techniques can be separated into two broad categories:</p>\n<ul>\n<li><strong>Group decision</strong>-making techniques and individual decision-making techniques.</li>\n<li><strong>Individual decision</strong>-making techniques can also often be applied by a group.</li>\n</ul>\n<h3 id=\"consensus-decision-making\" tabindex=\"-1\">Consensus decision-making</h3>\n<p>Consensus decision-making is a group decision-making process in which group members develop, and agree to support a decision in the best interest of the whole. Consensus may be defined professionally as an acceptable resolution, one that can be supported, even if not the ‚Äúfavourite‚Äù of each individual. It is a creative and dynamic way of reaching agreement between all members of a group. Instead of simply voting for an item and having the majority of the group getting their way, a group using consensus is committed to finding solutions that everyone actively supports, or at least can live with. The input and ideas of all participants are gathered and synthesised to arrive at a final decision acceptable to all. Through consensus, we are not only working to achieve better solutions, but also to promote the growth of community and trust.</p>\n<h3 id=\"consent\" tabindex=\"-1\">Consent</h3>\n<p>Giving consent does not necessarily mean that the proposal being considered is one‚Äôs first choice. Group members can vote their consent to a proposal because they choose to cooperate with the direction of the group, rather than insist on their personal preference. Sometimes the vote on a proposal is framed, ‚ÄúIs this proposal something you can live with?‚Äù This relaxed threshold for a yes vote can achieve full consent. This full consent, however, does not mean that everyone is in full agreement. Consent must be 'genuine and cannot be obtained by force, duress or fraud. The values of consensus are also not realized if ‚Äúconsent‚Äù is given because participants are frustrated with the process and wanting to move on.</p>\n<h3 id=\"sociocracy\" tabindex=\"-1\">Sociocracy</h3>\n<p>It furthermore paved way to a system of governance using consent decision making and an organisational structure based on cybernetic principles, i.e. a transdisciplinary approach for exploring regulatory systems‚Äîtheir structures, constraints, and possibilities‚Ä¶ It was called Sociocracy.\nSociocracy makes a distinction between ‚Äúconsent‚Äù and ‚Äúconsensus‚Äù in order to emphasize that circle decisions are not expected to produce ‚Äúa consensus‚Äù. It doesn‚Äôt mean agreement or solidarity. In sociocracy consent is defined as ‚Äúno objections,‚Äù and objections are based on one‚Äôs ability to work toward the aims of the organisation.\nSociocratisch Centrum co-founder Reijmer has summarised the difference as follows: <em>&quot;By consensus, I must convince you that I am in the right; by consent, you ask whether you can live with the decision.‚Äù</em></p>\n<h3 id=\"consensus-decision-making-in-making-of-a-start-up\" tabindex=\"-1\">Consensus Decision Making in Making of a Start-Up</h3>\n<p>By now, you must have had a pretty decent understanding on the clarity that consensus decision making can provide us and the advantages of it in a small company or a startup where a few people have to sit-tight in a room and decide over what business model they should go with.\nLet‚Äôs go over a model from the emergence of a startup:</p>\n<ol>\n<li>Introduce and clarify the issue to be decided.</li>\n<li>Explore the issue with your group and look for ideas amongst peers or partners or close friends.</li>\n<li>Look for emerging proposal. Sometimes this phase also results in a completely different idea than what was to be decided at all, which is turn deviates a startup from one business model to the next also known as pivot of idea.</li>\n<li>Discuss, clarify and amend your proposal.</li>\n<li>Test for agreements. Check for blocks, reservations, resolve them if needed and then it‚Äôs all good to proceed.</li>\n<li>Finally, implement the decision.</li>\n</ol>\n<h3 id=\"quick-decision-making\" tabindex=\"-1\">Quick Decision Making</h3>\n<p>However, consensus decision making process can be sometimes slower and we are in a cut throat world where multiple issues require our quick attention. In quick consensus we are cutting short the discussion part and paring it down to just one workable proposal with amendments. This is because you are aiming to make the best decision in the time you have. However, this model of decision making needs lots of practice in advance.\nIf you want to use this process, you‚Äôll need to discuss in advance the situations when you‚Äôll use it, and take time to explore the issues involved. That way you‚Äôll already know what people‚Äôs concerns and reactions might be when confronted with the situation. In effect, this is like having the discussion stage of the consensus process in advance, which will allow you to jump straight to the proposal stage in an urgent situation.</p>\n<h3 id=\"what-about-on-scale%3F\" tabindex=\"-1\">What about on scale?</h3>\n<p>We have by now come across multiple models to facilitate consensus decision making in small team or group. But what larger groups? Do we fall back to our democracy system and rely on voting? Well, not really. It‚Äôs more challenging to get an unanimous decision in such large group but nonetheless if and when achieved is inspiring in it‚Äôs own self.\nThe six steps for reaching consensus are the same as for small groups, but some steps may happen with everyone together and other steps may happen in small groups to enable in-depth discussion and participation.</p>\n<ul>\n<li><strong>Delegation</strong>: Avoiding micro-management is the key while delegating decisions, where the whole group decides in fine detail what needs to be done.</li>\n<li><strong>Large plenaries</strong>: The whole group comes together in one place, can be used to share information, to make proposals and for final decision making.</li>\n<li><strong>Working in small groups</strong>: People will be much more comfortable talking openly in a small group of 6-15 people. Working in small groups and teams also saves time. In every organisation the teams are formed for the same reason.</li>\n<li><strong>The spokes-council</strong>: Obviously after all that, given the huge size of group, someone has to sit and pass on the judgement and decide over convincing a team to another and make everyone reach one decision.</li>\n</ul>\n<p>Consensus is about co-operating to find solutions and not competing. An extremely effective decision making process which has advantages beyond expectations and I personally feel every organisation should adhere part of it or completely to it.</p>\n",
      "date_published": "2017-02-18T00:00:00Z"
    }
  ]
}
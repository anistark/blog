!function(){"use strict";const t=t=>"language"===t.className.substring(0,8);(()=>{const t=sessionStorage,e=t.getItem("dismissedPrivacyPolicyNotice"),n=document.getElementById("privacy-notice");if(!n)return;e&&n.classList.add("hidden");const o=document.getElementById("privacy-notice-button-container");o&&o.addEventListener("click",()=>{t.setItem("dismissedPrivacyPolicyNotice","true"),n.classList.add("hidden")})})(),(()=>{const e=document.getElementsByTagName("pre");if(!e)return;for(const n of e)t(n)&&(n.innerHTML=`<div class="copy">copy</div>${n.innerHTML}`);new ClipboardJS(".copy",{target:t=>t.nextElementSibling}).on("success",t=>{t.trigger.textContent="copied!",setTimeout(()=>{t.clearSelection(),t.trigger.textContent="copy"},2e3)})})(),function(){const t=document.getElementById("theme-toggle"),e=document.documentElement;"light"===(localStorage.getItem("theme")||"dark")&&e.setAttribute("data-theme","light"),t&&t.addEventListener("click",()=>{const t="light"===e.getAttribute("data-theme")?"dark":"light";"light"===t?e.setAttribute("data-theme","light"):e.removeAttribute("data-theme"),localStorage.setItem("theme",t)})}(),function(){const t=document.getElementById("load-more-btn"),e=document.getElementById("posts-container"),n=document.getElementById("loading-indicator"),o=document.getElementById("article-counter");if(!t||!e)return;let a=!1;async function i(){if(a)return;const i=t.getAttribute("data-next-page");if(i){a=!0,t.disabled=!0,t.classList.add("opacity-50","cursor-not-allowed"),n&&n.classList.remove("hidden");try{const n=await fetch(i);if(!n.ok)throw new Error("Failed to load more posts");const a=await n.text(),r=(new DOMParser).parseFromString(a,"text/html"),c=r.getElementById("posts-container");let s=0;if(c){const t=c.querySelectorAll(".post-item");s=t.length,t.forEach(t=>{e.appendChild(t.cloneNode(!0))})}const d=r.querySelector(".pagination-container"),l=d?.querySelector("#load-more-btn");if(l){const e=l.getAttribute("data-next-page"),n=l.getAttribute("data-current-page"),a=l.getAttribute("data-loaded-count");t.setAttribute("data-next-page",e),t.setAttribute("data-current-page",n),t.setAttribute("data-loaded-count",a);const i=t.getAttribute("data-total-count");o&&(o.textContent=`Loaded ${a} of ${i} articles`)}else{t.style.display="none";const e=t.getAttribute("data-total-count");o&&(o.textContent=`You've reached the end! (${e} articles total)`)}}catch(t){console.error("Error loading more posts:",t),alert("Failed to load more posts. Please try again.")}finally{a=!1,t.disabled=!1,t.classList.remove("opacity-50","cursor-not-allowed"),n&&n.classList.add("hidden")}}}t.addEventListener("click",i),new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&!a&&i()})},{rootMargin:"100px"})}()}();
